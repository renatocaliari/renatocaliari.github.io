(function(){
shadow$provide[360]=function(Y,Q,Ga,F){var A=Q(13);!function(B,w){"object"==typeof F&&"object"==typeof Ga?Ga.exports=w(Q(3),Q(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],w):"object"==typeof F?F.Excalidraw=w(Q(3),Q(12)):B.Excalidraw=w(B.React,B.ReactDOM)}(self,function(B,w){return(()=>{function u(E){if(a[E])return a[E].exports;var v=a[E]={id:E,exports:{}};return y[E](v,v.exports,u),v.exports}var m,k,r,y={5374:E=>{function v(l,H,K,P,R,ia,Z){try{var T=l[ia](Z),W=T.value}catch(V){return void K(V)}T.done?
H(W):Promise.resolve(W).then(P,R)}E.exports=function(l){return function(){var H=this,K=arguments;return new Promise(function(P,R){function ia(W){v(T,P,R,ia,Z,"next",W)}function Z(W){v(T,P,R,ia,Z,"throw",W)}var T=l.apply(H,K);ia(void 0)})}}},566:E=>{E.exports=function(v,l,H){return l in v?Object.defineProperty(v,l,{value:H,enumerable:!0,configurable:!0,writable:!0}):v[l]=H,v}},6950:E=>{function v(){return E.exports=v=Object.assign||function(l){for(var H=1;H<arguments.length;H++){var K=arguments[H],
P;for(P in K)Object.prototype.hasOwnProperty.call(K,P)&&(l[P]=K[P])}return l},v.apply(this,arguments)}E.exports=v},5474:(E,v,l)=>{var H=l(8387);E.exports=function(K,P){if(null==K)return{};var R,ia=H(K,P);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(K);for(R=0;R<Z.length;R++){var T=Z[R];0<=P.indexOf(T)||Object.prototype.propertyIsEnumerable.call(K,T)&&(ia[T]=K[T])}}return ia}},8387:E=>{E.exports=function(v,l){if(null==v)return{};var H,K={},P=Object.keys(v);for(H=0;H<P.length;H++){var R=
P[H];0<=l.indexOf(R)||(K[R]=v[R])}return K}},6009:(E,v,l)=>{v=l(487);l=l(8328);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},1395:(E,v,l)=>{v=l(487);l=l(6121);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},3211:(E,v,l)=>{v=l(487);l=l(2510);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||
{}},5574:(E,v,l)=>{v=l(487);l=l(7972);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4518:(E,v,l)=>{v=l(487);l=l(190);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},3040:(E,v,l)=>{v=l(487);l=l(6718);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8623:(E,v,l)=>{v=l(487);l=l(3623);
"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4193:(E,v,l)=>{v=l(487);l=l(103);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},341:(E,v,l)=>{v=l(487);l=l(7061);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},9705:(E,v,l)=>{v=l(487);l=l(1498);"string"==typeof(l=l.__esModule?l.default:
l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},7143:(E,v,l)=>{v=l(487);l=l(666);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},7428:(E,v,l)=>{v=l(487);l=l(849);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8465:(E,v,l)=>{v=l(487);l=l(6915);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",
singleton:!1});E.exports=l.locals||{}},8680:(E,v,l)=>{v=l(487);l=l(7030);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},205:(E,v,l)=>{v=l(487);l=l(3994);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8416:(E,v,l)=>{v=l(487);l=l(700);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||
{}},2816:(E,v,l)=>{v=l(487);l=l(287);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},1575:(E,v,l)=>{v=l(487);l=l(5657);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},7287:(E,v,l)=>{v=l(487);l=l(7392);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8518:(E,v,l)=>{v=l(487);l=l(6065);
"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},5849:(E,v,l)=>{v=l(487);l=l(83);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},9478:(E,v,l)=>{v=l(487);l=l(1554);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},2680:(E,v,l)=>{v=l(487);l=l(1970);"string"==typeof(l=l.__esModule?l.default:
l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},3142:(E,v,l)=>{v=l(487);l=l(961);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8234:(E,v,l)=>{v=l(487);l=l(4878);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4651:(E,v,l)=>{v=l(487);l=l(1988);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",
singleton:!1});E.exports=l.locals||{}},2189:(E,v,l)=>{v=l(487);l=l(3245);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);v(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},487:(E,v,l)=>{function H(pa){for(var ca=-1,da=0;da<V.length;da++)if(V[da].identifier===pa){ca=da;break}return ca}function K(pa,ca){for(var da={},fa=[],ta=0;ta<pa.length;ta++){var J=pa[ta],U=ca.base?J[0]+ca.base:J[0],oa=da[U]||0,ea="".concat(U," ").concat(oa);da[U]=oa+1;U=H(ea);J={css:J[1],media:J[2],sourceMap:J[3]};
-1!==U?(V[U].references++,V[U].updater(J)):V.push({identifier:ea,updater:Z(J,ca),references:1});fa.push(ea)}return fa}function P(pa){var ca=document.createElement("style"),da=pa.attributes||{};if(void 0===da.nonce){var fa=l.nc;fa&&(da.nonce=fa)}if(Object.keys(da).forEach(function(ta){ca.setAttribute(ta,da[ta])}),"function"==typeof pa.insert)pa.insert(ca);else{pa=W(pa.insert||"head");if(!pa)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
pa.appendChild(ca)}return ca}function R(pa,ca,da,fa){da=da?"":fa.media?"@media ".concat(fa.media," {").concat(fa.css,"}"):fa.css;pa.styleSheet?pa.styleSheet.cssText=Oa(ca,da):(da=document.createTextNode(da),fa=pa.childNodes,fa[ca]&&pa.removeChild(fa[ca]),fa.length?pa.insertBefore(da,fa[ca]):pa.appendChild(da))}function ia(pa,ca,da){ca=da.css;var fa=da.media;da=da.sourceMap;if(fa?pa.setAttribute("media",fa):pa.removeAttribute("media"),da&&"undefined"!=typeof btoa&&(ca+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(da)))),
" */")),pa.styleSheet)pa.styleSheet.cssText=ca;else{for(;pa.firstChild;)pa.removeChild(pa.firstChild);pa.appendChild(document.createTextNode(ca))}}function Z(pa,ca){if(ca.singleton){var da=Fa++;var fa=ha||(ha=P(ca));var ta=R.bind(null,fa,da,!1);var J=R.bind(null,fa,da,!0)}else fa=P(ca),ta=ia.bind(null,fa,ca),J=function(){if(null===fa.parentNode)var U=!1;else fa.parentNode.removeChild(fa),U=void 0;!U};return ta(pa),function(U){U?(U.css!==pa.css||U.media!==pa.media||U.sourceMap!==pa.sourceMap)&&ta(pa=
U):J()}}var T,W=function(){var pa={};return function(ca){if(void 0===pa[ca]){var da=document.querySelector(ca);if(window.HTMLIFrameElement&&da instanceof window.HTMLIFrameElement)try{da=da.contentDocument.head}catch(fa){da=null}pa[ca]=da}return pa[ca]}}(),V=[],Ea,Oa=(Ea=[],function(pa,ca){return Ea[pa]=ca,Ea.filter(Boolean).join("\n")}),ha=null,Fa=0;E.exports=function(pa,ca){(ca=ca||{}).singleton||"boolean"==typeof ca.singleton||(ca.singleton=(void 0===T&&(T=!(!(window&&document&&document.all)||window.atob)),
T));var da=K(pa=pa||[],ca);return function(fa){if(fa=fa||[],"[object Array]"===Object.prototype.toString.call(fa)){for(var ta=0;ta<da.length;ta++){var J=H(da[ta]);V[J].references--}fa=K(fa,ca);for(ta=0;ta<da.length;ta++)J=H(da[ta]),0===V[J].references&&(V[J].updater(),V.splice(J,1));da=fa}}}},2829:E=>{E.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:E=>{E.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(E,v,l)=>{function H(P){if(!l.o(K,P))return Promise.resolve().then(()=>
{var Z=Error("Cannot find module '"+P+"'");throw Z.code="MODULE_NOT_FOUND",Z;});var R=K[P],ia=R[0];return Promise.all(R.slice(1).map(l.e)).then(()=>l.t(ia,3))}var K={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};H.keys=()=>Object.keys(K);H.id=788;E.exports=H},7154:E=>{function v(){return E.exports=v=Object.assign||function(l){for(var H=1;H<arguments.length;H++){var K=arguments[H],P;for(P in K)Object.prototype.hasOwnProperty.call(K,P)&&(l[P]=K[P])}return l},v.apply(this,arguments)}E.exports=v},6479:(E,v,l)=>{var H=l(7316);E.exports=function(K,P){if(null==K)return{};var R,ia=H(K,P);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(K);
for(R=0;R<Z.length;R++){var T=Z[R];0<=P.indexOf(T)||Object.prototype.propertyIsEnumerable.call(K,T)&&(ia[T]=K[T])}}return ia}},7316:E=>{E.exports=function(v,l){if(null==v)return{};var H,K={},P=Object.keys(v);for(H=0;H<P.length;H++){var R=P[H];0<=l.indexOf(R)||(K[R]=v[R])}return K}},8328:(E,v,l)=>{l.r(v);l.d(v,{default:()=>P});v=l(3645);var H=l.n(v);v=l(1667);v=l.n(v);var K=l(7464);l=l(9638);H=H()(function(R){return R[1]});K=v()(K.Z);l=v()(l.Z);H.push([E.id,'@font-face{font-family:"Virgil";src:url('+
K+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+l+");font-display:swap}",""]);const P=H},6121:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const H=l},2510:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const H=l},7972:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const H=l},190:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const H=l},6718:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const H=l},3623:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const H=l},103:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const H=l},7061:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);
l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const H=l},1498:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const H=l},666:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const H=l},849:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const H=l},6915:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});
v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const H=l},7030:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const H=l},3994:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const H=l},700:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const H=l},287:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const H=l},5657:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const H=l},7392:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const H=l},6065:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const H=l},83:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const H=l},1554:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const H=l},1970:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const H=l},961:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const H=l},4878:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const H=l},1988:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const H=l},3245:(E,v,l)=>{l.r(v);l.d(v,{default:()=>H});v=l(3645);l=l.n(v)()(function(K){return K[1]});l.push([E.id,"",""]);l.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const H=l},3645:E=>{E.exports=function(v){var l=[];return l.toString=function(){return this.map(function(H){var K=v(H);return H[2]?"@media ".concat(H[2]," {").concat(K,"}"):K}).join("")},l.i=function(H,K,P){"string"==typeof H&&(H=[[null,
H,""]]);var R={};if(P)for(var ia=0;ia<this.length;ia++){var Z=this[ia][0];null!=Z&&(R[Z]=!0)}for(ia=0;ia<H.length;ia++)Z=[].concat(H[ia]),P&&R[Z[0]]||(K&&(Z[2]?Z[2]="".concat(K," and ").concat(Z[2]):Z[2]=K),l.push(Z))},l}},1667:E=>{E.exports=function(v,l){return l||(l={}),"string"!=typeof(v=v&&v.__esModule?v.default:v)?v:(/^['"].*['"]$/.test(v)&&(v=v.slice(1,-1)),l.hash&&(v+=l.hash),/["'() \t\n]/.test(v)||l.needQuotes?'"'.concat(v.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):v)}},9638:(E,v,l)=>{l.d(v,
{Z:()=>H});const H=l.p+"excalidraw-assets/Cascadia.woff2"},7464:(E,v,l)=>{l.d(v,{Z:()=>H});const H=l.p+"excalidraw-assets/Virgil.woff2"},8288:(E,v,l)=>{l.d(v,{iC:()=>K,f:()=>P,qx:()=>R,Iw:()=>ia,$e:()=>Z,wZ:()=>T,ay:()=>W,oc:()=>V,Oh:()=>Ea,Ks:()=>H,Vi:()=>Oa,$C:()=>ha,ut:()=>Fa,_D:()=>pa,n5:()=>ca,rk:()=>da,Hg:()=>fa,hs:()=>ta,eQ:()=>J,k:()=>U,LO:()=>oa,I:()=>ea,Gj:()=>Da,nM:()=>cb,Lg:()=>Ja,HM:()=>Qa,V4:()=>ib,EH:()=>zb,Gi:()=>Fb});var H;E=l(2189);l=l.n(E);var K="Excalidraw",P=10,R=8,ia=5,Z=1,T=
30,W=Math.PI/12,V={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},Ea={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(ab){ab.COPY="copy";ab.PASTE="paste";ab.CUT="cut";ab.KEYDOWN="keydown";ab.KEYUP="keyup";ab.MOUSE_MOVE="mousemove";ab.RESIZE="resize";ab.UNLOAD="unload";ab.BLUR="blur";ab.DRAG_OVER="dragover";ab.DROP="drop";ab.GESTURE_END="gestureend";ab.BEFORE_UNLOAD="beforeunload";ab.GESTURE_START="gesturestart";ab.GESTURE_CHANGE="gesturechange";ab.POINTER_MOVE=
"pointermove";ab.POINTER_UP="pointerup";ab.STATE_CHANGE="statechange";ab.WHEEL="wheel";ab.TOUCH_START="touchstart";ab.TOUCH_END="touchend";ab.HASHCHANGE="hashchange";ab.VISIBILITY_CHANGE="visibilitychange";ab.SCROLL="scroll"}(H||(H={}));var Oa={TEST:"test",DEVELOPMENT:"development"},ha={SHAPE_ACTIONS_MENU:"App-menu__left"},Fa={1:"Virgil",2:"Helvetica",3:"Cascadia"},pa="Segoe UI Emoji",ca=20,da=1,fa="left",ta="top",J="{version}",U=20,oa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ea={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},Da=300,cb=500,Ja=5E3,Qa=100,ib=.1,zb={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Fb=l().appearanceFilter},3956:(E,v,l)=>{function H(d,g){return Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)}function K(d,g,h){return[d[0]+(g[0]-d[0])*h,d[1]+(g[1]-d[1])*h]}function P(d,g,h,t){t=t||[];{var D=d[g+0],L=d[g+1];var aa=d[g+2];const ra=d[g+3];var X=3*L[0]-2*D[0]-ra[0];X*=X;L=3*L[1]-2*D[1]-ra[1];L*=L;let Ua=3*aa[0]-2*ra[0]-D[0];Ua*=Ua;D=3*aa[1]-2*ra[1]-D[1];
aa=(D*=D,X<Ua&&(X=Ua),L<D&&(L=D),X+L)}aa<h?(h=d[g+0],t.length?1<(ma=t[t.length-1],wa=h,Math.sqrt(H(ma,wa)))&&t.push(h):t.push(h),t.push(d[g+3])):(ma=d[g+0],X=d[g+1],wa=d[g+2],d=d[g+3],g=K(ma,X,.5),L=K(X,wa,.5),wa=K(wa,d,.5),X=K(g,L,.5),L=K(L,wa,.5),D=K(X,L,.5),P([ma,g,X,D],0,h,t),P([D,L,wa,d],0,h,t));var ma,wa;return t}function R(d,g){return ia(d,0,d.length,g)}function ia(d,g,h,t,D){D=D||[];const L=d[g],aa=d[h-1];let X=0,ma=1;for(let Ya=g+1;Ya<h-1;++Ya){var wa=d[Ya];var ra=L,Ua=aa,Xa=H(ra,Ua);0===
Xa?wa=H(wa,ra):(Xa=((wa[0]-ra[0])*(Ua[0]-ra[0])+(wa[1]-ra[1])*(Ua[1]-ra[1]))/Xa,wa=(Xa=Math.max(0,Math.min(1,Xa)),H(wa,K(ra,Ua,Xa))));wa>X&&(X=wa,ma=Ya)}return Math.sqrt(X)>t?(ia(d,g,ma+1,t,D),ia(d,ma,h,t,D)):(D.length||D.push(L),D.push(aa)),D}function Z(d,g=.15,h){const t=[],D=(d.length-1)/3;for(let L=0;L<D;L++)P(d,3*L,g,t);return h&&0<h?ia(t,0,t.length,h):t}function T(d,g,h){if(d&&d.length){const [t,D]=g;g=Math.PI/180*h;const L=Math.cos(g),aa=Math.sin(g);d.forEach(X=>{const [ma,wa]=X;X[0]=(ma-t)*
L-(wa-D)*aa+t;X[1]=(ma-t)*aa+(wa-D)*L+D})}}function W(d){const g=d[0];d=d[1];return Math.sqrt(Math.pow(g[0]-d[0],2)+Math.pow(g[1]-d[1],2))}function V(d,g,h,t){const D=g[1]-d[1];g=d[0]-g[0];d=D*d[0]+g*d[1];const L=t[1]-h[1];t=h[0]-t[0];h=L*h[0]+t*h[1];const aa=D*t-L*g;return aa?[(t*d-g*h)/aa,(D*h-L*d)/aa]:null}function Ea(d,g,h){const t=d.length;if(3>t)return!1;const D=[Number.MAX_SAFE_INTEGER,h];g=[g,h];h=0;for(let L=0;L<t;L++){const aa=d[L],X=d[(L+1)%t];if(Fa(aa,X,g,D)){if(0===ha(aa,g,X))return Oa(aa,
g,X);h++}}return 1==h%2}function Oa(d,g,h){return g[0]<=Math.max(d[0],h[0])&&g[0]>=Math.min(d[0],h[0])&&g[1]<=Math.max(d[1],h[1])&&g[1]>=Math.min(d[1],h[1])}function ha(d,g,h){d=(g[1]-d[1])*(h[0]-g[0])-(g[0]-d[0])*(h[1]-g[1]);return 0===d?0:0<d?1:2}function Fa(d,g,h,t){const D=ha(d,g,h),L=ha(d,g,t),aa=ha(h,t,d),X=ha(h,t,g);return D!==L&&aa!==X||!(0!==D||!Oa(d,h,g))||!(0!==L||!Oa(d,t,g))||!(0!==aa||!Oa(h,d,t))||!(0!==X||!Oa(h,g,t))}function pa(d,g){const h=[0,0],t=Math.round(g.hachureAngle+90);t&&
T(d,h,t);g=function(D,L){var aa=[...D];aa[0].join(",")!==aa[aa.length-1].join(",")&&aa.push([aa[0][0],aa[0][1]]);D=[];if(aa&&2<aa.length){let ma=L.hachureGap;0>ma&&(ma=4*L.strokeWidth);ma=Math.max(ma,.1);L=[];for(var X=0;X<aa.length-1;X++){const Ua=aa[X],Xa=aa[X+1];if(Ua[1]!==Xa[1]){const Ya=Math.min(Ua[1],Xa[1]);L.push({ymin:Ya,ymax:Math.max(Ua[1],Xa[1]),x:Ya===Ua[1]?Ua[0]:Xa[0],islope:(Xa[0]-Ua[0])/(Xa[1]-Ua[1])})}}if(L.sort((Ua,Xa)=>Ua.ymin<Xa.ymin?-1:Ua.ymin>Xa.ymin?1:Ua.x<Xa.x?-1:Ua.x>Xa.x?1:
Ua.ymax===Xa.ymax?0:(Ua.ymax-Xa.ymax)/Math.abs(Ua.ymax-Xa.ymax)),!L.length)return D;let wa=[],ra=L[0].ymin;for(;wa.length||L.length;){if(L.length){aa=-1;for(X=0;X<L.length&&!(L[X].ymin>ra);X++)aa=X;L.splice(0,aa+1).forEach(Ua=>{wa.push({s:ra,edge:Ua})})}if(wa=wa.filter(Ua=>!(Ua.edge.ymax<=ra)),wa.sort((Ua,Xa)=>Ua.edge.x===Xa.edge.x?0:(Ua.edge.x-Xa.edge.x)/Math.abs(Ua.edge.x-Xa.edge.x)),1<wa.length)for(aa=0;aa<wa.length;aa+=2){X=aa+1;if(X>=wa.length)break;D.push([[Math.round(wa[aa].edge.x),ra],[Math.round(wa[X].edge.x),
ra]])}ra+=ma;wa.forEach(Ua=>{Ua.edge.x+=ma*Ua.edge.islope})}}return D}(d,g);return t&&(T(d,h,-t),function(D,L,aa){const X=[];D.forEach(ma=>X.push(...ma));T(X,L,aa)}(g,h,-t)),g}function ca(d){const g=[];a:{var h=d;for(var t=[];""!==h;){if(!h.match(/^([ \t\r\n,]+)/))if(h.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1};else{if(!h.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){h=[];break a}t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}h=h.substr(RegExp.$1.length)}h=
(t[t.length]={type:2,text:""},t)}t="BOD";let D=0;for(var L=h[D];2!==L.type;){let aa=0;const X=[];if("BOD"===t){if("M"!==L.text&&"m"!==L.text)return ca("M0,0"+d);D++;aa=wg[L.text];t=L.text}else 1===L.type?aa=wg[t]:(D++,aa=wg[L.text],t=L.text);if(!(D+aa<h.length))throw Error("Path data ended short");for(L=D;L<D+aa;L++){const ma=h[L];if(1!==ma.type)throw Error("Param not a number: "+t+","+ma.text);X[X.length]=+ma.text}if("number"!=typeof wg[t])throw Error("Bad segment: "+t);g.push({key:t,data:X});D+=
aa;L=h[D];"M"===t&&(t="L");"m"===t&&(t="l")}return g}function da(d){let g=0,h=0,t=0,D=0;const L=[];for(const {key:aa,data:X}of d)switch(aa){case "M":L.push({key:"M",data:[...X]});[g,h]=X;[t,D]=X;break;case "m":g+=X[0];h+=X[1];L.push({key:"M",data:[g,h]});t=g;D=h;break;case "L":L.push({key:"L",data:[...X]});[g,h]=X;break;case "l":g+=X[0];h+=X[1];L.push({key:"L",data:[g,h]});break;case "C":L.push({key:"C",data:[...X]});g=X[4];h=X[5];break;case "c":d=X.map((ma,wa)=>wa%2?ma+h:ma+g);L.push({key:"C",data:d});
g=d[4];h=d[5];break;case "Q":L.push({key:"Q",data:[...X]});g=X[2];h=X[3];break;case "q":d=X.map((ma,wa)=>wa%2?ma+h:ma+g);L.push({key:"Q",data:d});g=d[2];h=d[3];break;case "A":L.push({key:"A",data:[...X]});g=X[5];h=X[6];break;case "a":g+=X[5];h+=X[6];L.push({key:"A",data:[X[0],X[1],X[2],X[3],X[4],g,h]});break;case "H":L.push({key:"H",data:[...X]});g=X[0];break;case "h":g+=X[0];L.push({key:"H",data:[g]});break;case "V":L.push({key:"V",data:[...X]});h=X[0];break;case "v":h+=X[0];L.push({key:"V",data:[h]});
break;case "S":L.push({key:"S",data:[...X]});g=X[2];h=X[3];break;case "s":d=X.map((ma,wa)=>wa%2?ma+h:ma+g);L.push({key:"S",data:d});g=d[2];h=d[3];break;case "T":L.push({key:"T",data:[...X]});g=X[0];h=X[1];break;case "t":g+=X[0];h+=X[1];L.push({key:"T",data:[g,h]});break;case "Z":case "z":L.push({key:"Z",data:[]}),g=t,h=D}return L}function fa(d){const g=[];var h="";let t=0,D=0,L=0,aa=0,X=0,ma=0;for(const {key:ra,data:Ua}of d){switch(ra){case "M":g.push({key:"M",data:[...Ua]});[t,D]=Ua;[L,aa]=Ua;break;
case "C":g.push({key:"C",data:[...Ua]});t=Ua[4];D=Ua[5];X=Ua[2];ma=Ua[3];break;case "L":g.push({key:"L",data:[...Ua]});[t,D]=Ua;break;case "H":t=Ua[0];g.push({key:"L",data:[t,D]});break;case "V":D=Ua[0];g.push({key:"L",data:[t,D]});break;case "S":var wa=d=0;"C"===h||"S"===h?(d=t+(t-X),wa=D+(D-ma)):(d=t,wa=D);g.push({key:"C",data:[d,wa,...Ua]});X=Ua[0];ma=Ua[1];t=Ua[2];D=Ua[3];break;case "T":{const [Xa,Ya]=Ua;wa=d=0;"Q"===h||"T"===h?(d=t+(t-X),wa=D+(D-ma)):(d=t,wa=D);g.push({key:"C",data:[t+2*(d-t)/
3,D+2*(wa-D)/3,Xa+2*(d-Xa)/3,Ya+2*(wa-Ya)/3,Xa,Ya]});X=d;ma=wa;t=Xa;D=Ya;break}case "Q":{const [Xa,Ya,ub,rb]=Ua;g.push({key:"C",data:[t+2*(Xa-t)/3,D+2*(Ya-D)/3,ub+2*(Xa-ub)/3,rb+2*(Ya-rb)/3,ub,rb]});X=Xa;ma=Ya;t=ub;D=rb;break}case "A":{h=Math.abs(Ua[0]);d=Math.abs(Ua[1]);wa=Ua[2];const Xa=Ua[3],Ya=Ua[4],ub=Ua[5],rb=Ua[6];if(0===h||0===d)g.push({key:"C",data:[t,D,ub,rb,ub,rb]}),t=ub,D=rb;else if(t!==ub||D!==rb)J(t,D,ub,rb,h,d,wa,Xa,Ya).forEach(function(Ub){g.push({key:"C",data:Ub})}),t=ub,D=rb;break}case "Z":g.push({key:"Z",
data:[]}),t=L,D=aa}h=ra}return g}function ta(d,g,h){return[d*Math.cos(h)-g*Math.sin(h),d*Math.sin(h)+g*Math.cos(h)]}function J(d,g,h,t,D,L,aa,X,ma,wa){const ra=(Ua=aa,Math.PI*Ua/180);var Ua;Ua=[];if(wa)[X,Xa,Ya,ub]=wa;else{[d,g]=ta(d,g,-ra);[h,t]=ta(h,t,-ra);var Xa=(d-h)/2;var Ya=(g-t)/2;var ub=Xa*Xa/(D*D)+Ya*Ya/(L*L);1<ub&&(ub=Math.sqrt(ub),D*=ub,L*=ub);ub=D*D;var rb=L*L;X=(X===ma?-1:1)*Math.sqrt(Math.abs((ub*rb-ub*Ya*Ya-rb*Xa*Xa)/(ub*Ya*Ya+rb*Xa*Xa)));Ya=X*D*Ya/L+(d+h)/2;ub=X*-L*Xa/D+(g+t)/2;X=
Math.asin(parseFloat(((g-ub)/L).toFixed(9)));Xa=Math.asin(parseFloat(((t-ub)/L).toFixed(9)));d<Ya&&(X=Math.PI-X);h<Ya&&(Xa=Math.PI-Xa);0>X&&(X=2*Math.PI+X);0>Xa&&(Xa=2*Math.PI+Xa);ma&&X>Xa&&(X-=2*Math.PI);!ma&&Xa>X&&(Xa-=2*Math.PI)}if(Math.abs(Xa-X)>120*Math.PI/180){Ua=Xa;rb=h;const Ub=t;Xa=ma&&Xa>X?X+120*Math.PI/180:X+120*Math.PI/180*-1;Ua=J(h=Ya+D*Math.cos(Xa),t=ub+L*Math.sin(Xa),rb,Ub,D,L,aa,0,ma,[Xa,Ua,Ya,ub])}aa=Math.tan((Xa-X)/4);D=4/3*D*aa;aa*=4/3*L;L=[d,g];d=[d+D*Math.sin(X),g-aa*Math.cos(X)];
g=[h+D*Math.sin(Xa),t-aa*Math.cos(Xa)];h=[h,t];if(d[0]=2*L[0]-d[0],d[1]=2*L[1]-d[1],wa)return[d,g,h].concat(Ua);Ua=[d,g,h].concat(Ua);wa=[];for(h=0;h<Ua.length;h+=3)t=ta(Ua[h][0],Ua[h][1],ra),d=ta(Ua[h+1][0],Ua[h+1][1],ra),g=ta(Ua[h+2][0],Ua[h+2][1],ra),wa.push([t[0],t[1],d[0],d[1],g[0],g[1]]);return wa}function U(d,g,h){const t=(d||[]).length;if(2<t){const D=[];for(let L=0;L<t-1;L++)D.push(...ab(d[L][0],d[L][1],d[L+1][0],d[L+1][1],h));return g&&D.push(...ab(d[t-1][0],d[t-1][1],d[0][0],d[0][1],h)),
{type:"path",ops:D}}return 2===t?{type:"path",ops:ab(d[0][0],d[0][1],d[1][0],d[1][1],h)}:{type:"path",ops:[]}}function oa(d,g){let h=tc(d,1+.2*g.roughness,g);if(!g.disableMultiStroke){var t=1.5*(1+.22*g.roughness);{const D=Object.assign({},g);D.randomizer=void 0;g.seed&&(D.seed=g.seed+1);g=D}d=tc(d,t,g);h=h.concat(d)}return{type:"path",ops:h}}function ea(d,g,h){const t=2*Math.PI/Math.max(h.curveStepCount,h.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(g/2,2))/
2)));d=Math.abs(d/2);g=Math.abs(g/2);const D=1-h.curveFitting;return d+=Fb(d*D,h),g+=Fb(g*D,h),{increment:t,rx:d,ry:g}}function Da(d,g,h,t){const [D,L]=Gc(t.increment,d,g,t.rx,t.ry,1,t.increment*zb(.1,zb(.4,1,h),h),h);let aa=bc(D,null,h);h.disableMultiStroke||([d]=Gc(t.increment,d,g,t.rx,t.ry,1.5,0,h),h=bc(d,null,h),aa=aa.concat(h));return{estimatedPoints:L,opset:{type:"path",ops:aa}}}function cb(d,g,h,t,D,L,aa,X,ma){h=Math.abs(h/2);t=Math.abs(t/2);h+=Fb(.01*h,ma);for(t+=Fb(.01*t,ma);0>D;)D+=2*Math.PI,
L+=2*Math.PI;L-D>2*Math.PI&&(D=0,L=2*Math.PI);var wa=Math.min(2*Math.PI/ma.curveStepCount/2,(L-D)/2);const ra=Oc(wa,d,g,h,t,D,L,1,ma);ma.disableMultiStroke||(wa=Oc(wa,d,g,h,t,D,L,1.5,ma),ra.push(...wa));return aa&&(X?ra.push(...ab(d,g,d+h*Math.cos(D),g+t*Math.sin(D),ma),...ab(d,g,d+h*Math.cos(L),g+t*Math.sin(L),ma)):ra.push({op:"lineTo",data:[d,g]},{op:"lineTo",data:[d+h*Math.cos(D),g+t*Math.sin(D)]})),{type:"path",ops:ra}}function Ja(d,g){const h=[];if(d.length){const t=g.maxRandomnessOffset||0,
D=d.length;if(2<D){h.push({op:"move",data:[d[0][0]+Fb(t,g),d[0][1]+Fb(t,g)]});for(let L=1;L<D;L++)h.push({op:"lineTo",data:[d[L][0]+Fb(t,g),d[L][1]+Fb(t,g)]})}}return{type:"fillPath",ops:h}}function Qa(d,g){{var h=Yi;let t=g.fillStyle||"hachure";if(!Rc[t])switch(t){case "zigzag":Rc[t]||(Rc[t]=new kf(h));break;case "cross-hatch":Rc[t]||(Rc[t]=new pf(h));break;case "dots":Rc[t]||(Rc[t]=new Wg(h));break;case "dashed":Rc[t]||(Rc[t]=new Yd(h));break;case "zigzag-line":Rc[t]||(Rc[t]=new gi(h));break;default:t=
"hachure",Rc[t]||(Rc[t]=new Vf(h))}h=Rc[t]}return h.fillPolygon(d,g)}function ib(d){return d.randomizer||(d.randomizer=new pk(d.seed||0)),d.randomizer.next()}function zb(d,g,h,t=1){return h.roughness*t*(ib(h)*(g-d)+d)}function Fb(d,g,h=1){return zb(-d,d,g,h)}function ab(d,g,h,t,D,L=!1){const aa=L?D.disableMultiStrokeFill:D.disableMultiStroke;L=kc(d,g,h,t,D,!0,!1);if(aa)return L;d=kc(d,g,h,t,D,!0,!0);return L.concat(d)}function kc(d,g,h,t,D,L,aa){var X=Math.pow(d-h,2)+Math.pow(g-t,2),ma=Math.sqrt(X);
let wa;wa=200>ma?1:500<ma?.4:-.0016668*ma+1.233334;let ra=D.maxRandomnessOffset||0;ra*ra*100>X&&(ra=ma/10);X=ra/2;ma=.2+.2*ib(D);let Ua=D.bowing*D.maxRandomnessOffset*(t-g)/200,Xa=D.bowing*D.maxRandomnessOffset*(d-h)/200;Ua=Fb(Ua,D,wa);Xa=Fb(Xa,D,wa);const Ya=[];return L&&(aa?Ya.push({op:"move",data:[d+Fb(X,D,wa),g+Fb(X,D,wa)]}):Ya.push({op:"move",data:[d+Fb(ra,D,wa),g+Fb(ra,D,wa)]})),aa?Ya.push({op:"bcurveTo",data:[Ua+d+(h-d)*ma+Fb(X,D,wa),Xa+g+(t-g)*ma+Fb(X,D,wa),Ua+d+2*(h-d)*ma+Fb(X,D,wa),Xa+g+
2*(t-g)*ma+Fb(X,D,wa),h+Fb(X,D,wa),t+Fb(X,D,wa)]}):Ya.push({op:"bcurveTo",data:[Ua+d+(h-d)*ma+Fb(ra,D,wa),Xa+g+(t-g)*ma+Fb(ra,D,wa),Ua+d+2*(h-d)*ma+Fb(ra,D,wa),Xa+g+2*(t-g)*ma+Fb(ra,D,wa),h+Fb(ra,D,wa),t+Fb(ra,D,wa)]}),Ya}function tc(d,g,h){const t=[];t.push([d[0][0]+Fb(g,h),d[0][1]+Fb(g,h)]);t.push([d[0][0]+Fb(g,h),d[0][1]+Fb(g,h)]);for(let D=1;D<d.length;D++)t.push([d[D][0]+Fb(g,h),d[D][1]+Fb(g,h)]),D===d.length-1&&t.push([d[D][0]+Fb(g,h),d[D][1]+Fb(g,h)]);return bc(t,null,h)}function bc(d,g,h){const t=
d.length,D=[];if(3<t){const L=[],aa=1-h.curveTightness;D.push({op:"move",data:[d[1][0],d[1][1]]});for(let X=1;X+2<t;X++){const ma=d[X];L[0]=[ma[0],ma[1]];L[1]=[ma[0]+(aa*d[X+1][0]-aa*d[X-1][0])/6,ma[1]+(aa*d[X+1][1]-aa*d[X-1][1])/6];L[2]=[d[X+1][0]+(aa*d[X][0]-aa*d[X+2][0])/6,d[X+1][1]+(aa*d[X][1]-aa*d[X+2][1])/6];L[3]=[d[X+1][0],d[X+1][1]];D.push({op:"bcurveTo",data:[L[1][0],L[1][1],L[2][0],L[2][1],L[3][0],L[3][1]]})}g&&2===g.length&&(d=h.maxRandomnessOffset,D.push({op:"lineTo",data:[g[0]+Fb(d,h),
g[1]+Fb(d,h)]}))}else 3===t?(D.push({op:"move",data:[d[1][0],d[1][1]]}),D.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===t&&D.push(...ab(d[0][0],d[0][1],d[1][0],d[1][1],h));return D}function Gc(d,g,h,t,D,L,aa,X){const ma=[],wa=[],ra=Fb(.5,X)-Math.PI/2;wa.push([Fb(L,X)+g+.9*t*Math.cos(ra-d),Fb(L,X)+h+.9*D*Math.sin(ra-d)]);for(let Ua=ra;Ua<2*Math.PI+ra-.01;Ua+=d){const Xa=[Fb(L,X)+g+t*Math.cos(Ua),Fb(L,X)+h+D*Math.sin(Ua)];ma.push(Xa);wa.push(Xa)}return wa.push([Fb(L,
X)+g+t*Math.cos(ra+2*Math.PI+.5*aa),Fb(L,X)+h+D*Math.sin(ra+2*Math.PI+.5*aa)]),wa.push([Fb(L,X)+g+.98*t*Math.cos(ra+aa),Fb(L,X)+h+.98*D*Math.sin(ra+aa)]),wa.push([Fb(L,X)+g+.9*t*Math.cos(ra+.5*aa),Fb(L,X)+h+.9*D*Math.sin(ra+.5*aa)]),[wa,ma]}function Oc(d,g,h,t,D,L,aa,X,ma){var wa=L+Fb(.1,ma);L=[];for(L.push([Fb(X,ma)+g+.9*t*Math.cos(wa-d),Fb(X,ma)+h+.9*D*Math.sin(wa-d)]);wa<=aa;wa+=d)L.push([Fb(X,ma)+g+t*Math.cos(wa),Fb(X,ma)+h+D*Math.sin(wa)]);return L.push([g+t*Math.cos(aa),h+D*Math.sin(aa)]),L.push([g+
t*Math.cos(aa),h+D*Math.sin(aa)]),bc(L,null,ma)}function gc(d,g,h,t,D,L,aa,X){const ma=[],wa=[X.maxRandomnessOffset||1,(X.maxRandomnessOffset||1)+.3];let ra;const Ua=X.disableMultiStroke?1:2;for(let Xa=0;Xa<Ua;Xa++)0===Xa?ma.push({op:"move",data:[aa[0],aa[1]]}):ma.push({op:"move",data:[aa[0]+Fb(wa[0],X),aa[1]+Fb(wa[0],X)]}),ra=[D+Fb(wa[Xa],X),L+Fb(wa[Xa],X)],ma.push({op:"bcurveTo",data:[d+Fb(wa[Xa],X),g+Fb(wa[Xa],X),h+Fb(wa[Xa],X),t+Fb(wa[Xa],X),ra[0],ra[1]]});return ma}function Dc(d){var g,h,t="";
if("string"==typeof d||"number"==typeof d)t+=d;else if("object"==typeof d)if(Array.isArray(d))for(g=0;g<d.length;g++)d[g]&&(h=Dc(d[g]))&&(t&&(t+=" "),t+=h);else for(g in d)d[g]&&(t&&(t+=" "),t+=g);return t}function uc(){for(var d,g,h=0,t="";h<arguments.length;)(d=arguments[h++])&&(g=Dc(d))&&(t&&(t+=" "),t+=g);return t}function nd(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));
h.push.apply(h,t)}return h}function sb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?nd(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):nd(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Xb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,
D).enumerable}));h.push.apply(h,t)}return h}function Wa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Xb(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Xb(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Ta(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);
g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Pa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ta(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ta(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Ka(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function za(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ka(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ka(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,
t))})}return d}function La(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Va(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?La(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):La(Object(h)).forEach(function(t){Object.defineProperty(d,
t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Ab(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function yb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Wb(d){for(var g=
1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?yb(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):yb(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function ec(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,
D).enumerable}));h.push.apply(h,t)}return h}function qc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?ec(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):ec(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function $b(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);
g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Hc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?$b(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):$b(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Ed(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Zc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ed(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ed(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,
t))})}return d}function Td(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Ee(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Td(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Td(Object(h)).forEach(function(t){Object.defineProperty(d,
t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Pe(d){var g=d.options,h=d.value,t=d.label,D=d.onChange,L=d.onClose,aa=na().useRef(),X=na().useRef(),ma=na().useRef(null);na().useEffect(function(){X.current?X.current.focus():ma.current&&ma.current.focus()},[]);return na().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":t,onKeyDown:function(wa){var ra=g.find(function(ub){return ub.keyBinding===wa.key.toLowerCase()});if(wa.metaKey||wa.altKey||wa.ctrlKey||
!ra)if("Tab"===wa.key)setTimeout(function(){X.current!==document.activeElement&&L()},0);else if(Th(wa.key)){ra=qd.rtl;if(-1!==(Ya=Array.prototype.indexOf.call(ma.current.children,document.activeElement))){var Ua=g.length,Xa=Ya;switch(wa.key){case ra?"ArrowLeft":"ArrowRight":case "ArrowDown":Xa=(Ya+1)%Ua;break;case ra?"ArrowRight":"ArrowLeft":case "ArrowUp":Xa=(Ua+Ya-1)%Ua}ma.current.children[Xa].focus()}wa.preventDefault()}else"Escape"!==wa.key&&"Enter"!==wa.key||(wa.preventDefault(),L());else{var Ya=
g.indexOf(ra);ma.current.children[Ya].focus();wa.preventDefault()}wa.nativeEvent.stopImmediatePropagation()}},na().createElement("div",{className:"picker-content",ref:ma},g.map(function(wa,ra){return na().createElement("button",{className:"picker-option",onClick:function(Ua){Ua.currentTarget.focus();D(wa.value)},title:"".concat(wa.text," — ").concat(wa.keyBinding.toUpperCase()),"aria-label":wa.text||"none","aria-keyshortcuts":wa.keyBinding,key:wa.text,ref:function(Ua){Ua&&0===ra&&(aa.current=Ua);
Ua&&wa.value===h&&(X.current=Ua)},onFocus:function(){D(wa.value)}},wa.icon,na().createElement("span",{className:"picker-keybinding"},wa.keyBinding))})))}function Qf(d){var g,h=d.value,t=d.label,D=d.options,L=d.onChange;d=d.group;d=void 0===d?"":d;var aa=na().useState(!1),X=aa[0],ma=aa[1],wa=na().useRef(null);aa=qd.rtl;return na().createElement("label",{className:"picker-container"},na().createElement("button",{name:d,className:X?"active":"","aria-label":t,onClick:function(){return ma(!X)},ref:wa},
null===(g=D.find(function(ra){return ra.value===h}))||void 0===g?void 0:g.icon),na().createElement(na().Suspense,{fallback:""},X?na().createElement(na().Fragment,null,na().createElement(Ra,fd()({onCloseRequest:function(ra){return ra.target!==wa.current&&ma(!1)}},aa?{right:5.5}:{left:-5.5}),na().createElement(Pe,{options:D,value:h,label:t,onChange:L,onClose:function(){var ra;ma(!1);null===(ra=wa.current)||void 0===ra||ra.focus()}})),na().createElement("div",{className:"picker-triangle"})):null))}function Bi(d,
g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Wd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Bi(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Bi(Object(h)).forEach(function(t){Object.defineProperty(d,
t,Object.getOwnPropertyDescriptor(h,t))})}return d}function ue(){return(0,Cb.useContext)(qe)}function eg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function pe(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?eg(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,
Object.getOwnPropertyDescriptors(h)):eg(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function sf(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Uf(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?sf(Object(h),!0).forEach(function(t){Xd()(d,
t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):sf(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}async function di(...d){return(await km).default(...d)}async function fg(...d){return(await He).default(...d)}function Oh(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,
D).enumerable}));h.push.apply(h,t)}return h}function ze(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Oh(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Oh(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Kf(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);
g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function nf(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Kf(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Kf(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Ph(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function oh(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ph(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ph(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,
t))})}return d}function Ae(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Fd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Ae(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Ae(Object(h)).forEach(function(t){Object.defineProperty(d,
t,Object.getOwnPropertyDescriptor(h,t))})}return d}function ih(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Dh(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?ih(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
ih(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Mj(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Ug(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Mj(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Mj(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Hg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Nd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Hg(Object(h),
!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Hg(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Vg(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function nc(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?Vg(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Vg(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Lb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,
t)}return h}function ti(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Lb(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Lb(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function jf(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,
D).enumerable}));h.push.apply(h,t)}return h}function Bd(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?jf(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):jf(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function sj(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);
g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function oc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?sj(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):sj(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Nj(d,g){var h=Object.keys(d);
if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function xa(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Nj(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Nj(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,
t))})}return d}function db(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Yb(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?db(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):db(Object(h)).forEach(function(t){Object.defineProperty(d,
t,Object.getOwnPropertyDescriptor(h,t))})}return d}function sc(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Uc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?sc(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):
sc(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function td(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function be(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?td(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):td(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Rb(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Jc(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?Rb(Object(h),
!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Rb(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Db(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Za(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?Db(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):Db(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function Qd(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,
t)}return h}function we(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function jd(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,t)}return h}function Nb(d){for(var g=1;g<arguments.length;g++){var h=
null!=arguments[g]?arguments[g]:{};g%2?jd(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):jd(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}function ya(d,g){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(d);g&&(t=t.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable}));h.push.apply(h,
t)}return h}function Ca(d){for(var g=1;g<arguments.length;g++){var h=null!=arguments[g]?arguments[g]:{};g%2?ya(Object(h),!0).forEach(function(t){Xd()(d,t,h[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):ya(Object(h)).forEach(function(t){Object.defineProperty(d,t,Object.getOwnPropertyDescriptor(h,t))})}return d}l.r(v);l.d(v,{default:()=>Gt,defaultLang:()=>bf,getElementMap:()=>vh,getSceneVersion:()=>xl,getSyncableElements:()=>uh,languages:()=>Cd,
restore:()=>Zm,restoreAppState:()=>on,restoreElements:()=>uj});var Ba=l(7154),Sa=l.n(Ba),kb=l(6479),Hb=l.n(kb),Cb=l(4698),na=l.n(Cb),tb=l(8288);const Ic=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==tb.Vi.TEST&&(l.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Ic.u2,"@").concat(Ic.i8,"/dist/"));var ed=l(5374),jc=l.n(ed),$c=l(2829),Te=l(2051),ie=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");
for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<
L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},bf={code:"en",label:"English"},Cd=[{code:"ar-SA",
label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},
{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",
label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([bf]).sort(function(d,g){return d.label>g.label?1:-1}).filter(function(d){return 85<=Te[d.code]});"production"===tb.Vi.DEVELOPMENT&&Cd.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var dg,qd=bf,Lf={},Ce=function(){var d=jc()(function(g){return ie(this,function(h){switch(h.label){case 0:return qd=g,document.documentElement.dir=qd.rtl?"rtl":
"ltr",document.documentElement.lang=qd.code,g.code.startsWith("__test__")?(Lf={},[3,3]):[3,1];case 1:return[4,l(788)("./".concat(qd.code,".json"))];case 2:Lf=h.sent(),h.label=3;case 3:return[2]}})});return function(g){return d.apply(this,arguments)}}(),Jd=function(d,g){for(var h=0;h<g.length;++h){var t=g[h];if(void 0===d[t])return;d=d[t]}if("string"==typeof d)return d},qb=function(d,g){if(qd.code.startsWith("__test__"))return d=g?"".concat(d,"(").concat(JSON.stringify(g).slice(1,-1),")"):d,"‪[[".concat(d,
"]]‬");var h=d.split(".");h=Jd(Lf,h)||Jd($c,h);if(void 0===h)throw Error("Can't find translation for ".concat(d));if(g)for(var t in g)h=h.replace("{{".concat(t,"}}"),g[t]);return h},Ye=function(){return na().createElement("div",{className:"LoadingMessage"},na().createElement("span",null,qb("labels.loadingScene")))},Qh=(dg=function(d,g){return(dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,t){h.__proto__=t}||function(h,t){for(var D in t)Object.prototype.hasOwnProperty.call(t,
D)&&(h[D]=t[D])})(d,g)},function(d,g){function h(){this.constructor=d}if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");dg(d,g);d.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)}),mg=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,
ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();
continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},$g=function(d){function g(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var D;t=this;return D=t=d.apply(this,h)||this,t.state={isLoading:!0},
D}return Qh(g,d),g.prototype.componentDidMount=function(){var h=this;return jc()(function(){var t;return mg(this,function(D){switch(D.label){case 0:return t=Cd.find(function(L){return L.code===h.props.langCode})||bf,[4,Ce(t)];case 1:return D.sent(),h.setState({isLoading:!1}),[2]}})})()},g.prototype.render=function(){return this.state.isLoading?na().createElement(Ye,null):this.props.children},g}(na().Component),ne=l(566),Xd=l.n(ne);class Vf{constructor(d){this.helper=d}fillPolygon(d,g){return this._fillPolygon(d,
g)}_fillPolygon(d,g,h=!1){let t=pa(d,g);h&&(d=this.connectingLines(d,t),t=t.concat(d));return{type:"fillSketch",ops:this.renderLines(t,g)}}renderLines(d,g){const h=[];for(const t of d)h.push(...this.helper.doubleLineOps(t[0][0],t[0][1],t[1][0],t[1][1],g));return h}connectingLines(d,g){const h=[];if(1<g.length)for(let D=1;D<g.length;D++){var t=g[D-1];3>W(t)||(t=[g[D][0],t[1]],3<W(t)&&(t=this.splitOnIntersections(d,t),h.push(...t)))}return h}midPointInPolygon(d,g){return Ea(d,(g[0][0]+g[1][0])/2,(g[0][1]+
g[1][1])/2)}splitOnIntersections(d,g){var h=Math.max(5,.1*W(g)),t=[];for(var D=0;D<d.length;D++){var L=d[D],aa=d[(D+1)%d.length];if(Fa(L,aa,...g)&&(L=V(L,aa,g[0],g[1]))){aa=W([L,g[0]]);const X=W([L,g[1]]);aa>h&&X>h&&t.push({point:L,distance:aa})}}if(1<t.length){h=t.sort((X,ma)=>X.distance-ma.distance).map(X=>X.point);if(Ea(d,...g[0])||h.shift(),Ea(d,...g[1])||h.pop(),1>=h.length)return this.midPointInPolygon(d,g)?[g]:[];g=[g[0],...h,g[1]];h=[];for(t=0;t<g.length-1;t+=2)D=[g[t],g[t+1]],this.midPointInPolygon(d,
D)&&h.push(D);return h}return this.midPointInPolygon(d,g)?[g]:[]}}class kf extends Vf{fillPolygon(d,g){return this._fillPolygon(d,g,!0)}}class pf extends Vf{fillPolygon(d,g){const h=this._fillPolygon(d,g);g=Object.assign({},g,{hachureAngle:g.hachureAngle+90});d=this._fillPolygon(d,g);return h.ops=h.ops.concat(d.ops),h}}class Wg{constructor(d){this.helper=d}fillPolygon(d,g){d=pa(d,g=Object.assign({},g,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,g)}dotsOnLines(d,g){const h=
[];let t=g.hachureGap;0>t&&(t=4*g.strokeWidth);t=Math.max(t,.1);let D=g.fillWeight;0>D&&(D=g.strokeWidth/2);const L=t/4;for(const wa of d){var aa=W(wa);d=Math.ceil(aa/t)-1;aa-=d*t;const ra=(wa[0][0]+wa[1][0])/2-t/4,Ua=Math.min(wa[0][1],wa[1][1]);for(let Xa=0;Xa<d;Xa++){var X=Ua+aa+Xa*t,ma=this.helper.randOffsetWithRange(ra-L,ra+L,g);X=this.helper.randOffsetWithRange(X-L,X+L,g);ma=this.helper.ellipse(ma,X,D,D,g);h.push(...ma.ops)}}return{type:"fillSketch",ops:h}}}class Yd{constructor(d){this.helper=
d}fillPolygon(d,g){d=pa(d,g);return{type:"fillSketch",ops:this.dashedLine(d,g)}}dashedLine(d,g){const h=0>g.dashOffset?0>g.hachureGap?4*g.strokeWidth:g.hachureGap:g.dashOffset,t=0>g.dashGap?0>g.hachureGap?4*g.strokeWidth:g.hachureGap:g.dashGap,D=[];return d.forEach(L=>{var aa=W(L);const X=Math.floor(aa/(h+t));aa=(aa+t-X*(h+t))/2;let ma=L[0];var wa=L[1];ma[0]>wa[0]&&(ma=L[1],wa=L[0]);L=Math.atan((wa[1]-ma[1])/(wa[0]-ma[0]));for(wa=0;wa<X;wa++){var ra=wa*(h+t),Ua=ra+h;ra=[ma[0]+ra*Math.cos(L)+aa*Math.cos(L),
ma[1]+ra*Math.sin(L)+aa*Math.sin(L)];Ua=[ma[0]+Ua*Math.cos(L)+aa*Math.cos(L),ma[1]+Ua*Math.sin(L)+aa*Math.sin(L)];D.push(...this.helper.doubleLineOps(ra[0],ra[1],Ua[0],Ua[1],g))}}),D}}class gi{constructor(d){this.helper=d}fillPolygon(d,g){const h=0>g.hachureGap?4*g.strokeWidth:g.hachureGap,t=0>g.zigzagOffset?h:g.zigzagOffset;d=pa(d,g=Object.assign({},g,{hachureGap:h+t}));return{type:"fillSketch",ops:this.zigzagLines(d,t,g)}}zigzagLines(d,g,h){const t=[];return d.forEach(D=>{var L=W(D);L=Math.round(L/
(2*g));let aa=D[0];var X=D[1];aa[0]>X[0]&&(aa=D[1],X=D[0]);D=Math.atan((X[1]-aa[1])/(X[0]-aa[0]));for(X=0;X<L;X++){var ma=2*X*g,wa=2*(X+1)*g,ra=Math.sqrt(2*Math.pow(g,2));ma=[aa[0]+ma*Math.cos(D),aa[1]+ma*Math.sin(D)];wa=[aa[0]+wa*Math.cos(D),aa[1]+wa*Math.sin(D)];ra=[ma[0]+ra*Math.cos(D+Math.PI/4),ma[1]+ra*Math.sin(D+Math.PI/4)];t.push(...this.helper.doubleLineOps(ma[0],ma[1],ra[0],ra[1],h),...this.helper.doubleLineOps(ra[0],ra[1],wa[0],wa[1],h))}}),t}}const Rc={};class pk{constructor(d){this.seed=
d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const wg={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Yi={randOffset:function(d,g){return Fb(d,g)},randOffsetWithRange:function(d,g,h){return zb(d,g,h)},ellipse:function(d,g,h,t,D){h=ea(h,t,D);return Da(d,g,D,h).opset},doubleLineOps:function(d,g,h,t,D){return ab(d,g,h,t,D,!0)}};class Sg{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",
strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,g,h){return{shape:d,sets:g||
[],options:h||this.defaultOptions}}line(d,g,h,t,D){D=this._o(D);return this._d("line",[{type:"path",ops:ab(d,g,h,t,D)}],D)}rectangle(d,g,h,t,D){D=this._o(D);const L=[];var aa=U([[d,g],[d+h,g],[d+h,g+t],[d,g+t]],!0,D);D.fill&&(d=[[d,g],[d+h,g],[d+h,g+t],[d,g+t]],"solid"===D.fillStyle?L.push(Ja(d,D)):L.push(Qa(d,D)));return"none"!==D.stroke&&L.push(aa),this._d("rectangle",L,D)}ellipse(d,g,h,t,D){D=this._o(D);const L=[];t=ea(h,t,D);h=Da(d,g,D,t);D.fill&&("solid"===D.fillStyle?(d=Da(d,g,D,t).opset,d.type=
"fillPath",L.push(d)):L.push(Qa(h.estimatedPoints,D)));return"none"!==D.stroke&&L.push(h.opset),this._d("ellipse",L,D)}circle(d,g,h,t){d=this.ellipse(d,g,h,h,t);return d.shape="circle",d}linearPath(d,g){g=this._o(g);return this._d("linearPath",[U(d,!1,g)],g)}arc(d,g,h,t,D,L,aa=!1,X){X=this._o(X);const ma=[],wa=cb(d,g,h,t,D,L,aa,!0,X);if(aa&&X.fill)if("solid"===X.fillStyle)d=cb(d,g,h,t,D,L,!0,!1,X),d.type="fillPath",ma.push(d);else{aa=ma.push;{h=Math.abs(h/2);t=Math.abs(t/2);h+=Fb(.01*h,X);for(t+=
Fb(.01*t,X);0>D;)D+=2*Math.PI,L+=2*Math.PI;L-D>2*Math.PI&&(D=0,L=2*Math.PI);const ra=(L-D)/X.curveStepCount,Ua=[];for(;D<=L;D+=ra)Ua.push([d+h*Math.cos(D),g+t*Math.sin(D)]);d=(Ua.push([d+h*Math.cos(L),g+t*Math.sin(L)]),Ua.push([d,g]),Qa(Ua,X))}aa.call(ma,d)}return"none"!==X.stroke&&ma.push(wa),this._d("arc",ma,X)}curve(d,g){g=this._o(g);const h=[],t=oa(d,g);g.fill&&"none"!==g.fill&&3<=d.length&&(d=Z(function(D,L=0){var aa=D.length;if(3>aa)throw Error("A curve must have at least three points.");const X=
[];if(3===aa)X.push([...D[0]],[...D[1]],[...D[2]],[...D[2]]);else{aa=[];aa.push(D[0],D[0]);for(var ma=1;ma<D.length;ma++)aa.push(D[ma]),ma===D.length-1&&aa.push(D[ma]);D=[];L=1-L;X.push([...aa[0]]);for(ma=1;ma+2<aa.length;ma++){const wa=aa[ma];D[0]=[wa[0],wa[1]];D[1]=[wa[0]+(L*aa[ma+1][0]-L*aa[ma-1][0])/6,wa[1]+(L*aa[ma+1][1]-L*aa[ma-1][1])/6];D[2]=[aa[ma+1][0]+(L*aa[ma][0]-L*aa[ma+2][0])/6,aa[ma+1][1]+(L*aa[ma][1]-L*aa[ma+2][1])/6];D[3]=[aa[ma+1][0],aa[ma+1][1]];X.push(D[1],D[2],D[3])}}return X}(d),
10,(1+g.roughness)/2),"solid"===g.fillStyle?h.push(Ja(d,g)):h.push(Qa(d,g)));return"none"!==g.stroke&&h.push(t),this._d("curve",h,g)}polygon(d,g){g=this._o(g);const h=[],t=U(d,!0,g);return g.fill&&("solid"===g.fillStyle?h.push(Ja(d,g)):h.push(Qa(d,g))),"none"!==g.stroke&&h.push(t),this._d("polygon",h,g)}path(d,g){const h=this._o(g),t=[];if(!d)return this._d("path",t,h);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");g=h.fill&&"transparent"!==h.fill&&"none"!==h.fill;const D=
"none"!==h.stroke,L=!!(h.simplification&&1>h.simplification),aa=function(X,ma,wa){var ra=fa(da(ca(X)));X=[];let Ua=[];var Xa=[0,0];let Ya=[];const ub=()=>{4<=Ya.length&&Ua.push(...Z(Ya,ma));Ya=[]};for(const {key:rb,data:Ub}of ra)switch(rb){case "M":ub();Ua.length&&(X.push(Ua),Ua=[]);Xa=[Ub[0],Ub[1]];Ua.push(Xa);break;case "L":ub();Ua.push([Ub[0],Ub[1]]);break;case "C":Ya.length||(ra=Ua.length?Ua[Ua.length-1]:Xa,Ya.push([ra[0],ra[1]]));Ya.push([Ub[0],Ub[1]]);Ya.push([Ub[2],Ub[3]]);Ya.push([Ub[4],Ub[5]]);
break;case "Z":ub(),Ua.push([Xa[0],Xa[1]])}ub();Ua.length&&(X.push(Ua),Ua=[]);if(!wa)return X;Xa=[];for(const rb of X)X=R(rb,wa),X.length&&Xa.push(X);return Xa}(d,1,L?4-4*h.simplification:(1+h.roughness)/2);if(g)if(h.combineNestedSvgPaths){const X=[];aa.forEach(ma=>X.push(...ma));"solid"===h.fillStyle?t.push(Ja(X,h)):t.push(Qa(X,h))}else aa.forEach(X=>{"solid"===h.fillStyle?t.push(Ja(X,h)):t.push(Qa(X,h))});return D&&(L?aa.forEach(X=>{t.push(U(X,!1,h))}):t.push(function(X,ma){X=fa(da(ca(X)));const wa=
[];let ra=[0,0],Ua=[0,0];for(const {key:Xa,data:Ya}of X)switch(Xa){case "M":{const ub=1*(ma.maxRandomnessOffset||0);wa.push({op:"move",data:Ya.map(rb=>rb+Fb(ub,ma))});Ua=[Ya[0],Ya[1]];ra=[Ya[0],Ya[1]];break}case "L":wa.push(...ab(Ua[0],Ua[1],Ya[0],Ya[1],ma));Ua=[Ya[0],Ya[1]];break;case "C":{const [ub,rb,Ub,Ac,Fc,Qc]=Ya;wa.push(...gc(ub,rb,Ub,Ac,Fc,Qc,Ua,ma));Ua=[Fc,Qc];break}case "Z":wa.push(...ab(Ua[0],Ua[1],ra[0],ra[1],ma)),Ua=[ra[0],ra[1]]}return{type:"path",ops:wa}}(d,h))),this._d("path",t,h)}opsToPath(d){let g=
"";for(const h of d.ops)switch(d=h.data,h.op){case "move":g+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":g+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":g+=`L${d[0]} ${d[1]} `}return g.trim()}toPaths(d){var g=d.sets||[];d=d.options||this.defaultOptions;const h=[];for(const t of g){g=null;switch(t.type){case "path":g={d:this.opsToPath(t),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":g={d:this.opsToPath(t),stroke:"none",strokeWidth:0,fill:d.fill||
"none"};break;case "fillSketch":g=this.fillSketch(t,d)}g&&h.push(g)}return h}fillSketch(d,g){let h=g.fillWeight;return 0>h&&(h=g.strokeWidth/2),{d:this.opsToPath(d),stroke:g.fill||"none",strokeWidth:h,fill:"none"}}}class De{constructor(d,g){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new Sg(g)}draw(d){const g=d.sets||[],h=d.options||this.getDefaultOptions(),t=this.ctx;for(const D of g)switch(D.type){case "path":t.save();t.strokeStyle="none"===h.stroke?"transparent":h.stroke;t.lineWidth=
h.strokeWidth;h.strokeLineDash&&t.setLineDash(h.strokeLineDash);h.strokeLineDashOffset&&(t.lineDashOffset=h.strokeLineDashOffset);this._drawToContext(t,D);t.restore();break;case "fillPath":t.save();t.fillStyle=h.fill||"";this._drawToContext(t,D,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");t.restore();break;case "fillSketch":this.fillSketch(t,D,h)}}fillSketch(d,g,h){let t=h.fillWeight;0>t&&(t=h.strokeWidth/2);d.save();h.fillLineDash&&d.setLineDash(h.fillLineDash);h.fillLineDashOffset&&
(d.lineDashOffset=h.fillLineDashOffset);d.strokeStyle=h.fill||"";d.lineWidth=t;this._drawToContext(d,g);d.restore()}_drawToContext(d,g,h="nonzero"){d.beginPath();for(const t of g.ops){const D=t.data;switch(t.op){case "move":d.moveTo(D[0],D[1]);break;case "bcurveTo":d.bezierCurveTo(D[0],D[1],D[2],D[3],D[4],D[5]);break;case "lineTo":d.lineTo(D[0],D[1])}}"fillPath"===g.type?d.fill(h):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,g,h,t,D){d=this.gen.line(d,
g,h,t,D);return this.draw(d),d}rectangle(d,g,h,t,D){d=this.gen.rectangle(d,g,h,t,D);return this.draw(d),d}ellipse(d,g,h,t,D){d=this.gen.ellipse(d,g,h,t,D);return this.draw(d),d}circle(d,g,h,t){d=this.gen.circle(d,g,h,t);return this.draw(d),d}linearPath(d,g){d=this.gen.linearPath(d,g);return this.draw(d),d}polygon(d,g){d=this.gen.polygon(d,g);return this.draw(d),d}arc(d,g,h,t,D,L,aa=!1,X){d=this.gen.arc(d,g,h,t,D,L,aa,X);return this.draw(d),d}curve(d,g){d=this.gen.curve(d,g);return this.draw(d),d}path(d,
g){d=this.gen.path(d,g);return this.draw(d),d}}class Qj{constructor(d,g){this.svg=d;this.gen=new Sg(g)}draw(d){var g=d.sets||[];const h=d.options||this.getDefaultOptions(),t=this.svg.ownerDocument||window.document,D=t.createElementNS("http://www.w3.org/2000/svg","g");for(const L of g){g=null;switch(L.type){case "path":g=t.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.opsToPath(L));g.setAttribute("stroke",h.stroke);g.setAttribute("stroke-width",h.strokeWidth+"");g.setAttribute("fill",
"none");h.strokeLineDash&&g.setAttribute("stroke-dasharray",h.strokeLineDash.join(" ").trim());h.strokeLineDashOffset&&g.setAttribute("stroke-dashoffset",`${h.strokeLineDashOffset}`);break;case "fillPath":g=t.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.opsToPath(L));g.setAttribute("stroke","none");g.setAttribute("stroke-width","0");g.setAttribute("fill",h.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||g.setAttribute("fill-rule","evenodd");break;case "fillSketch":g=
this.fillSketch(t,L,h)}g&&D.appendChild(g)}return D}fillSketch(d,g,h){let t=h.fillWeight;0>t&&(t=h.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(g)),d.setAttribute("stroke",h.fill||""),d.setAttribute("stroke-width",t+""),d.setAttribute("fill","none"),h.fillLineDash&&d.setAttribute("stroke-dasharray",h.fillLineDash.join(" ").trim()),h.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${h.fillLineDashOffset}`),d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,
g,h,t,D){d=this.gen.line(d,g,h,t,D);return this.draw(d)}rectangle(d,g,h,t,D){d=this.gen.rectangle(d,g,h,t,D);return this.draw(d)}ellipse(d,g,h,t,D){d=this.gen.ellipse(d,g,h,t,D);return this.draw(d)}circle(d,g,h,t){d=this.gen.circle(d,g,h,t);return this.draw(d)}linearPath(d,g){d=this.gen.linearPath(d,g);return this.draw(d)}polygon(d,g){d=this.gen.polygon(d,g);return this.draw(d)}arc(d,g,h,t,D,L,aa=!1,X){d=this.gen.arc(d,g,h,t,D,L,aa,X);return this.draw(d)}curve(d,g){d=this.gen.curve(d,g);return this.draw(d)}path(d,
g){d=this.gen.path(d,g);return this.draw(d)}}const Di={canvas:(d,g)=>new De(d,g),svg:(d,g)=>new Qj(d,g),generator:d=>new Sg(d),newSeed:()=>Sg.newSeed()};var re=function(d){return null!=d&&"text"===d.type},hg=function(d){return null!=d&&Ei(d.type)},Ei=function(d){return"arrow"===d||"line"===d||"draw"===d},Gh=function(d){return null!=d&&"arrow"===d.type},Mf=function(d){return null!=d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Fe=function(d,g,h,t,D){return[(d-h)*
Math.cos(D)-(g-t)*Math.sin(D)+h,(d-h)*Math.sin(D)+(g-t)*Math.cos(D)+t]},Fi=function(d,g,h){return Fe(d[0],d[1],g[0],g[1],h)},Rj=function(d,g,h,t,D,L,aa,X){var ma=Math.cos(t);t=Math.sin(t);return d.e&&d.w?g+=D+aa:d.e?(g+=D*(1+ma),h+=D*t,g+=aa*(1-ma),h+=aa*-t):d.w&&(g+=D*(1-ma),h+=D*-t,g+=aa*(1+ma),h+=aa*t),d.n&&d.s?h+=L+X:d.n?(g+=L*t,h+=L*(1-ma),g+=X*-t,h+=X*(1+ma)):d.s&&(g+=L*-t,h+=L*(1+ma),g+=X*t,h+=X*(1-ma)),[g,h]},Gi=function(d,g){if(void 0===g&&(g=1),3<=d.length){var h=[d[0],d[d.length-1]];d=
h[0];h=h[1];return Math.hypot(h[0]-d[0],h[1]-d[1])<=tb.qx/g}return!1},Ik=function(d,g,h){var t=d.length;if(3>t)return!1;var D=[Number.MAX_SAFE_INTEGER,h];g=[g,h];for(var L=h=0;L<t;L++){var aa=d[L],X=d[(L+1)%t],ma=aa,wa=X,ra=g,Ua=D,Xa=Hi(ma,wa,ra),Ya=Hi(ma,wa,Ua),ub=Hi(ra,Ua,ma),rb=Hi(ra,Ua,wa);if(Xa!==Ya&&ub!==rb||0===Xa&&Zi(ma,ra,wa)||0===Ya&&Zi(ma,Ua,wa)||0===ub&&Zi(ra,ma,Ua)||0===rb&&Zi(ra,wa,Ua)){if(0===Hi(aa,g,X))return Zi(aa,g,X);h++}}return 1==h%2},Zi=function(d,g,h){return g[0]<=Math.max(d[0],
h[0])&&g[0]>=Math.min(d[0],h[0])&&g[1]<=Math.max(d[1],h[1])&&g[1]>=Math.min(d[1],h[1])},Hi=function(d,g,h){d=(g[1]-d[1])*(h[0]-g[0])-(g[0]-d[0])*(h[1]-g[1]);return 0===d?0:0<d?1:2},jh=function(d,g,h){return h?[Math.round(d/h)*h,Math.round(g/h)*h]:[d,g]},hi=function(d,g,h){var t=h.map(function(ma){return ma[d]}),D=Math.max.apply(Math,t);t=Math.min.apply(Math,t);D-=t;var L=0===D?1:g/D,aa=1/0;g=h.map(function(ma){return ma.map(function(wa,ra){if(ra!==d)return wa;wa*=L;return aa=Math.min(wa,aa),wa})});
if(2===g.length)return g;var X=t-aa;return g.map(function(ma){return ma.map(function(wa,ra){return ra===d?wa+X:wa})})},ff=function(d){return hg(d)?tl(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Sh=function(d){for(var g=0,h=d.sets;g<h.length;g++){var t=h[g];if("path"===t.type)return t.ops}return d.sets[0].ops},cl=function(d,g){var h=[0,0];d=d.reduce(function(t,D){var L,aa=D.op;D=D.data;if("move"===aa)h=D;else if("bcurveTo"===aa){var X=[D[0],D[1]],ma=[D[2],D[3]],wa=[D[4],D[5]],ra=h;h=wa;aa=function(Ya,ub){return Math.pow(1-
Ya,3)*wa[ub]+3*Ya*Math.pow(1-Ya,2)*ma[ub]+3*Math.pow(Ya,2)*(1-Ya)*X[ub]+ra[ub]*Math.pow(Ya,3)};for(D=0;1>=D;){var Ua=aa(D,0),Xa=aa(D,1);g&&(Ua=(L=g(Ua,Xa))[0],Xa=L[1]);t.minY=Math.min(t.minY,Xa);t.minX=Math.min(t.minX,Ua);t.maxX=Math.max(t.maxX,Ua);t.maxY=Math.max(t.maxY,Xa);D+=.1}}return t},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,d.minY,d.maxX,d.maxY]},tl=function(d){if(2>d.points.length||!ji.get(d)){var g=d.points.reduce(function(h,t){var D=t[0];t=t[1];return h.minY=Math.min(h.minY,
t),h.minX=Math.min(h.minX,D),h.maxX=Math.max(h.maxX,D),h.maxY=Math.max(h.maxY,t),h},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[g.minX+d.x,g.minY+d.y,g.maxX+d.x,g.maxY+d.y]}g=ji.get(d);g=Sh(g[0]);g=cl(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]},vj=function(d){var g=ff(d),h=g[0],t=g[1],D=g[2],L=g[3];g=(h+D)/2;var aa=(t+L)/2;if(hg(d))return function(Ua,Xa,Ya){if(2>Ua.points.length||!ji.get(Ua)){var ub=Ua.points.reduce(function(rb,Ub){var Ac,Fc=Ub[0];Ub=Ub[1];return Fc=(Ac=Fe(Ua.x+Fc,Ua.y+Ub,
Xa,Ya,Ua.angle))[0],Ub=Ac[1],rb.minY=Math.min(rb.minY,Ub),rb.minX=Math.min(rb.minX,Fc),rb.maxX=Math.max(rb.maxX,Fc),rb.maxY=Math.max(rb.maxY,Ub),rb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ub.minX,ub.minY,ub.maxX,ub.maxY]}ub=ji.get(Ua);ub=Sh(ub[0]);return cl(ub,function(rb,Ub){return Fe(Ua.x+rb,Ua.y+Ub,Xa,Ya,Ua.angle)})}(d,g,aa);if("diamond"===d.type){t=Fe(g,t,g,aa,d.angle);var X=t[0];t=t[1];L=Fe(g,L,g,aa,d.angle);var ma=L[0];L=L[1];var wa=Fe(h,aa,g,aa,d.angle);h=wa[0];wa=wa[1];aa=Fe(D,aa,
g,aa,d.angle);g=aa[0];aa=aa[1];return[Math.min(X,ma,h,g),Math.min(t,L,wa,aa),Math.max(X,ma,h,g),Math.max(t,L,wa,aa)]}if("ellipse"===d.type)return D=(D-h)/2,X=(L-t)/2,t=Math.cos(d.angle),ma=Math.sin(d.angle),d=Math.hypot(D*t,X*ma),D=Math.hypot(X*t,D*ma),[g-d,aa-D,g+d,aa+D];ma=Fe(h,t,g,aa,d.angle);X=ma[0];ma=ma[1];wa=Fe(h,L,g,aa,d.angle);h=wa[0];wa=wa[1];var ra=Fe(D,L,g,aa,d.angle);L=ra[0];ra=ra[1];aa=Fe(D,t,g,aa,d.angle);g=aa[0];aa=aa[1];return[Math.min(X,h,L,g),Math.min(ma,wa,ra,aa),Math.max(X,h,
L,g),Math.max(ma,wa,ra,aa)]},Ff=function(d){if(!d.length)return[0,0,0,0];var g=1/0,h=-1/0,t=1/0,D=-1/0;return d.forEach(function(L){L=vj(L);var aa=L[1],X=L[2],ma=L[3];g=Math.min(g,L[0]);t=Math.min(t,aa);h=Math.max(h,X);D=Math.max(D,ma)}),[g,t,h,D]},Xg=function(d,g,h){if(!hg(d))return[d.x,d.y,d.x+g,d.y+h];g=hi(0,g,hi(1,h,d.points));h=Di.generator();g="sharp"===d.strokeSharpness?h.linearPath(g,Uh(d)):h.curve(g,Uh(d));g=Sh(g);g=cl(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]},wd=function(d,g,h){var t=
Di.generator();g="sharp"===h?t.linearPath(g,Uh(d)):t.curve(g,Uh(d));g=Sh(g);g=cl(g);return[g[0]+d.x,g[1]+d.y,g[2]+d.x,g[3]+d.y]};const zd=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var ah=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},xg=function(d){return[zd.Q6[d],zd.iQ[d],zd.pl[d],zd.ht[d],zd.QN[d],zd.iN[d],zd.sl[d],zd.$C[d],zd.ek[d],zd.LR[d],zd.er[d],zd.$y[d]]};const $f={canvasBackground:ah([zd.ix,zd.MA[0],zd.MA[1]],xg(0)),elementBackground:ah(["transparent",zd.MA[4],zd.MA[6]],xg(6)),elementStroke:ah([zd.Sn,zd.MA[8],zd.MA[7]],xg(9))};var Lg=l(6207),ng=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),wj=/^Win/.test(window.navigator.platform),
ce=ng?"metaKey":"ctrlKey",Th=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},Uj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},qh=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},rh=function(d){var g=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(tb.ut[g],", ").concat(tb._D))},yg=function(d,
g){var h=document.createElement("div"),t=document.body;h.style.position="absolute";h.style.whiteSpace="pre";h.style.font=g;t.appendChild(h);h.innerText=d.split("\n").map(function(D){return D||" "}).join("\n");d=h.offsetWidth;g=h.offsetHeight;t=document.createElement("span");t.style.display="inline-block";t.style.overflow="hidden";t.style.width="1px";t.style.height="1px";h.appendChild(t);t=t.offsetTop+t.offsetHeight;return document.body.removeChild(h),{width:d,height:g,baseline:t}},$i=function(d,g){var h,
t=0,D=function(){for(var L=[],aa=0;aa<arguments.length;aa++)L[aa]=arguments[aa];h=L;clearTimeout(t);t=window.setTimeout(function(){return d.apply(void 0,L)},g)};return D.flush=function(){clearTimeout(t);h&&d.apply(void 0,h)},D.cancel=function(){clearTimeout(t)},D},Hh=function(d){d&&(d.style.cursor="")},ii=function(d,g){d&&(d.style.cursor=g)},uf=function(d,g){d&&("selection"===g?Hh(d):d.style.cursor=tb.oc.CROSSHAIR)},bh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},ad=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),ng?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},Gf=function(d,g){var h=g.zoom,t=1/h.value;return{x:(d.clientX-h.translation.x-g.offsetLeft)*t-g.scrollX,y:(d.clientY-h.translation.y-g.offsetTop)*t-g.scrollY}},ag=function(d,g){var h=g.zoom;return{x:(d.sceneX+g.scrollX+g.offsetLeft)*
h.value+h.translation.x,y:(d.sceneY+g.scrollY+g.offsetTop)*h.value+h.translation.y}},aj=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},bg=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),bj=function(d){return{x:d[0],y:d[1]}},uk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Ke=function(d){return function(g){(0,Lg.unstable_batchedUpdates)(d,g)}},vf=function(d,g){var h,t=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(h=t.length-1;0<h&&!(d>=t[h].value);h--);return(d/t[h].value).toFixed(g).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+t[h].symbol},ig=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||tb.eQ},kh=function(){var d=new Map,g=tb.rk,h=tb.n5,t=zd.Sn,D=tb.Hg,L=window.innerHeight,aa="".concat(qb("labels.untitled"),"-"),X=aa.concat;var ma=new Date;var wa=ma.getFullYear();var ra="".concat(ma.getMonth()+
1).padStart(2,"0"),Ua="".concat(ma.getDate()).padStart(2,"0"),Xa="".concat(ma.getHours()).padStart(2,"0");ma="".concat(ma.getMinutes()).padStart(2,"0");wa="".concat(wa,"-").concat(ra,"-").concat(Ua,"-").concat(Xa).concat(ma);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:g,currentItemFontSize:h,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:t,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:D,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:L,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:X.call(aa,wa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:zd.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},Hf={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},dl=function(d,g){for(var h={},t=0,D=
Object.keys(d);t<D.length;t++){var L=D[t],aa=Hf[L];null!=aa&&aa[g]&&(h[L]=d[L])}return h},cm=kh(),ul=[12,8],Jk=[3,6],em=function(d,g,h){switch(h.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":g.draw(ji.get(d));break;case "arrow":case "draw":case "line":ji.get(d).forEach(function(Ua){g.draw(Ua)});break;default:if(!re(d))throw Error("Unimplemented type ".concat(d.type));var t=bg.test(d.text),D=t&&!h.canvas.isConnected;D&&document.body.appendChild(h.canvas);h.canvas.setAttribute("dir",
t?"rtl":"ltr");t=h.font;h.font=rh(d);var L=h.fillStyle;h.fillStyle=d.strokeColor;var aa=h.textAlign;h.textAlign=d.textAlign;var X=d.text.replace(/\r\n?/g,"\n").split("\n"),ma=d.height/X.length,wa=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var ra=0;ra<X.length;ra++)h.fillText(X[ra],d,(ra+1)*ma-wa);h.fillStyle=L;h.font=t;h.textAlign=aa;D&&h.canvas.remove()}h.globalAlpha=1},dm=new WeakMap,ji=new WeakMap,Uh=function(d){var g={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?ul:"dotted"===d.strokeStyle?Jk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return g.fillStyle=d.fillStyle,g.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(g.curveFitting=1),g;case "line":case "draw":return Gi(d.points)&&
(g.fillStyle=d.fillStyle,g.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),g;case "arrow":return g;default:throw Error("Unimplemented type ".concat(d.type));}},ui=function(d,g){var h=ji.get(d)||null;if(!h){switch(dm.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){h=d.width;var t=d.height,D=.25*Math.min(h,t);h=g.path("M ".concat(D," 0 L ").concat(h-D," 0 Q ").concat(h," 0, ").concat(h," ").concat(D," L ").concat(h," ").concat(t-D," Q ").concat(h," ").concat(t,", ").concat(h-
D," ").concat(t," L ").concat(D," ").concat(t," Q 0 ").concat(t,", 0 ").concat(t-D," L 0 ").concat(D," Q 0 0, ").concat(D," 0"),Uh(d))}else h=g.rectangle(0,0,d.width,d.height,Uh(d));break;case "diamond":h=function(aa){var X=Math.floor(aa.width/2)+1,ma=Math.floor(aa.height/2)+1;return[X,0,aa.width,ma,X,aa.height,0,ma]}(d);h=g.polygon([[h[0],h[1]],[h[2],h[3]],[h[4],h[5]],[h[6],h[7]]],Uh(d));break;case "ellipse":h=g.ellipse(d.width/2,d.height/2,d.width,d.height,Uh(d));break;case "line":case "draw":case "arrow":var L=
Uh(d);h=d.points.length?d.points:[[0,0]];if(h="sharp"===d.strokeSharpness?L.fill?[g.polygon(h,L)]:[g.linearPath(h,L)]:[g.curve(h,L)],"arrow"===d.type){t=d.startArrowhead;t=void 0===t?null:t;D=d.endArrowhead;D=void 0===D?"arrow":D;function aa(X,ma,wa,ra){ma=function(ub,rb,Ub,Ac){rb=Sh(rb[0]);if(1>rb.length)return null;var Fc="start"===Ub?1:rb.length-1,Qc=rb[Fc].data,Rd=[Qc[4],Qc[5]],Pd=[Qc[2],Qc[3]],de=[Qc[0],Qc[1]];rb=rb[Fc-1];var Vd=[0,0];"move"===rb.op?Vd=rb.data:"bcurveTo"===rb.op&&(Vd=[rb.data[4],
rb.data[5]]);Fc=function(Vc,md){return Math.pow(1-Vc,3)*Rd[md]+3*Vc*Math.pow(1-Vc,2)*Pd[md]+3*Math.pow(Vc,2)*(1-Vc)*de[md]+Vd[md]*Math.pow(Vc,3)};rb="start"===Ub?Vd:Rd;Ub=rb[0];rb=rb[1];Qc=[Fc(.3,0),Fc(.3,1)];Fc=Qc[0];Qc=Qc[1];var se=Math.hypot(Ub-Fc,rb-Qc);Fc=(Ub-Fc)/se;Qc=(rb-Qc)/se;se={arrow:30,bar:15,dot:15}[Ac];ub=ub.points.reduce(function(Vc,md,Ad,fe){Ad=0<Ad?fe[Ad-1]:[0,0];return Vc+Math.hypot(md[0]-Ad[0],md[1]-Ad[1])},0);se=Math.min(se,ub/2);ub=Ub-Fc*se;Fc=rb-Qc*se;if("dot"===Ac)return[Ub,
rb,Math.hypot(Fc-rb,ub-Ub)];Qc={arrow:20,bar:90}[Ac];se=Fe(ub,Fc,Ub,rb,-Qc*Math.PI/180);Ac=se[0];se=se[1];ub=Fe(ub,Fc,Ub,rb,Qc*Math.PI/180);return[Ub,rb,Ac,se,ub[0],ub[1]]}(X,ma,wa,ra);if(null===ma)return[];if("dot"===ra)return[g.circle(ma[0],ma[1],ma[2],sb(sb({},L),{},{fill:X.strokeColor,fillStyle:"solid"}))];ra=ma[0];wa=ma[1];var Ua=ma[2],Xa=ma[3],Ya=ma[4];ma=ma[5];return"dotted"===X.strokeStyle?L.strokeLineDash=[3,4]:delete L.strokeLineDash,[g.line(Ua,Xa,ra,wa,L),g.line(Ya,ma,ra,wa,L)]}null!==
t&&(t=aa(d,h,"start",t),h.push.apply(h,t));null!==D&&(t=aa(d,h,"end",D),h.push.apply(h,t))}break;case "text":h=[]}ji.set(d,h)}},Dm=function(d,g,h,t,D){var L=g.generator;switch(d.type){case "selection":h.translate(d.x+D.scrollX,d.y+D.scrollY);g=h.fillStyle;h.fillStyle="rgba(0, 0, 255, 0.10)";h.fillRect(0,0,d.width,d.height);h.fillStyle=g;h.translate(-d.x-D.scrollX,-d.y-D.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(ui(d,L),t){g=D?
D.zoom:cm.zoom;L=(t=dm.get(d))&&t.canvasZoom!==g.value&&!(null!=D&&D.shouldCacheIgnoreZoom);if(!t||L){t=document.createElement("canvas");L=t.getContext("2d");var aa=0,X=0;if(hg(d)){aa=ff(d);var ma=aa[0];X=aa[1];var wa=aa[3];t.width=Math.abs(ma-aa[2])*window.devicePixelRatio*g.value+40*g.value;t.height=Math.abs(X-wa)*window.devicePixelRatio*g.value+40*g.value;aa=d.x>ma?Math.floor(Math.abs(d.x-ma))*window.devicePixelRatio*g.value:0;X=d.y>X?Math.floor(Math.abs(d.y-X))*window.devicePixelRatio*g.value:
0;L.translate(aa,X)}else t.width=d.width*window.devicePixelRatio*g.value+40*g.value,t.height=d.height*window.devicePixelRatio*g.value+40*g.value;L.translate(20*g.value,20*g.value);L.scale(window.devicePixelRatio*g.value,window.devicePixelRatio*g.value);ma=Di.canvas(t);g=(em(d,ma,L),L.translate(-20*g.value,-20*g.value),L.scale(1/(window.devicePixelRatio*g.value),1/(window.devicePixelRatio*g.value)),{element:d,canvas:t,canvasZoom:g.value,canvasOffsetX:aa,canvasOffsetY:X});d=(dm.set(d,g),g)}else d=t;
g=d.element;aa=ff(g);t=aa[0];L=aa[1];X=aa[2];aa=aa[3];ma=((t+X)/2+D.scrollX)*window.devicePixelRatio;D=((L+aa)/2+D.scrollY)*window.devicePixelRatio;h.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);h.translate(ma,D);h.rotate(g.angle);h.drawImage(d.canvas,-(X-t)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(aa-L)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);h.rotate(-g.angle);h.translate(-ma,-D);h.scale(window.devicePixelRatio,
window.devicePixelRatio);!0}else L=ff(d),X=L[0],t=L[1],aa=L[2],ma=L[3],L=(X+aa)/2+D.scrollX,D=(t+ma)/2+D.scrollY,X=(aa-X)/2-(d.x-X),t=(ma-t)/2-(d.y-t),h.translate(L,D),h.rotate(d.angle),h.translate(-X,-t),em(d,g,h),h.translate(X,t),h.rotate(-d.angle),h.translate(-L,-D);break;default:throw Error("Unimplemented type ".concat(d.type));}},Ag=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(g,h){"string"==
typeof g?this.sceneMapById.set(g,h):this.sceneMapByElement.set(g,h)},d.getScene=function(g){return"string"==typeof g?this.sceneMapById.get(g)||null:this.sceneMapByElement.get(g)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(g){return this.elementsMap.get(g)||null},d.prototype.getNonDeletedElement=function(g){return(g=this.getElement(g))&&!g.isDeleted?g:null},d.prototype.getNonDeletedElements=
function(g){var h=this,t=[];return g.forEach(function(D){D=h.getNonDeletedElement(D);null!=D&&t.push(D)}),t},d.prototype.replaceAllElements=function(g){var h=this;this.elements=g;this.elementsMap.clear();g.forEach(function(t){h.elementsMap.set(t.id,t);d.mapElementToScene(t,h)});this.nonDeletedElements=vd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var g=0,h=Array.from(this.callbacks);g<h.length;g++)(0,h[g])()},d.prototype.addCallback=function(g){var h=this;if(this.callbacks.has(g))throw Error();
return this.callbacks.add(g),function(){if(!h.callbacks.has(g))throw Error();h.callbacks.delete(g)}},d.prototype.destroy=function(){var g=this;d.sceneMapById.forEach(function(h,t){h===g&&d.sceneMapById.delete(t)});this.callbacks.clear()},d}();Ag.sceneMapByElement=new WeakMap;Ag.sceneMapById=new Map;var Nl=new pk(Date.now()),Ze=function(){return Math.floor(Nl.next()*Math.pow(2,31))},Wj=function(){return((d=21)=>{let g="",h=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let t=63&h[d];g+=36>t?
t.toString(36):62>t?(t-26).toString(36).toUpperCase():63>t?"_":"-"}return g})()},ld=function(d,g){var h,t=!1,D=g.points,L;for(L in void 0!==D&&(g=Wa(Wa({},function(Ya){var ub=Ya.map(function(rb){return rb[0]});Ya=Ya.map(function(rb){return rb[1]});return{width:Math.max.apply(Math,ub)-Math.min.apply(Math,ub),height:Math.max.apply(Math,Ya)-Math.min.apply(Math,Ya)}}(D)),g)),g){var aa=g[L];if(void 0!==aa&&(d[L]!==aa||"object"==typeof aa&&null!==aa&&"groupIds"!==L)){if("points"===L){var X=d[L],ma=aa;if(X.length===
ma.length){for(var wa=!1,ra=X.length;--ra;){var Ua=X[ra],Xa=ma[ra];if(Ua[0]!==Xa[0]||Ua[1]!==Xa[1]){wa=!0;break}}if(!wa)continue}}d[L]=aa;t=!0}}t&&(void 0===g.height&&void 0===g.width&&void 0===D||ji.delete(d),d.version++,d.versionNonce=Ze(),null===(h=Ag.getScene(d))||void 0===h||h.informMutation())},gf=function(d,g){return Wa(Wa(Wa({},d),g),{},{version:d.version+1,versionNonce:Ze()})},Ih=function(d){return hg(d)?2>d.points.length:0===d.width&&0===d.height},Bg=function(d,g,h){var t=Math.abs(g),D=
Math.abs(h);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(D/t)/tb.ay)*tb.ay,0===d?h=0:d===Math.PI/2?g=0:h=Math.round(t*Math.tan(d))*Math.sign(h)||h):"selection"!==d&&(h=t*Math.sign(h));return{width:g,height:h}},dj=function(d){var g={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var h=Math.abs(d.width);g.width=h;g.x=d.x-h}0>d.height&&(h=Math.abs(d.height),g.height=h,g.y=d.y-h);return g},xj=l(5474),li=l.n(xj),el=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=
g[h];return d},yj=function(d,g,h){var t,D;h=h.filter(function(L){return L.groupIds.includes(d)});return 2>h.length?g.selectedGroupIds[d]||g.editingGroupId===d?Pa(Pa({},g),{},{selectedGroupIds:Pa(Pa({},g.selectedGroupIds),{},(t={},t[d]=!1,t)),editingGroupId:null}):g:Pa(Pa({},g),{},{selectedGroupIds:Pa(Pa({},g.selectedGroupIds),{},(D={},D[d]=!0,D)),selectedElementIds:Pa(Pa({},g.selectedElementIds),Object.fromEntries(h.map(function(L){return[L.id,!0]})))})},xi=function(d,g){return g.groupIds.filter(function(h){return h!==
d.editingGroupId}).find(function(h){return d.selectedGroupIds[h]})},Ri=function(d){return Object.entries(d.selectedGroupIds).filter(function(g){g[0];return g[1]}).map(function(g){var h=g[0];g[1];return h})},Yj=function(d,g){for(var h=Pa({},d),t=0,D=Le(g,d);t<D.length;t++){var L=D[t].groupIds;if(d.editingGroupId){var aa=L.indexOf(d.editingGroupId);-1<aa&&(L=L.slice(0,aa))}0<L.length&&(h=yj(L[L.length-1],h,g))}return h},oe=function(d,g){return d.filter(function(h){return h.groupIds.includes(g)})},Zj=
function(d,g){var h,t,D=g.x,L=g.y,aa=g.strokeColor,X=g.backgroundColor,ma=g.fillStyle,wa=g.strokeWidth,ra=g.strokeStyle,Ua=g.roughness,Xa=g.opacity,Ya=g.width;Ya=void 0===Ya?0:Ya;var ub=g.height;ub=void 0===ub?0:ub;var rb=g.angle;rb=void 0===rb?0:rb;var Ub=g.groupIds;Ub=void 0===Ub?[]:Ub;var Ac=g.strokeSharpness,Fc=g.boundElementIds;Fc=void 0===Fc?null:Fc;g=li()(g,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:g.id||Wj(),type:d,x:D,y:L,width:Ya,height:ub,angle:rb,strokeColor:aa,backgroundColor:X,fillStyle:ma,strokeWidth:wa,strokeStyle:ra,roughness:Ua,opacity:Xa,groupIds:Ub,strokeSharpness:Ac,seed:null!==(h=g.seed)&&void 0!==h?h:Ze(),version:g.version||1,versionNonce:null!==(t=g.versionNonce)&&void 0!==t?t:0,isDeleted:!1,boundElementIds:Fc}},Ol=function(d){return Zj(d.type,d)},Si=function(d,g){return{x:"center"===d.textAlign?g.width/2:"right"===d.textAlign?g.width:0,y:"middle"===d.verticalAlign?
g.height/2:0}},ak=function(d){var g=yg(d.text,rh(d)),h=Si(d,g);return gf(za(za({},Zj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-h.x,y:d.y-h.y,width:g.width,height:g.height,baseline:g.baseline}),{})},Ii=function(d){return za(za({},Zj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Wh=function(d,g){if(void 0===
g&&(g=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var h="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},t;for(t in d)d.hasOwnProperty(t)&&(0!==g||"shape"!==t&&"canvas"!==t)&&(h[t]=Wh(d[t],g+1));return h}if(Array.isArray(d)){h=d.length;for(t=Array(h);h--;)t[h]=Wh(d[h],g+1);return t}return d},Ji=function(d,g,h,t){h=Wh(h);return h.id=Wj(),h.seed=Ze(),h.groupIds=function(D,L,aa){var X=el([],D);L=L?D.indexOf(L):-1;D=-1<L?
L:D.length;for(L=0;L<D;L++)X[L]=aa(X[L]);return X}(h.groupIds,d,function(D){return g.has(D)||g.set(D,Wj()),g.get(D)}),t&&(h=Object.assign(h,t)),h},$d={mouse:8,pen:16,touch:28},wl={e:!0,s:!0,n:!0,w:!0},Gm={e:!0,s:!0,n:!0,w:!0},bk={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},zg=function(d,g,h,t,D,L,aa){d=Fe(d+h/2,g+t/2,D,L,aa);return[d[0]-h/2,d[1]-t/2,h,t]},tk=function(d,g,h,t,D){var L=d[0],aa=d[1],X=d[2];d=d[3];void 0===D&&(D={});var ma=$d[t];t=ma/h.value;var wa=ma/h.value,
ra=ma/h.value,Ua=ma/h.value,Xa=X-L,Ya=d-aa,ub=(L+X)/2,rb=(aa+d)/2,Ub=4/h.value;ma=(ma-8)/(2*h.value);var Ac={nw:D.nw?void 0:zg(L-Ub-ra+ma,aa-Ub-Ua+ma,t,wa,ub,rb,g),ne:D.ne?void 0:zg(X+Ub-ma,aa-Ub-Ua+ma,t,wa,ub,rb,g),sw:D.sw?void 0:zg(L-Ub-ra+ma,d+Ub-ma,t,wa,ub,rb,g),se:D.se?void 0:zg(X+Ub-ma,d+Ub-ma,t,wa,ub,rb,g),rotation:D.rotation?void 0:zg(L+Xa/2-t/2,aa-Ub-Ua+ma-16/h.value,t,wa,ub,rb,g)};h=5*$d.mouse/h.value;return Math.abs(Xa)>h&&(D.n||(Ac.n=zg(L+Xa/2-t/2,aa-Ub-Ua+ma,t,wa,ub,rb,g)),D.s||(Ac.s=
zg(L+Xa/2-t/2,d+Ub-ma,t,wa,ub,rb,g))),Math.abs(Ya)>h&&(D.w||(Ac.w=zg(L-Ub-ra+ma,aa+Ya/2-wa/2,t,wa,ub,rb,g)),D.e||(Ac.e=zg(X+Ub-ma,aa+Ya/2-wa/2,t,wa,ub,rb,g))),Ac},cj=function(d,g,h){void 0===h&&(h="mouse");var t={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var D=d.points[1];0===D[0]||0===D[1]?t=zj:0<D[0]&&0>D[1]?t=bk:0<D[0]&&0<D[1]?t=zj:0>D[0]&&0<D[1]?t=bk:0>D[0]&&0>D[1]&&(t=zj)}}else"text"===d.type&&(t=Gm);return tk(ff(d),d.angle,g,h,t)},mi=function(d,g){return[0,
0,0,0,g,d,1,0]},pg=function(d,g){void 0===d&&(d=0);void 0===g&&(g=0);var h=[0,0,0,0,0,0,0,0];if(0>g||7<g)throw Error("Expected `index` betwen 0 and 7, got `".concat(g,"`"));return 0!==d&&(h[g]=d),h},Xh=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},vk=function(d,g){return"number"==typeof g?[d[0]-g,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-g[0],d[1]-g[1],d[2]-g[2],d[3]-g[3],d[4]-g[4],d[5]-g[5],d[6]-g[6],d[7]-g[7]]},yk=function(d,g){return"number"==typeof g?[d[0]*g,d[1]*g,d[2]*g,d[3]*
g,d[4]*g,d[5]*g,d[6]*g,d[7]*g]:[g[0]*d[0]+g[2]*d[2]+g[3]*d[3]-g[6]*d[6],g[1]*d[0]+g[0]*d[1]-g[4]*d[2]+g[5]*d[3]+g[2]*d[4]-g[3]*d[5]-g[7]*d[6]-g[6]*d[7],g[2]*d[0]+g[0]*d[2]-g[6]*d[3]+g[3]*d[6],g[3]*d[0]+g[6]*d[2]+g[0]*d[3]-g[2]*d[6],g[4]*d[0]+g[2]*d[1]-g[1]*d[2]+g[7]*d[3]+g[0]*d[4]+g[6]*d[5]-g[5]*d[6]+g[3]*d[7],g[5]*d[0]-g[3]*d[1]+g[7]*d[2]+g[1]*d[3]-g[6]*d[4]+g[0]*d[5]+g[4]*d[6]+g[2]*d[7],g[6]*d[0]+g[3]*d[2]-g[2]*d[3]+g[0]*d[6],g[7]*d[0]+g[6]*d[1]+g[5]*d[2]+g[4]*d[3]+g[3]*d[4]+g[2]*d[5]+g[1]*d[6]+
g[0]*d[7]]},dk=function(d,g){return[Cj(d,g),d[1]*g[7]+d[4]*g[5]-d[5]*g[4]+d[7]*g[1],d[2]*g[7]-d[4]*g[6]+d[6]*g[4]+d[7]*g[2],d[3]*g[7]+d[5]*g[6]-d[6]*g[5]+d[7]*g[3],d[4]*g[7]+d[7]*g[4],d[5]*g[7]+d[7]*g[5],d[6]*g[7]+d[7]*g[6],d[7]*g[7]]},Cj=function(d,g){return d[0]*g[7]+d[1]*g[6]+d[2]*g[5]+d[3]*g[4]+d[4]*g[3]+d[5]*g[2]+d[6]*g[1]+d[7]*g[0]},jm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},Pi=function(d){var g=jm(d);return 0===g||1===g?d:yk(d,(0>d[6]?-1:1)/g)},wk=(pg(1,
1),pg(1,2),pg(1,3),pg(1,4),pg(1,5),pg(1,6),pg(1,7),function(d,g,h){return Pi([0,h,d,g,0,0,0,0])}),gj=function(d,g){return h=d,[(t=g)[0]*h[0]+t[2]*h[2]+t[3]*h[3]-t[6]*h[6],t[1]*h[0]+t[0]*h[1]-t[4]*h[2]+t[5]*h[3]+t[2]*h[4]-t[3]*h[5]-t[7]*h[6]-t[6]*h[7],t[2]*h[0]+t[0]*h[2]-t[6]*h[3]+t[3]*h[6],t[3]*h[0]+t[6]*h[2]+t[0]*h[3]-t[2]*h[6],t[4]*h[0]+t[7]*h[3]+t[0]*h[4]+t[3]*h[7],t[5]*h[0]+t[7]*h[2]+t[0]*h[5]+t[2]*h[7],t[6]*h[0]+t[0]*h[6],t[7]*h[0]+t[0]*h[7]];var h,t},ck=function(d){return[0,0,0,0,d[1],d[0],
1,0]},th=function(d){return[d[5],d[4]]},Yh=function(d,g){return h=yk(d,Math.sin(g/2)),t=Math.cos(g/2),"number"==typeof t?[h[0]+t,h[1],h[2],h[3],h[4],h[5],h[6],h[7]]:[h[0]+t[0],h[1]+t[1],h[2]+t[2],h[3]+t[3],h[4]+t[4],h[5]+t[5],h[6]+t[6],h[7]+t[7]];var h,t},ni=function(d,g){return Pi(yk(yk(d,g),Xh(d)))},Nk=function(d,g,h,t){var D=10/g.zoom.value;return!Bj(d,g,[h,t])&&lm(d,[h,t],D)},Bj=function(d,g,h){g=10/g.zoom.value;if("text"===d.type)var t=nm;else"arrow"===d.type?t=!1:(t="transparent"!==d.backgroundColor,
t="line"===d.type||"draw"===d.type?t&&Gi(d.points):t),t=t?Bk:xk;return fj({element:d,point:h,threshold:g,check:t})},lm=function(d,g,h){var t=g[0],D=g[1],L=ff(d);g=L[0];var aa=L[1],X=L[2];L=L[3];t=Fe(t,D,(g+X)/2,(aa+L)/2,-d.angle);d=t[0];t=t[1];return d>g-h&&d<X+h&&t>aa-h&&t<L+h},mm=function(d,g){var h=g.x;g=g.y;var t=Aj(d,d.width,d.height);return fj({element:d,point:[h,g],threshold:t,check:cn})},Aj=function(d,g,h){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(g,h),
32))},fj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var g=Fm(d.element,d.point);return d.check(g,d.threshold);case "arrow":case "line":case "draw":return Mg(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Fm=function(d,g){switch(d.type){case "rectangle":case "text":var h=Kg(d,g),t=h[1],D=h[2];d=Math;g=d.max;h=wk(0,1,-h[3]);h=Cj(t,h);D=wk(1,0,-D);t=Cj(t,D);return g.call(d,h,t);case "diamond":return t=
Kg(d,g),d=t[1],g=t[2],t=t[3],g=wk(t,g,-t*g),Cj(d,g);case "ellipse":return d=gm(d,g),g=d[1],-Math.sign(g[1])*Cj(d[0],g)}},nm=function(d,g){return 0>d},Bk=function(d,g){return d<g},xk=function(d,g){return Math.abs(d)<g},cn=function(d,g){return 0<=d&&d<g},gm=function(d,g){g=Kg(d,g);d=g[1];var h=g[2],t=g[3];g=th(d);var D=g[0],L=g[1],aa=.707,X=.707;[0,1,2,3].forEach(function(ma){ma=(h*h-t*t)*Math.pow(aa,3)/h;var wa=(t*t-h*h)*Math.pow(X,3)/t,ra=D-ma,Ua=L-wa,Xa=Math.hypot(t*X-wa,h*aa-ma),Ya=Math.hypot(Ua,
ra);aa=Math.min(1,Math.max(0,(ra*Xa/Ya+ma)/h));X=Math.min(1,Math.max(0,(Ua*Xa/Ya+wa)/t));ma=Math.hypot(X,aa);aa/=ma;X/=ma});g=mi(h*aa,t*X);return[d,gj(Pi(dk(g,d)),g)]},Mg=function(d){var g=d.element,h=d.threshold;if(!ji.get(g))return!1;var t=Kg(d.element,d.point),D=t[0],L=t[1],aa=t[2];t=wk(0,1,-t[3]);aa=wk(1,0,-aa);if(!Bk(Cj(L,t),h)||!Bk(Cj(L,aa),h))return!1;D=th(D);var X=D[0],ma=D[1];D=ji.get(g);return d.check===Bk&&D.some(function(wa){var ra=g.strokeSharpness;var Ua=[],Xa=!1,Ya=0;for(wa=Sh(wa);Ya<
wa.length;Ya++){var ub=wa[Ya];"move"===ub.op?(Xa=!Xa)&&Ua.push([ub.data[0],ub.data[1]]):"bcurveTo"===ub.op&&Xa&&(Ua.push([ub.data[0],ub.data[1]]),Ua.push([ub.data[2],ub.data[3]]),Ua.push([ub.data[4],ub.data[5]]))}4<=Ua.length?"sharp"===ra?ra=Ik(Ua,X,ma):(ra=Z(Ua,10,5),ra=Ik(ra,X,ma)):ra=!1;return ra})?!0:D.some(function(wa){return qf(wa,X,ma,h)})},Kg=function(d,g){var h,t=ck(g);g=ff(d);var D=Dj(g),L=Yh(D,d.angle);t=ni(L,t);D=vk(t,[0,0,0,0,D[4],D[5],0,0]);D=[0,0,0,0,Math.abs(D[4]),Math.abs(D[5]),1,
0];d=(h=d.x,[0,0,0,0,d.y,h,0,0]);return[vk(t,d),D,(g[2]-g[0])/2,(g[3]-g[1])/2]},og=function(d){var g=ff(d);g=Dj(g);d=Yh(g,d.angle);g=[0,0,0,0,g[4],g[5],0,0];g=Xh([1,0,0,0,-.5*g[5],.5*g[4],0,0]);return yk(g,d)},Dj=function(d){return mi((d[0]+d[2])/2,(d[1]+d[3])/2)},Jg=function(d,g,h,t){switch(void 0===t&&(t=0),d.type){case "rectangle":case "text":case "diamond":var D=Rh(d);var L=D.flatMap(function(aa,X){X=[aa,D[(X+1)%4]];var ma=t;aa=X[0];X=X[1];var wa=[0,0,0,0,X[4]-aa[4],X[5]-aa[5],0,0];var ra=Math.sqrt(Math.abs(wa[7]*
wa[7]-wa[5]*wa[5]-wa[4]*wa[4]+wa[1]*wa[1]));wa=0===ra||1===ra?wa:yk(wa,1/ra);ma*=.5;ma=[1,0,0,0,ma*wa[4],ma*wa[5],0,0];X=[ni(ma,aa),ni(ma,X)];aa=X[0];X=X[1];if(0<=Cj(aa,g)*Cj(X,g))var Ua=[];else{a:{aa=Pi(dk(X,aa));aa=Pi((Ua=g,[(Xa=aa)[0]*Ua[0],Xa[1]*Ua[0]+Xa[0]*Ua[1],Xa[2]*Ua[0]+Xa[0]*Ua[2],Xa[3]*Ua[0]+Xa[0]*Ua[3],Xa[4]*Ua[0]+Xa[2]*Ua[1]-Xa[1]*Ua[2]+Xa[0]*Ua[4],Xa[5]*Ua[0]-Xa[3]*Ua[1]+Xa[1]*Ua[3]+Xa[0]*Ua[5],Xa[6]*Ua[0]+Xa[3]*Ua[2]-Xa[2]*Ua[3]+Xa[0]*Ua[6],Xa[7]*Ua[0]+Xa[6]*Ua[1]+Xa[5]*Ua[2]+Xa[4]*
Ua[3]+Xa[3]*Ua[4]+Xa[2]*Ua[5]+Xa[1]*Ua[6]]));break a;var Xa}Ua=[aa]}return Ua}).concat(D.flatMap(function(aa){var X=t;if(0===X)var ma=0===Cj(g,aa)?[aa]:[];else{ma=g[2];var wa=g[3],ra=g[1],Ua=th(aa);aa=Ua[0];var Xa=Ua[1];Ua=ma*ma+wa*wa;X=X*X*Ua-Math.pow(ma*aa+wa*Xa+ra,2);if(0===Ua||0>=X)ma=[];else{X=Math.sqrt(X);var Ya=aa*wa*wa-Xa*ma*wa-ma*ra;ra=Xa*ma*ma-aa*ma*wa-wa*ra;ma=[mi((Ya+wa*X)/Ua,(ra-ma*X)/Ua),mi((Ya-wa*X)/Ua,(ra+ma*X)/Ua)]}}return ma}));break;case "ellipse":L=ef(d,t,g)}if(2>L.length)return[];
d=L.sort(function(aa,X){return jm(dk(aa,h))-jm(dk(X,h))});return[d[0],d[d.length-1]]},Rh=function(d,g){void 0===g&&(g=1);var h=g*d.width/2;g=g*d.height/2;switch(d.type){case "rectangle":case "text":return[mi(h,g),mi(h,-g),mi(-h,-g),mi(-h,g)];case "diamond":return[mi(0,g),mi(h,0),mi(0,-g),mi(-h,0)]}},ef=function(d,g,h){var t=d.width/2+g;d=d.height/2+g;g=h[2];var D=h[3],L=h[1];h=t*t*g*g+d*d*D*D;var aa=h-L*L;if(0===h||0>=aa)return[];aa=Math.sqrt(aa);var X=-t*t*g*L;L*=-d*d*D;return[mi((X+t*d*D*aa)/h,
(L-t*d*g*aa)/h),mi((X-t*d*D*aa)/h,(L+t*d*g*aa)/h)]},Em=function(d,g,h){var t=Math.sign(g),D=0,L=null;return Rh(d,Math.abs(g)).forEach(function(aa){var X=t*Pi(dk(aa,h))[1];X>D&&(D=X,L=aa)}),L},qf=function(d,g,h,t){var D=[0,0];return Sh(d).some(function(L,aa){aa=L.op;var X=L.data;if("move"===aa)D=X;else if("bcurveTo"===aa){L=[X[0],X[1]];aa=[X[2],X[3]];X=[X[4],X[5]];var ma=D;return D=X,function(wa,ra,Ua,Xa,Ya,ub){var rb=Ya[0];Ya=Ya[1];for(var Ub=function(Rd,Pd){return Math.pow(1-Rd,3)*Xa[Pd]+3*Rd*Math.pow(1-
Rd,2)*Ua[Pd]+3*Math.pow(Rd,2)*(1-Rd)*ra[Pd]+wa[Pd]*Math.pow(Rd,3)},Ac=0;1>=Ac;){var Fc=Ub(Ac,0),Qc=Ub(Ac,1);if(Math.sqrt(Math.pow(Fc-rb,2)+Math.pow(Qc-Ya,2))<ub)return!0;Ac+=.01}return!1}(ma,L,aa,X,[g,h],t)}return!1})},qk=function(d,g,h){return g>=d[0]&&g<=d[0]+d[2]&&h>=d[1]&&h<=d[1]+d[3]},Rl=function(d,g,h,t,D,L){return d.reduce(function(aa,X){return aa?aa:(aa=function(ma,wa,ra,Ua,Xa,Ya){if(!wa.selectedElementIds[ma.id])return!1;ma=cj(ma,Xa,Ya);wa=ma.rotation;var ub=li()(ma,["rotation"]);if(wa&&
qk(wa,ra,Ua))return"rotation";ma=Object.keys(ub).filter(function(rb){rb=ub[rb];return!!rb&&qk(rb,ra,Ua)});return 0<ma.length&&ma[0]}(X,g,h,t,D,L))?{element:X,transformHandleType:aa}:null},null)},hj=function(d,g,h,t,D){var L=tk([d[0],d[1],d[2],d[3]],0,t,D,wl);return Object.keys(L).find(function(aa){return(aa=L[aa])&&qk(aa,g,h)})||!1},Cg=["ns","nesw","ew","nwse"],Dg=function(d){var g=d.element,h=g&&-1==Math.sign(g.height)*Math.sign(g.width),t=null;switch(d.transformHandleType){case "n":case "s":t="ns";
break;case "w":case "e":t="ew";break;case "nw":case "se":t=h?"nesw":"nwse";break;case "ne":case "sw":t=h?"nwse":"nesw";break;case "rotation":return"grab"}t&&g&&(d=t,g=g.angle,h=Cg.indexOf(d),0<=h&&(d=Cg[(h+Math.round(g/(Math.PI/4)))%Cg.length]),t=d);return t?"".concat(t,"-resize"):""},ij=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},If=function(){function d(g,h){this.elementId=g.id;Ag.mapElementToScene(this.elementId,h);d.normalizePoints(g);this.lastUncommittedPoint=
this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(g){var h;return(null===(h=Ag.getScene(g))||void 0===h?void 0:h.getNonDeletedElement(g))||null},d.handlePointDragging=function(g,h,t,D,L){if(!g.editingLinearElement)return!1;var aa=g.editingLinearElement,X=aa.activePointIndex,ma=aa.isDragging,wa=d.getElement(aa.elementId);return wa?null!=X&&-1<X?(!1===ma&&h({editingLinearElement:Va(Va({},aa),
{},{isDragging:!0})}),g=d.createPointAt(wa,t-aa.pointerOffset.x,D-aa.pointerOffset.y,g.gridSize),d.movePoint(wa,X,g),Gh(wa)&&L(wa,0===X?"start":"end"),!0):!1:!1},d.handlePointerUp=function(g,h,t){g=h.activePointIndex;var D=h.isDragging,L=d.getElement(h.elementId);if(!L)return h;var aa={};!D||0!==g&&g!==L.points.length-1||(Gi(L.points,t.zoom.value)&&d.movePoint(L,g,0===g?L.points[L.points.length-1]:L.points[0]),D=t.isBindingEnabled?eh(bj(d.getPointAtIndexGlobalCoordinates(L,g)),Ag.getScene(L)):null,
(t={})[0===g?"startBindingElement":"endBindingElement"]=D,aa=t);return Va(Va(Va({},h),aa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(g,h,t,D,L){var aa={didAddPoint:!1,hitElement:null};if(!h.editingLinearElement)return aa;var X=d.getElement(h.editingLinearElement.elementId);if(!X)return aa;if(g.altKey)return null==h.editingLinearElement.lastUncommittedPoint&&ld(X,{points:ij(ij([],X.points),[d.createPointAt(X,L.x,L.y,h.gridSize)])}),D.resumeRecording(),t({editingLinearElement:Va(Va({},
h.editingLinearElement),{},{activePointIndex:X.points.length-1,lastUncommittedPoint:null,endBindingElement:eh(L,Ag.getScene(X))})}),aa.didAddPoint=!0,aa;g=d.getPointIndexUnderCursor(X,h.zoom,L.x,L.y);if(-1<g)aa.hitElement=X;else{var ma=h.editingLinearElement;D=ma.startBindingElement;ma=ma.endBindingElement;h.isBindingEnabled&&Gh(X)&&rf(X,D,ma)}ma=ff(X);D=(ma[0]+ma[2])/2;ma=(ma[1]+ma[3])/2;X=-1<g&&Fe(X.x+X.points[g][0],X.y+X.points[g][1],D,ma,X.angle);return t({editingLinearElement:Va(Va({},h.editingLinearElement),
{},{activePointIndex:-1<g?g:null,pointerOffset:X?{x:L.x-X[0],y:L.y-X[1]}:{x:0,y:0}})}),aa},d.handlePointerMove=function(g,h,t,D,L){var aa=D.lastUncommittedPoint,X=d.getElement(D.elementId);if(!X)return D;var ma=X.points,wa=ma[ma.length-1];if(!g.altKey)return wa===aa&&d.movePoint(X,ma.length-1,"delete"),Va(Va({},D),{},{lastUncommittedPoint:null});g=d.createPointAt(X,h-D.pointerOffset.x,t-D.pointerOffset.y,L);return wa===aa?d.movePoint(X,X.points.length-1,g):d.movePoint(X,"new",g),Va(Va({},D),{},{lastUncommittedPoint:X.points[X.points.length-
1]})},d.getPointsGlobalCoordinates=function(g){var h=ff(g),t=(h[0]+h[2])/2,D=(h[1]+h[3])/2;return g.points.map(function(L){var aa;return[(aa=Fe(g.x+L[0],g.y+L[1],t,D,g.angle))[0],aa[1]]})},d.getPointAtIndexGlobalCoordinates=function(g,h){var t=0>h?g.points.length+h:h;h=ff(g);t=g.points[t];return Fe(g.x+t[0],g.y+t[1],(h[0]+h[2])/2,(h[1]+h[3])/2,g.angle)},d.pointFromAbsoluteCoords=function(g,h){var t=ff(g);h=Fe(h[0],h[1],(t[0]+t[2])/2,(t[1]+t[3])/2,-g.angle);return[h[0]-g.x,h[1]-g.y]},d.getPointIndexUnderCursor=
function(g,h,t,D){g=this.getPointsGlobalCoordinates(g);for(var L=g.length;-1<--L;){var aa=g[L];if(Math.hypot(aa[0]-t,aa[1]-D)*h.value<this.POINT_HANDLE_SIZE/2+1)return L}return-1},d.createPointAt=function(g,h,t,D){h=jh(h,t,D);t=ff(g);h=Fe(h[0],h[1],(t[0]+t[2])/2,(t[1]+t[3])/2,-g.angle);return[h[0]-g.x,h[1]-g.y]},d.normalizePoints=function(g){var h=g.points,t=h[0][0],D=h[0][1];ld(g,{points:h.map(function(L,aa){return[L[0]-t,L[1]-D]}),x:g.x+t,y:g.y+D})},d.movePointByOffset=function(g,h,t){var D=g.points[h];
d.movePoint(g,h,[D[0]+t.x,D[1]+t.y])},d.movePoint=function(g,h,t,D){var L=g.points,aa=0,X=0;if("delete"===t){if("new"===h)throw Error("invalid args in movePoint");(t=L.slice()).splice(h,1);0===h&&(aa=t[0][0],X=t[0][1],t=t.map(function(Ua,Xa){return 0===Xa?[0,0]:[Ua[0]-aa,Ua[1]-X]}))}else if("new"===h)t=ij(ij([],L),[t]);else{var ma=t[0]-L[h][0],wa=t[1]-L[h][1];t=L.map(function(Ua,Xa){return Xa===h?0===Xa?(aa=ma,X=wa,Ua):(aa=0,X=0,[Ua[0]+ma,Ua[1]+wa]):aa||X?[Ua[0]-aa,Ua[1]-X]:Ua})}var ra=wd(g,t,g.strokeSharpness||
"round");L=wd(g,L,g.strokeSharpness||"round");L=Fe(aa,X,(L[0]+L[2])/2-(ra[0]+ra[2])/2,(L[1]+L[3])/2-(ra[1]+ra[3])/2,g.angle);ld(g,Va(Va({},D),{},{points:t,x:g.x+L[0],y:g.y+L[1]}))},d}();If.POINT_HANDLE_SIZE=20;var om=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},rf=function(d,g,h){var t=new Set,D=new Set;Wf(d,g,h,"start",t,D);Wf(d,h,g,"end",t,D);g=Array.from(D).filter(function(L){return!t.has(L)});Ag.getScene(d).getNonDeletedElements(g).forEach(function(L){var aa;
ld(L,{boundElementIds:null===(aa=L.boundElementIds)||void 0===aa?void 0:aa.filter(function(X){return X!==d.id})})})},Wf=function(d,g,h,t,D,L){if("keep"!==g)if(null!=g)null!=h&&("keep"===h?af(d,g,t):"start"!==t&&h.id===g.id)||(mk(d,g,t),D.add(g.id));else{var aa;g="start"===t?"startBinding":"endBinding";h=d[g];d=null==h?null:(ld(d,((aa={})[g]=null,aa)),h.elementId);null!=d&&L.add(d)}},Xf=function(d){d.forEach(function(g){Gh(g)?rf(g,sg(g,"start"),sg(g,"end")):Mf(g)&&fl(g)})},fl=function(d){wh(d).forEach(function(g){var h=
g[1];return rf(g[0],"end"===h?"keep":d,"start"===h?"keep":d)})},Ej=function(d,g,h,t){null!=g.startBoundElement&&mk(d,g.startBoundElement,"start");g=eh(t,h);null==g||af(d,g,"end")||mk(d,g,"end")},mk=function(d,g,h){var t,D;ld(d,((t={})["start"===h?"startBinding":"endBinding"]=function(L){for(var aa=1;aa<arguments.length;aa++){var X=null!=arguments[aa]?arguments[aa]:{};aa%2?Ab(Object(X),!0).forEach(function(ma){Xd()(L,ma,X[ma])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(X)):
Ab(Object(X)).forEach(function(ma){Object.defineProperty(L,ma,Object.getOwnPropertyDescriptor(X,ma))})}return L}({elementId:g.id},le(d,g,h)),t));ld(g,{boundElementIds:Array.from(new Set(om(om([],null!==(D=g.boundElementIds)&&void 0!==D?D:[]),[d.id])))})},af=function(d,g,h){h=d["start"===h?"endBinding":"startBinding"];return(null==h?void 0:h.elementId)===g.id&&3>d.points.length},nh=function(d){d.forEach(function(g){Gh(g)&&rf(g,null,null)})},eh=function(d,g){return si(g.getElements(),function(h){return Mf(h)&&
mm(h,d)})},le=function(d,g,h){var t="start"===h?-1:1;h=-1===t?0:d.points.length-1;t=h-t;h=If.getPointAtIndexGlobalCoordinates(d,h);t=If.getPointAtIndexGlobalCoordinates(d,t);a:{d=og(g);t=ni(d,ck(t));d=ni(d,ck(h));var D=Pi(dk(d,t));d=g.height/g.width;t=g.width/2;var L=g.height/2,aa=D[2],X=D[3];D=D[1];var ma=Math.abs(X),wa=Math.abs(aa);switch(g.type){case "rectangle":case "text":d=D/(t*(wa+d*ma));break a;case "diamond":d=ma<wa?D/(wa*t):D/(ma*L);break a;case "ellipse":d=D/(t*Math.sqrt(Math.pow(aa,2)+
Math.pow(d,2)*Math.pow(X,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,Fm(g,h))}},Lh=function(d,g){var h,t=null!==(h=d.boundElementIds)&&void 0!==h?h:[];if(0!==t.length){g=null!=g?g:{};var D=g.newSize,L=zi(g.simultaneouslyUpdated);Ag.getScene(d).getNonDeletedElements(t).forEach(function(aa){var X,ma;if((null===(X=aa.startBinding)||void 0===X?void 0:X.elementId)===d.id||(null===(ma=aa.endBinding)||void 0===ma?void 0:ma.elementId)===d.id)X=$e(d,aa.startBinding,D),ma=$e(d,aa.endBinding,D),L.has(aa.id)?
ld(aa,{startBinding:X,endBinding:ma}):(vm(aa,"start",X,d),vm(aa,"end",ma,d))})}},zi=function(d){return new Set((d||[]).map(function(g){return g.id}))},vm=function(d,g,h,t){var D;if(!(null==h||h.elementId!==t.id&&2<d.points.length)){var L=Ag.getScene(d).getElement(h.elementId);if(null!=L){var aa="start"===g?-1:1;t=-1===aa?0:d.points.length-1;var X=If.getPointAtIndexGlobalCoordinates(d,t-aa);aa=function(ma,wa,ra){if(0===wa){var Ua=ff(ma);Ua=Dj(Ua);return th(Ua)}Ua=og(ma);ra=ni(Ua,ck(ra));Ua=Xh(Ua);
switch(ma.type){case "rectangle":case "text":case "diamond":var Xa=Em(ma,wa,ra);break;case "ellipse":var Ya=Math.abs(wa);Xa=ma.width*Ya/2;ma=ma.height*Ya/2;wa=Math.sign(wa);Ya=th(ra);ra=Ya[0];Ya=Ya[1];Ya=0===Ya?1E-4:Ya;var ub=Math.pow(ra,2)*Math.pow(ma,2)+Math.pow(Ya,2)*Math.pow(Xa,2);wa=(-ra*Math.pow(ma,2)+wa*Ya*Math.sqrt(Math.max(0,ub-Math.pow(Xa,2)*Math.pow(ma,2))))/ub;ra=(-wa*ra-1)/Ya;Xa=-Math.pow(Xa,2)*wa/(Math.pow(ra,2)*Math.pow(ma,2)+Math.pow(wa,2)*Math.pow(Xa,2));Xa=mi(Xa,(-wa*Xa-1)/ra)}return th(ni(Ua,
Xa))}(L,h.focus,X);0===h.gap?L=aa:(L=function(ma,wa,ra,Ua){void 0===Ua&&(Ua=0);var Xa=og(ma);wa=ni(Xa,ck(wa));ra=ni(Xa,ck(ra));ra=Pi(dk(ra,wa));var Ya=Xh(Xa);return Jg(ma,ra,wa,Ua).map(function(ub){return th(ni(Ya,ub))})}(L,X,aa,h.gap),L=0===L.length?aa:L[0]);If.movePoint(d,t,If.pointFromAbsoluteCoords(d,L),((D={})["start"===g?"startBinding":"endBinding"]=h,D))}}},$e=function(d,g,h){if(null==g||null==h)return g;var t=g.gap,D=g.focus,L=h.width;h=h.height;var aa=d.width,X=d.height;return{elementId:g.elementId,
gap:Math.max(1,Math.min(Aj(d,L,h),t*(L<h?L/aa:h/X))),focus:D}},Wm=function(d){return[sg(d,"start"),sg(d,"end")].filter(function(g){return null!=g})},sg=function(d,g){return eh(bj(If.getPointAtIndexGlobalCoordinates(d,"start"===g?0:-1)),Ag.getScene(d))},wh=function(d){return Ag.getScene(d).getElements().map(function(g){if(!Gh(g))return null;var h=xf(g,"start",d),t=xf(g,"end",d);return h||t?[g,h&&t?"both":h?"start":"end",d]:null}).filter(function(g){return null!=g})},xf=function(d,g,h){return null==
d["start"===g?"startBinding":"endBinding"]&&!af(d,h,g)&&mm(h,bj(If.getPointAtIndexGlobalCoordinates(d,"start"===g?0:-1)))},bl=function(d,g,h,t){var D=new Set,L=new Set,aa="duplicatesServeAsOld"===t;g.forEach(function(X){var ma=X.boundElementIds;if(null!=ma&&0<ma.length&&(ma.forEach(function(wa){aa&&!h.has(wa)&&D.add(wa)}),L.add(h.get(X.id))),Gh(X))null!=X.startBinding&&(ma=X.startBinding.elementId,aa&&!h.has(ma)&&L.add(ma)),null!=X.endBinding&&(ma=X.endBinding.elementId,aa&&!h.has(ma)&&L.add(ma)),
null==X.startBinding&&null==X.endBinding||D.add(h.get(X.id))});d.filter(function(X){return D.has(X.id)}).forEach(function(X){var ma=X.endBinding;ld(X,{startBinding:Qg(X.startBinding,h),endBinding:Qg(ma,h)})});d.filter(function(X){return L.has(X.id)}).forEach(function(X){var ma=X.boundElementIds;null!=ma&&0<ma.length&&ld(X,{boundElementIds:ma.map(function(wa){var ra;return null!==(ra=h.get(wa))&&void 0!==ra?ra:wa})})})},Qg=function(d,g){var h;if(null==d)return null;var t=d.elementId;return{focus:d.focus,
gap:d.gap,elementId:null!==(h=g.get(t))&&void 0!==h?h:t}},bi=function(d,g){var h=new Set(g.map(function(D){return D.id})),t=new Set;g.forEach(function(D){var L;Mf(D)&&(null===(L=D.boundElementIds)||void 0===L||L.forEach(function(aa){h.has(aa)||t.add(aa)}))});d.filter(function(D){return t.has(D.id)}).forEach(function(D){var L=D.endBinding;ld(D,{startBinding:Jl(D.startBinding,h),endBinding:Jl(L,h)})})},Jl=function(d,g){return null==d||g.has(d.elementId)?null:d},oj=function(d,g){for(var h=0,t=g.length,
D=d.length;h<t;h++,D++)d[D]=g[h];return d},We=function(d){return d>=2*Math.PI?d-2*Math.PI:d},Ie=function(d,g,h){return hg(d)?{points:hi(0,g,hi(1,h,d.points))}:{}},Rg=function(d,g,h){g=g/d.width*d.fontSize;if(1>g)return null;d=yg(d.text,rh({fontSize:g,fontFamily:d.fontFamily}));return{size:g,baseline:d.baseline+(h-d.height)}},ql=function(d,g,h,t){var D=Ff(d),L=D[0],aa=D[1],X=D[2],ma=D[3];switch(g){case "se":var wa=Math.max((h-L)/(X-L),(t-aa)/(ma-aa));var ra=function(Xa,Ya,ub){var rb=Ya[0];Ya=Ya[1];
return{x:Xa.x+(rb-L)*(wa-1)+rb-ub[0],y:Xa.y+(Ya-aa)*(wa-1)+Ya-ub[1]}};break;case "nw":wa=Math.max((X-h)/(X-L),(ma-t)/(ma-aa));ra=function(Xa,Ya,ub){var rb=Ya[2];Ya=Ya[3];return{x:Xa.x-(X-rb)*(wa-1)+rb-ub[2],y:Xa.y-(ma-Ya)*(wa-1)+Ya-ub[3]}};break;case "ne":wa=Math.max((h-L)/(X-L),(ma-t)/(ma-aa));ra=function(Xa,Ya,ub){var rb=Ya[0];Ya=Ya[3];return{x:Xa.x+(rb-L)*(wa-1)+rb-ub[0],y:Xa.y-(ma-Ya)*(wa-1)+Ya-ub[3]}};break;case "sw":wa=Math.max((X-h)/(X-L),(t-aa)/(ma-aa)),ra=function(Xa,Ya,ub){var rb=Ya[1];
Ya=Ya[2];return{x:Xa.x-(X-Ya)*(wa-1)+Ya-ub[2],y:Xa.y+(rb-aa)*(wa-1)+rb-ub[1]}}}if(0<wa){var Ua=d.reduce(function(Xa,Ya){if(!Xa)return Xa;var ub=Ya.width*wa,rb=Ya.height*wa,Ub={};if("text"===Ya.type){Ub=Rg(Ya,ub,rb);if(null===Ub)return null;Ub={fontSize:Ub.size,baseline:Ub.baseline}}var Ac=ff(Ya),Fc=Ie(Ya,ub,rb);Lh(Ya,{newSize:{width:ub,height:rb},simultaneouslyUpdated:d});var Qc=Xg(Wb(Wb({},Ya),Fc),ub,rb);Ac=ra(Ya,Ac,Qc);Ya=Ac.x;Ac=Ac.y;return oj(oj([],Xa),[Wb(Wb({width:ub,height:rb,x:Ya,y:Ac},Fc),
Ub)])},[]);Ua&&d.forEach(function(Xa,Ya){ld(Xa,Ua[Ya])})}},kk=function(d,g,h,t,D,L,aa){var X=5*Math.PI/2+Math.atan2(t-aa,h-L);D&&(X+=tb.ay/2,X-=X%tb.ay);g.forEach(function(ma,wa){var ra,Ua,Xa=ff(ma);wa=(Xa[0]+Xa[2])/2;Xa=(Xa[1]+Xa[3])/2;var Ya=null!==(ra=null===(Ua=d.originalElements.get(ma.id))||void 0===Ua?void 0:Ua.angle)&&void 0!==ra?ra:ma.angle;ra=Fe(wa,Xa,L,aa,X+Ya-ma.angle);ld(ma,{x:ma.x+(ra[0]-wa),y:ma.y+(ra[1]-Xa),angle:We(X+Ya)})})},Ah=function(d,g,h,t,D,L,aa,X,ma,wa){var ra;ma&&(aa=(ra=
Bg(g,aa,L<t?-X:X)).width,0>(X=ra.height)&&(X=-X));g=D<h?h-aa:h;L=L<t?t-X:t;wa&&(g=h-(aa+=aa)/2,L=t-(X+=X)/2);0!==aa&&0!==X&&ld(d,{x:g,y:L,width:aa,height:X})},lk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},Wk=function(d){var g=yg(d.text,rh(d));ld(d,{width:g.width,height:g.height,baseline:g.baseline})},of=function(d,g){return!(d.viewModeEnabled||!d.editingElement&&!Le(g,d).length&&"selection"===d.elementType)},uh=function(d){return d.filter(function(g){return g.isDeleted||
!Ih(g)})},vh=function(d){return d.reduce(function(g,h){return g[h.id]=h,g},{})},xl=function(d){return d.reduce(function(g,h){return g+h.version},0)},vd=function(d){return d.filter(function(g){return!g.isDeleted})},kg=function(d){return vd(d).map(function(g){return Ei(g.type)?qc(qc({},g),{},{lastCommittedPoint:null}):g})},pl=function(d,g,h){var t=[d.horizontal,d.vertical].map(function(D){return null!=D&&D.x<=g&&g<=D.x+D.width&&D.y<=h&&h<=D.y+D.height});d=t[0];t=t[1];return{isOverEither:d||t,isOverHorizontal:d,
isOverVertical:t}},tg=function(d,g){return d.some(function(h){return g.selectedElementIds[h.id]})},Le=function(d,g){return d.filter(function(h){return g.selectedElementIds[h.id]})},jj=function(d,g){return g.editingElement?[g.editingElement]:Le(d,g)},vi=function(d){var g=d.scenePoint,h=d.viewportDimensions;d=d.zoom;return{scrollX:h.width/2*(1/d.value)-g.x-1/d.value*d.translation.x,scrollY:h.height/2*(1/d.value)-g.y-1/d.value*d.translation.y}},ci=function(d,g,h){var t;if(!d.length)return{scrollX:0,
scrollY:0};var D=Ff(d);h=D[0];var L=D[1],aa=D[2];D=D[3];return function(X,ma,wa){ma=wa[2];var ra=wa[3],Ua=ag({sceneX:wa[0],sceneY:wa[1]},X);wa=Ua.x;Ua=Ua.y;ma=ag({sceneX:ma,sceneY:ra},X);ra=ma.y;return ma.x-wa>X.width||ra-Ua>X.height}(g,0,[h,L,aa,D])&&(h=(t=function(X,ma){if(!X.length)return[0,0,0,0];var wa=1/0,ra=X[0];return X.forEach(function(Ua){var Xa=vj(Ua);Xa=Math.hypot(ma.x-(Xa[0]+Xa[2])/2,ma.y-(Xa[1]+Xa[3])/2);Xa<wa&&(wa=Xa,ra=Ua)}),vj(ra)}(d,Gf({clientX:g.scrollX,clientY:g.scrollY},g)))[0],
L=t[1],aa=t[2],D=t[3]),vi({scenePoint:{x:(h+aa)/2,y:(L+D)/2},viewportDimensions:{width:g.width,height:g.height},zoom:g.zoom})},Fj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},mf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},pj=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},si=function(d,g){for(var h=null,t=d.length-1;0<=t;--t){var D=d[t];if(!D.isDeleted&&g(D)){h=D;break}}return h},
fh=function(d,g,h,t){return void 0===t&&(t={x:0,y:0}),{value:d,translation:{x:t.x-h.left-d/g.value*(t.x-h.left-g.translation.x),y:t.y-h.top-d/g.value*(t.y-h.top-g.translation.y)}}},Ij=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},ve=(l(9478),na().forwardRef(function(d,g){var h=na().useRef(null);na().useImperativeHandle(g,function(){return h.current});g="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?na().createElement("button",{className:uc("ToolIcon_type_button",
g,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:h},na().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&na().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&na().createElement("div",{className:"ToolIcon__label"},
d["aria-label"]),d.children):na().createElement("label",{className:uc("ToolIcon",d.className),title:d.title},na().createElement("input",{className:"ToolIcon_type_radio ".concat(g),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:h}),na().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&na().createElement("span",{className:"ToolIcon__keybinding"},
d.keyBindingLabel)))}));ve.defaultProps={visible:!0,className:""};var ug=function(d){return"light"===d?zd.$y[4]:zd.$y[9]},Ld=function(d){return"light"===d?zd.Sn:zd.MA[4]},Ng=function(d){return"light"===d?zd.ix:"#1e1e1e"},Kd=function(d,g){void 0===g&&(g=512);g="number"==typeof g?{width:g}:g;var h=g.width;h=void 0===h?512:h;var t=g.height;t=void 0===t?h:t;var D=g.mirror;g=g.style;return na().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(h," ").concat(t),
className:uc({"rtl-mirror":D}),style:g},"string"==typeof d?na().createElement("path",{fill:"currentColor",d}):d)},Xk=Kd("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),Md=Kd("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Jj=Kd("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),Hk=Kd("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),Wi=Kd("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ai=Kd("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Kj=Kd("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
Li=Kd("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Vi=Kd("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Tc=Kd("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),od=Kd("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sc=Kd("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
Xc=Kd("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),gh=Kd("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),Bf=Kd("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Kl=(Kd("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),Kd("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),Kd(na().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),Ig=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,
null,na().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ld(d),stroke:Ld(d),strokeWidth:"2"}),na().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24,mirror:!0})}),fi=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,
null,na().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:ug(d),stroke:ug(d),strokeWidth:"2"}),na().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ld(d),stroke:Ld(d),strokeWidth:"2"})),{width:24,mirror:!0})}),rl=na().memo(function(d){d=d.appearance;
return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Ld(d),stroke:Ld(d),strokeWidth:"2"}),na().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Bc=na().memo(function(d){d=
d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:ug(d),stroke:ug(d),strokeLinejoin:"round",strokeWidth:"2"}),na().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Ld(d),stroke:Ld(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),bd=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M 2,5 H 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Bh=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M 2,19 H 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Kc=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M 5,2 V 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24})}),gl=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M 19,2 V 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24})}),Cf=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M5 5V19Z",fill:"black"}),na().createElement("path",{d:"M19 5V19M5 5V19",stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24})}),Ch=
na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M5 5L19 5M5 19H19",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeLinecap:"round"}),na().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:ug(d),stroke:ug(d),strokeWidth:"2"})),{width:24})}),hh=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:ug(d),stroke:ug(d),strokeWidth:"2"}),na().createElement("path",{d:"M 2,12 H 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Xi=na().memo(function(d){d=d.appearance;
return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:ug(d),stroke:ug(d),strokeWidth:"2"}),na().createElement("path",{d:"M 12,2 V 22",fill:Ld(d),stroke:Ld(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Ud=Kd("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),qj=(Kd("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),Kd("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),Kd("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),Lj=Kd("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),lg=Kd("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),id=Kd("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),tf=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",
{d:"M25 26H111V111H25",fill:Ld(d)}),na().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ld(d),strokeWidth:"2"}),na().createElement("path",{d:"M100 100H160V160H100",fill:Ld(d)}),na().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Ld(d),strokeWidth:"2"}),na().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),oi=na().memo(function(d){d=d.appearance;return Kd(na().createElement(na().Fragment,null,na().createElement("path",{d:"M25 26H111V111H25",fill:Ld(d)}),na().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ld(d),strokeWidth:"2"}),na().createElement("path",{d:"M100 100H160V160H100",fill:Ld(d)}),na().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:Ld(d),strokeWidth:"2"}),na().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"}),na().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Ng(d),stroke:Ld(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),rj=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:Ld(d)}),{width:40,height:20})}),rd=na().memo(function(d){d=d.appearance;return Kd(na().createElement("g",{fill:Ld(d),fillRule:"evenodd",clipRule:"evenodd"},na().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),na().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),sl=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M2 2H38V18H2V2Z",fill:Ld(d)}),{width:40,height:20})}),Nf=na().memo(function(d){var g=d.appearance;d=d.strokeWidth;return Kd(na().createElement("path",{d:"M6 10H34",stroke:Ld(g),strokeWidth:d,fill:"none"}),{width:40,height:20})}),xh=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M6 10H34",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Sl=na().memo(function(d){d=
d.appearance;return Kd(na().createElement("path",{d:"M6 10H34",stroke:Ld(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Ti=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M6 10H34",stroke:Ld(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Fh=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),yl=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),nk=na().memo(function(d){d=
d.appearance;return Kd(na().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Zg=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",
{d:"M10 17L10 5L35 5",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Yk=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),pm=na().memo(function(d){d=d.appearance;return Kd(na().createElement("path",{d:"M6 10H34",stroke:Ld(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),gg=na().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==
d&&d;return Kd(na().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:Ld(g),strokeWidth:2,fill:"none"},na().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),na().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),dn=na().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==d&&d;return Kd(na().createElement("g",{stroke:Ld(g),fill:Ld(g),transform:d?"translate(40, 0) scale(-1, 1)":""},na().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
na().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Zk=na().memo(function(d){var g=d.appearance;d=d.flip;d=void 0!==d&&d;return Kd(na().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},na().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Ld(g),strokeWidth:2,fill:"none"})),{width:40,height:20})}),Sf=[],Dd=function(d){return Sf=Sf.concat(d),d},lh=function(d,g){var h;return d.editingGroupId&&(g=oe(vd(g),d.editingGroupId),
g.length)?Hc(Hc({},d),{},{selectedElementIds:(h={},h[g[0].id]=!0,h)}):d},zl=Dd({name:"deleteSelectedElements",perform:function(d,g){if(g.editingLinearElement){var h=g.editingLinearElement,t=h.activePointIndex,D=h.startBindingElement,L=h.endBindingElement,aa=If.getElement(h.elementId);if(!aa)return!1;if(null==t||-1===t||2>aa.points.length)return d=d.filter(function(X){return X.id!==aa.id}),{elements:d,appState:Hc(Hc({},lh(g,d)),{},{editingLinearElement:null}),commitToHistory:!1};h={startBindingElement:0===
t?null:D,endBindingElement:t===aa.points.length-1?null:L};return If.movePoint(aa,t,"delete"),{elements:d,appState:Hc(Hc({},g),{},{editingLinearElement:Hc(Hc(Hc({},g.editingLinearElement),h),{},{activePointIndex:0<t?t-1:0})}),commitToHistory:!0}}h=function(X,ma){return{elements:X.map(function(wa){return ma.selectedElementIds[wa.id]?gf(wa,{isDeleted:!0}):wa}),appState:Hc(Hc({},ma),{},{selectedElementIds:{}})}}(d,g);t=h.elements;h=h.appState;return bi(t,d.filter(function(X){return g.selectedElementIds[X.id]})),
{elements:t,appState:Hc(Hc({},h=lh(h,t)),{},{elementType:"selection",multiElement:null}),commitToHistory:tg(vd(d),g)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{type:"button",icon:Ai,title:qb("labels.delete"),"aria-label":qb("labels.delete"),onClick:function(){return t(null)},visible:tg(vd(g),h)})}}),ee=function(d,g){for(var h=0,t=g.length,D=
d.length;h<t;h++,D++)d[D]=g[h];return d},Ck=function(d,g){for(var h=[],t=[],D=null,L=-1;++L<d.length;)g.selectedElementIds[d[L].id]?(t.length&&(h=h.concat(t),t=[]),h.push(L),D=L+1):d[L].isDeleted&&D===L?(D=L+1,t.push(L)):t=[];return h},ph=function(d,g,h,t){var D=g[h],L=function(aa){return!aa.isDeleted&&(!d.editingGroupId||aa.groupIds.includes(d.editingGroupId))};h="left"===t?function(aa,X,ma){void 0===ma&&(ma=aa.length-1);0>ma&&(ma=aa.length+ma);for(ma=Math.min(aa.length-1,Math.max(ma,0))+1;-1<--ma;)if(X(aa[ma],
ma,aa))return ma;return-1}(g,L,Math.max(0,h-1)):function(aa,X,ma){void 0===ma&&(ma=0);0>ma&&(ma=aa.length+ma);for(ma=Math.min(aa.length,Math.max(ma,0))-1;++ma<aa.length;)if(X(aa[ma],ma,aa))return ma;return-1}(g,L,h+1);L=g[h];if(!L)return-1;if(d.editingGroupId){if((null==D?void 0:D.groupIds.join(""))===(null==L?void 0:L.groupIds.join("")))return h;if(null==L||!L.groupIds.includes(d.editingGroupId))return-1}if(!L.groupIds.length)return h;D=d.editingGroupId?L.groupIds[L.groupIds.indexOf(d.editingGroupId)-
1]:L.groupIds[L.groupIds.length-1];D=oe(g,D);return D.length?"left"===t?g.indexOf(D[0]):g.indexOf(D[D.length-1]):h},yf=function(d,g,h){var t,D=Ck(g,d),L=(t=0,D.reduce(function(aa,X,ma){return 0<ma&&D[ma-1]!==X-1&&(t=++t),(aa[t]||(aa[t]=[])).push(X),aa},[]));return"right"===h&&(L=L.reverse()),L.forEach(function(aa,X){X=aa[0];aa=aa[aa.length-1];var ma="left"===h?X:aa,wa=ph(d,g,ma,h);if(-1!==wa&&ma!==wa){ma="left"===h?g.slice(0,wa):g.slice(0,X);var ra=g.slice(X,aa+1);X="left"===h?g.slice(wa,X):g.slice(aa+
1,wa+1);aa="left"===h?g.slice(aa+1):g.slice(wa+1);g=ee("left"===h?ee(ee(ee([],ma),ra),X):ee(ee(ee([],ma),X),ra),aa)}}),g},vg=function(d,g,h){var t=Ck(d,g),D=[],L=[];if("left"===h){if(g.editingGroupId){if(!(g=oe(d,g.editingGroupId)).length)return d;var aa=d.indexOf(g[0])}else aa=0;g=t[t.length-1]}else{if(g.editingGroupId){if(!(g=oe(d,g.editingGroupId)).length)return d;g=d.indexOf(g[g.length-1])}else g=d.length-1;aa=t[0]}for(var X=aa;X<g+1;X++)t.includes(X)?D.push(d[X]):L.push(d[X]);t=d.slice(0,aa);
d=d.slice(g+1);return ee("left"===h?ee(ee(ee([],t),D),L):ee(ee(ee([],t),L),D),d)},Ao=Dd({name:"sendBackward",perform:function(d,g){return{elements:yf(g,d.slice(),"left"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[ce]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return na().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return g(null)},title:"".concat(qb("labels.sendBackward"),
" — ").concat(ad("CtrlOrCmd+["))},na().createElement(fi,{appearance:d.appearance}))}}),ei=Dd({name:"bringForward",perform:function(d,g){return{elements:yf(g,d.slice(),"right"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[ce]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return na().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return g(null)},
title:"".concat(qb("labels.bringForward")," — ").concat(ad("CtrlOrCmd+]"))},na().createElement(Ig,{appearance:d.appearance}))}}),f=Dd({name:"sendToBack",perform:function(d,g){return{elements:vg(d,g,"left"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return ng?d[ce]&&d.altKey&&"BracketLeft"===d.code:d[ce]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var g=d.updateData;d=d.appState;return na().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return g(null)},title:"".concat(qb("labels.sendToBack")," — ").concat(ad(ng?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},na().createElement(Bc,{appearance:d.appearance}))}}),q=Dd({name:"bringToFront",perform:function(d,g){return{elements:vg(d,g,"right"),appState:g,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return ng?d[ce]&&d.altKey&&"BracketRight"===d.code:d[ce]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var g=d.updateData;
d=d.appState;return na().createElement("button",{type:"button",className:"zIndexButton",onClick:function(h){return g(null)},title:"".concat(qb("labels.bringToFront")," — ").concat(ad(ng?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},na().createElement(rl,{appearance:d.appearance}))}}),I=Dd({name:"selectAll",perform:function(d,g){return!g.editingLinearElement&&{appState:Yj(Zc(Zc({},g),{},{editingGroupId:null,selectedElementIds:d.reduce(function(h,t){return t.isDeleted||(h[t.id]=!0),h},{})}),vd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[ce]&&"a"===d.key}}),G=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},O=Dd({name:"duplicateSelection",perform:function(d,g){if(g.editingLinearElement){var h=g.editingLinearElement,t=h.activePointIndex;h=If.getElement(h.elementId);if(!h||null===t)return!1;var D=h.points,L=D[t],aa=D[t+1];return ld(h,{points:G(G(G([],D.slice(0,t+1)),[aa?[(L[0]+aa[0])/2,(L[1]+aa[1])/2]:[L[0]+30,L[1]+30]]),D.slice(t+1))}),
{appState:Ee(Ee({},g),{},{editingLinearElement:Ee(Ee({},g.editingLinearElement),{},{activePointIndex:t+1})}),elements:d,commitToHistory:!0}}return Ee(Ee({},la(d,g)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[ce]&&"d"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{type:"button",icon:lg,title:"".concat(qb("labels.duplicateSelection")," — ").concat(ad("CtrlOrCmd+D")),"aria-label":qb("labels.duplicateSelection"),
onClick:function(){return t(null)},visible:tg(vd(g),h)})}}),la=function(d,g){for(var h=new Map,t=[],D=[],L=new Map,aa=function(Ua){var Xa=Ji(g.editingGroupId,h,Ua,{x:Ua.x+tb.k/2,y:Ua.y+tb.k/2});return L.set(Ua.id,Xa.id),D.push(Ua),t.push(Xa),Xa},X=[],ma=0;ma<d.length;){var wa=d[ma];if(g.selectedElementIds[wa.id]){if(wa.groupIds.length){var ra=xi(g,wa);if(ra){wa=oe(d,ra);X.push.apply(X,G(G([],wa),wa.map(function(Ua){return aa(Ua)})));ma+=wa.length;continue}}X.push(wa,aa(wa))}else X.push(wa);ma++}return bl(X,
D,L),{elements:X,appState:Yj(Ee(Ee({},g),{},{selectedGroupIds:{},selectedElementIds:t.reduce(function(Ua,Xa){return Ua[Xa.id]=!0,Ua},{})}),vd(X))}},ua=function(d){var g=d.options,h=d.value,t=d.onChange,D=d.group;return na().createElement("div",{className:"buttonList buttonListIcon"},g.map(function(L){return na().createElement("label",{key:L.text,className:uc({active:h===L.value}),title:L.text},na().createElement("input",{type:"radio",name:D,onChange:function(){return t(L.value)},checked:h===L.value}),
L.icon)}))},va=function(d){var g=d.options,h=d.value,t=d.onChange,D=d.group;return na().createElement("div",{className:"buttonList"},g.map(function(L){return na().createElement("label",{key:L.text,className:uc({active:h===L.value})},na().createElement("input",{type:"radio",name:D,onChange:function(){return t(L.value)},checked:h===L.value}),L.text)}))},Ra=(l(2816),function(d){var g=d.children,h=d.left,t=d.top,D=d.onCloseRequest;d=d.fitInViewport;var L=void 0!==d&&d,aa=(0,Cb.useRef)(null);return(0,
Cb.useLayoutEffect)(function(){if(L&&aa.current){var X=aa.current,ma=X.getBoundingClientRect(),wa=ma.y,ra=ma.width,Ua=ma.height,Xa=window.innerWidth;ma.x+ra>Xa&&(X.style.left="".concat(Xa-ra,"px"));ma=window.innerHeight;wa+Ua>ma&&(X.style.top="".concat(ma-Ua,"px"))}},[L]),(0,Cb.useEffect)(function(){if(D){var X=function(ma){var wa;null!==(wa=aa.current)&&void 0!==wa&&wa.contains(ma.target)||(0,Lg.unstable_batchedUpdates)(function(){return D(ma)})};return document.addEventListener("pointerdown",X,
!1),function(){return document.removeEventListener("pointerdown",X,!1)}}},[D]),na().createElement("div",{className:"popover",style:{top:t,left:h},ref:aa},g)}),eb=(l(5574),function(d){var g=(new Option).style;return g.color=d,!!g.color}),hb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Kb=function(d){var g=d.colors,h=d.color,t=d.onChange,D=d.onClose,L=d.label,aa=d.showInput,X=void 0===aa||aa;d=d.type;var ma=na().useRef(),wa=na().useRef(),ra=na().useRef(),Ua=na().useRef();
na().useEffect(function(){wa.current?wa.current.focus():Ua.current?Ua.current.focus():ra.current&&ra.current.focus()},[]);return na().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":qb("labels.colorPicker"),onKeyDown:function(Xa){if("Tab"===Xa.key){var Ya,ub=document.activeElement;if(Xa.shiftKey)ub===ma.current&&(null===(Ya=Ua.current)||void 0===Ya||Ya.focus(),Xa.preventDefault());else if(ub===Ua.current){var rb;null===(rb=
ma.current)||void 0===rb||rb.focus();Xa.preventDefault()}}else Th(Xa.key)?(ub=document.activeElement,Ya=qd.rtl,-1!==(rb=Array.prototype.indexOf.call(ra.current.children,ub))&&(ub=ra.current.children.length-(X?1:0),ra.current.children[Xa.key===(Ya?"ArrowLeft":"ArrowRight")?(rb+1)%ub:Xa.key===(Ya?"ArrowRight":"ArrowLeft")?(ub+rb-1)%ub:"ArrowDown"===Xa.key?(rb+5)%ub:"ArrowUp"===Xa.key?(ub+rb-5)%ub:rb].focus()),Xa.preventDefault()):hb.includes(Xa.key.toLowerCase())&&!qh(Xa.target)?(rb=hb.indexOf(Xa.key.toLowerCase()),
ra.current.children[rb].focus(),Xa.preventDefault()):"Escape"!==Xa.key&&"Enter"!==Xa.key||(Xa.preventDefault(),D());Xa.nativeEvent.stopImmediatePropagation()}},na().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),na().createElement("div",{className:"color-picker-triangle"}),na().createElement("div",{className:"color-picker-content",ref:function(Xa){Xa&&(ra.current=Xa)},tabIndex:0},g.map(function(Xa,Ya){return na().createElement("button",{className:"color-picker-swatch",
onClick:function(ub){ub.currentTarget.focus();t(Xa)},title:"".concat(Xa," — ").concat(hb[Ya].toUpperCase()),"aria-label":Xa,"aria-keyshortcuts":hb[Ya],style:{color:Xa},key:Xa,ref:function(ub){ub&&0===Ya&&(ma.current=ub);ub&&Xa===h&&(wa.current=ub)},onFocus:function(){t(Xa)}},"transparent"===Xa?na().createElement("div",{className:"color-picker-transparent"}):void 0,na().createElement("span",{className:"color-picker-keybinding"},hb[Ya]))}),X&&na().createElement(Ob,{color:h,label:L,onChange:function(Xa){t(Xa)},
ref:Ua})))},Ob=na().forwardRef(function(d,g){var h=d.color,t=d.onChange;d=d.label;var D=na().useState(h),L=D[0],aa=D[1],X=na().useRef(null);na().useEffect(function(){aa(h)},[h]);na().useImperativeHandle(g,function(){return X.current});var ma=na().useCallback(function(wa){wa=wa.toLowerCase();var ra;(ra="transparent"===wa||eb(wa)?wa:eb("#".concat(wa))?"#".concat(wa):null)&&t(ra);aa(wa)},[t]);return na().createElement("label",{className:"color-input-container"},na().createElement("div",{className:"color-picker-hash"},
"#"),na().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(wa){return ma(wa.target.value)},value:(L||"").replace(/^#/,""),onBlur:function(){return aa(h)},ref:X}))}),Pb=function(d){var g=d.type,h=d.color,t=d.onChange;d=d.label;var D=na().useState(!1),L=D[0],aa=D[1],X=na().useRef(null);return na().createElement("div",null,na().createElement("div",{className:"color-picker-control-container"},na().createElement("button",{className:"color-picker-label-swatch",
"aria-label":d,style:h?{"--swatch-color":h}:void 0,onClick:function(){return aa(!L)},ref:X}),na().createElement(Ob,{color:h,label:d,onChange:function(ma){t(ma)}})),na().createElement(na().Suspense,{fallback:""},L?na().createElement(Ra,{onCloseRequest:function(ma){return ma.target!==X.current&&aa(!1)}},na().createElement(Kb,{colors:$f[g],color:h||null,onChange:function(ma){t(ma)},onClose:function(){var ma;aa(!1);null===(ma=X.current)||void 0===ma||ma.focus()},label:d,showInput:!1,type:g})):null))},
wc=l(6950),fd=l.n(wc);l(7143);var Hd=function(d,g,h){return d.map(function(t){var D;return g.selectedElementIds[t.id]||t.id===(null===(D=g.editingElement)||void 0===D?void 0:D.id)?h(t):t})},Af=function(d,g,h,t){var D,L,aa=g.editingElement;d=vd(d);return null!==(D=null!==(L=aa&&h(aa))&&void 0!==L?L:tg(d,g)?function(X,ma,wa){X=Array.from(new Set(Le(X,ma).map(function(ra){return wa(ra)})));return 1===X.length?X[0]:null}(d,g,h):t)&&void 0!==D?D:null},Od=(Dd({name:"changeStrokeColor",perform:function(d,
g,h){return{elements:Hd(d,g,function(t){return gf(t,{strokeColor:h})}),appState:Wd(Wd({},g),{},{currentItemStrokeColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return na().createElement(na().Fragment,null,na().createElement("h3",{"aria-hidden":"true"},qb("labels.stroke")),na().createElement(Pb,{type:"elementStroke",label:qb("labels.stroke"),color:Af(g,h,function(t){return t.strokeColor},h.currentItemStrokeColor),onChange:d}))}}),Dd({name:"changeBackgroundColor",
perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,{backgroundColor:h})}),appState:Wd(Wd({},g),{},{currentItemBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return na().createElement(na().Fragment,null,na().createElement("h3",{"aria-hidden":"true"},qb("labels.background")),na().createElement(Pb,{type:"elementBackground",label:qb("labels.background"),color:Af(g,h,function(t){return t.backgroundColor},h.currentItemBackgroundColor),
onChange:d}))}}),Dd({name:"changeFillStyle",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,{fillStyle:h})}),appState:Wd(Wd({},g),{},{currentItemFillStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.fill")),na().createElement(ua,{options:[{value:"hachure",text:qb("labels.hachure"),icon:na().createElement(rj,{appearance:h.appearance})},{value:"cross-hatch",
text:qb("labels.crossHatch"),icon:na().createElement(rd,{appearance:h.appearance})},{value:"solid",text:qb("labels.solid"),icon:na().createElement(sl,{appearance:h.appearance})}],group:"fill",value:Af(g,h,function(D){return D.fillStyle},h.currentItemFillStyle),onChange:function(D){t(D)}}))}}),Dd({name:"changeStrokeWidth",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,{strokeWidth:h})}),appState:Wd(Wd({},g),{},{currentItemStrokeWidth:h}),commitToHistory:!0}},PanelComponent:function(d){var g=
d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.strokeWidth")),na().createElement(ua,{group:"stroke-width",options:[{value:1,text:qb("labels.thin"),icon:na().createElement(Nf,{appearance:h.appearance,strokeWidth:2})},{value:2,text:qb("labels.bold"),icon:na().createElement(Nf,{appearance:h.appearance,strokeWidth:6})},{value:4,text:qb("labels.extraBold"),icon:na().createElement(Nf,{appearance:h.appearance,strokeWidth:10})}],
value:Af(g,h,function(D){return D.strokeWidth},h.currentItemStrokeWidth),onChange:function(D){return t(D)}}))}}),Dd({name:"changeSloppiness",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,{seed:Ze(),roughness:h})}),appState:Wd(Wd({},g),{},{currentItemRoughness:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.sloppiness")),na().createElement(ua,
{group:"sloppiness",options:[{value:0,text:qb("labels.architect"),icon:na().createElement(Fh,{appearance:h.appearance})},{value:1,text:qb("labels.artist"),icon:na().createElement(yl,{appearance:h.appearance})},{value:2,text:qb("labels.cartoonist"),icon:na().createElement(nk,{appearance:h.appearance})}],value:Af(g,h,function(D){return D.roughness},h.currentItemRoughness),onChange:function(D){return t(D)}}))}}),Dd({name:"changeStrokeStyle",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,
{strokeStyle:h})}),appState:Wd(Wd({},g),{},{currentItemStrokeStyle:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.strokeStyle")),na().createElement(ua,{group:"strokeStyle",options:[{value:"solid",text:qb("labels.strokeStyle_solid"),icon:na().createElement(xh,{appearance:h.appearance})},{value:"dashed",text:qb("labels.strokeStyle_dashed"),icon:na().createElement(Sl,
{appearance:h.appearance})},{value:"dotted",text:qb("labels.strokeStyle_dotted"),icon:na().createElement(Ti,{appearance:h.appearance})}],value:Af(g,h,function(D){return D.strokeStyle},h.currentItemStrokeStyle),onChange:function(D){return t(D)}}))}}),Dd({name:"changeOpacity",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return gf(t,{opacity:h})}),appState:Wd(Wd({},g),{},{currentItemOpacity:h}),commitToHistory:!0}},PanelComponent:function(d){var g,h=d.elements,t=d.appState,D=d.updateData;
return na().createElement("label",{className:"control-label"},qb("labels.opacity"),na().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(L){return D(+L.target.value)},onWheel:function(L){L.stopPropagation();var aa=+L.target.value;0>L.deltaY&&100>aa?D(aa+10):0<L.deltaY&&0<aa&&D(aa-10)},value:null!==(g=Af(h,t,function(L){return L.opacity},t.currentItemOpacity))&&void 0!==g?g:void 0}))}}),Dd({name:"changeFontSize",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return re(t)?
(t=gf(t,{fontSize:h}),Wk(t),t):t}),appState:Wd(Wd({},g),{},{currentItemFontSize:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.fontSize")),na().createElement(va,{group:"font-size",options:[{value:16,text:qb("labels.small")},{value:20,text:qb("labels.medium")},{value:28,text:qb("labels.large")},{value:36,text:qb("labels.veryLarge")}],value:Af(g,h,function(D){return re(D)&&
D.fontSize},h.currentItemFontSize||tb.n5),onChange:function(D){return t(D)}}))}}),Dd({name:"changeFontFamily",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return re(t)?(t=gf(t,{fontFamily:h}),Wk(t),t):t}),appState:Wd(Wd({},g),{},{currentItemFontFamily:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;d=[{value:1,text:qb("labels.handDrawn")},{value:2,text:qb("labels.normal")},{value:3,text:qb("labels.code")}];return na().createElement("fieldset",
null,na().createElement("legend",null,qb("labels.fontFamily")),na().createElement(va,{group:"font-family",options:d,value:Af(g,h,function(D){return re(D)&&D.fontFamily},h.currentItemFontFamily||tb.rk),onChange:function(D){return t(D)}}))}}),Dd({name:"changeTextAlign",perform:function(d,g,h){return{elements:Hd(d,g,function(t){return re(t)?(t=gf(t,{textAlign:h}),Wk(t),t):t}),appState:Wd(Wd({},g),{},{currentItemTextAlign:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,
t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.textAlign")),na().createElement(va,{group:"text-align",options:[{value:"left",text:qb("labels.left")},{value:"center",text:qb("labels.center")},{value:"right",text:qb("labels.right")}],value:Af(g,h,function(D){return re(D)&&D.textAlign},h.currentItemTextAlign),onChange:function(D){return t(D)}}))}}),Dd({name:"changeSharpness",perform:function(d,g,h){var t=jj(vd(d),g),D=t.length?t.every(function(L){return!hg(L)}):
!Ei(g.elementType);t=t.length?t.every(hg):Ei(g.elementType);return{elements:Hd(d,g,function(L){return gf(L,{strokeSharpness:h})}),appState:Wd(Wd({},g),{},{currentItemStrokeSharpness:D?h:g.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:t?h:g.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.edges")),na().createElement(ua,{group:"edges",
options:[{value:"sharp",text:qb("labels.sharp"),icon:na().createElement(Zg,{appearance:h.appearance})},{value:"round",text:qb("labels.round"),icon:na().createElement(Yk,{appearance:h.appearance})}],value:Af(g,h,function(D){return D.strokeSharpness},pj(h.elementType)&&(Ei(h.elementType)?h.currentItemLinearStrokeSharpness:h.currentItemStrokeSharpness)||null),onChange:function(D){return t(D)}}))}}),Dd({name:"changeArrowhead",perform:function(d,g,h){var t;return{elements:Hd(d,g,function(D){if(hg(D)){var L=
h.position,aa=h.type;if("start"===L)return gf(D,{startArrowhead:aa});if("end"===L)return gf(D,{endArrowhead:aa})}return D}),appState:Wd(Wd({},g),{},(t={},t["start"===h.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=h.type,t)),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;d=qd.rtl;return na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.arrowheads")),na().createElement("div",{className:"iconSelectList"},na().createElement(Qf,
{label:"arrowhead_start",options:[{value:null,text:qb("labels.arrowhead_none"),icon:na().createElement(pm,{appearance:h.appearance}),keyBinding:"q"},{value:"arrow",text:qb("labels.arrowhead_arrow"),icon:na().createElement(gg,{appearance:h.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:qb("labels.arrowhead_bar"),icon:na().createElement(Zk,{appearance:h.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:qb("labels.arrowhead_dot"),icon:na().createElement(dn,{appearance:h.appearance,flip:!d}),
keyBinding:"r"}],value:Af(g,h,function(D){return hg(D)&&"arrow"===D.type?D.startArrowhead:h.currentItemStartArrowhead},h.currentItemStartArrowhead),onChange:function(D){return t({position:"start",type:D})}}),na().createElement(Qf,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:qb("labels.arrowhead_none"),keyBinding:"q",icon:na().createElement(pm,{appearance:h.appearance})},{value:"arrow",text:qb("labels.arrowhead_arrow"),keyBinding:"w",icon:na().createElement(gg,{appearance:h.appearance,
flip:d})},{value:"bar",text:qb("labels.arrowhead_bar"),keyBinding:"e",icon:na().createElement(Zk,{appearance:h.appearance,flip:d})},{value:"dot",text:qb("labels.arrowhead_dot"),keyBinding:"r",icon:na().createElement(dn,{appearance:h.appearance,flip:d})}],value:Af(g,h,function(D){return hg(D)&&"arrow"===D.type?D.endArrowhead:h.currentItemEndArrowhead},h.currentItemEndArrowhead),onChange:function(D){return t({position:"end",type:D})}})))}}),l(2189)),Qe=l.n(Od),qe=na().createContext(!1),Rf=function(){return window.matchMedia?
window.matchMedia(Qe().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},Df=function(d){d=d.children;var g=(0,Cb.useRef)();g.current||(g.current=Rf());var h=(0,Cb.useState)(g.current.matches),t=h[0],D=h[1];return(0,Cb.useEffect)(function(){var L=function(){return D(g.current.matches)};return g.current.addListener(L),function(){return g.current.removeListener(L)}},[]),na().createElement(qe.Provider,{value:t},d)};Dd({name:"changeViewBackgroundColor",perform:function(d,
g,h){return{appState:pe(pe({},g),{},{viewBackgroundColor:h}),commitToHistory:!0}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return na().createElement("div",{style:{position:"relative"}},na().createElement(Pb,{label:qb("labels.canvasBackground"),type:"canvasBackground",color:g.viewBackgroundColor,onChange:function(t){return h(t)}}))}});Dd({name:"clearCanvas",perform:function(d,g){return{elements:d.map(function(h){return gf(h,{isDeleted:!0})}),appState:pe(pe({},kh()),{},{appearance:g.appearance,
elementLocked:g.elementLocked,exportBackground:g.exportBackground,exportEmbedScene:g.exportEmbedScene,gridSize:g.gridSize,shouldAddWatermark:g.shouldAddWatermark,showStats:g.showStats,pasteDialog:g.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,{type:"button",icon:Ai,title:qb("buttons.clearReset"),"aria-label":qb("buttons.clearReset"),showAriaLabel:ue(),onClick:function(){window.confirm(qb("alerts.clearReset"))&&g(null)}})}});Dd({name:"zoomIn",
perform:function(d,g){d=fh(Ij(g.zoom.value+tb.V4),g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2});return{appState:pe(pe({},g),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,{type:"button",icon:Vi,title:"".concat(qb("buttons.zoomIn")," — ").concat(ad("CtrlOrCmd++")),"aria-label":qb("buttons.zoomIn"),onClick:function(){g(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[ce]||d.shiftKey)}});
Dd({name:"zoomOut",perform:function(d,g){d=fh(Ij(g.zoom.value-tb.V4),g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2});return{appState:pe(pe({},g),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,{type:"button",icon:Tc,title:"".concat(qb("buttons.zoomOut")," — ").concat(ad("CtrlOrCmd+-")),"aria-label":qb("buttons.zoomOut"),onClick:function(){g(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===
d.code)&&(d[ce]||d.shiftKey)}});Dd({name:"resetZoom",perform:function(d,g){return{appState:pe(pe({},g),{},{zoom:fh(1,g.zoom,{left:g.offsetLeft,top:g.offsetTop},{x:g.width/2,y:g.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,{type:"button",icon:Kl,title:qb("buttons.resetZoom"),"aria-label":qb("buttons.resetZoom"),onClick:function(){g(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[ce]||d.shiftKey)}});var me=
function(d,g,h){d=vd(d);var t=Le(d,g);t=h&&0<t.length?Ff(t):Ff(d);h=fh(Math.min(Math.max(Math.floor(Math.min(g.width/(t[2]-t[0]),g.height/(t[3]-t[1]))/tb.V4)*tb.V4,tb.V4),1),g.zoom,{left:g.offsetLeft,top:g.offsetTop});d=(t[0]+t[2])/2;t=(t[1]+t[3])/2;return{appState:pe(pe(pe({},g),vi({scenePoint:{x:d,y:t},viewportDimensions:{width:g.width,height:g.height},zoom:h})),{},{zoom:h}),commitToHistory:!1}};Dd({name:"zoomToSelection",perform:function(d,g){return me(d,g,!0)},keyTest:function(d){return"Digit2"===
d.code&&d.shiftKey&&!d.altKey&&!d[ce]}});Dd({name:"zoomToFit",perform:function(d,g){return me(d,g,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[ce]}});var Xe,xe,zf=Dd({name:"finalize",perform:function(d,g,h,t){var D,L;h=t.canvas;if(g.editingLinearElement){t=g.editingLinearElement;var aa=t.startBindingElement,X=t.endBindingElement,ma=If.getElement(t.elementId);if(ma)return Gh(ma)&&rf(ma,aa,X),{elements:2>ma.points.length||Ih(ma)?d.filter(function(Ua){return Ua.id!==ma.id}):
void 0,appState:Uf(Uf({},g),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(t=g.multiElement?g.multiElement:"draw"===(null===(L=g.editingElement)||void 0===L?void 0:L.type)?g.editingElement:null){"draw"!==t.type&&"touch"!==g.lastPointerDownWith&&(L=t.points,(aa=t.lastCommittedPoint)&&L[L.length-1]===aa||ld(t,{points:t.points.slice(0,-1)}));Ih(t)&&(d=d.slice(0,-1));L=Gi(t.points,g.zoom.value);if(("line"===
t.type||"draw"===t.type)&&L){var wa=t.points,ra=wa[0];ld(t,{points:wa.map(function(Ua,Xa){return Xa===wa.length-1?[ra[0],ra[1]]:Ua})})}Gh(t)&&!L&&1<t.points.length&&(aa=If.getPointAtIndexGlobalCoordinates(t,-1),L=aa[0],aa=aa[1],Ej(t,g,Ag.getScene(t),{x:L,y:aa}));g.elementLocked||"draw"===g.elementType||(g.selectedElementIds[t.id]=!0)}return(g.elementLocked||"draw"===g.elementType)&&t||Hh(h),{elements:d,appState:Uf(Uf({},g),{},{elementType:(g.elementLocked||"draw"===g.elementType)&&t?g.elementType:
"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:t&&!g.elementLocked&&"draw"!==g.elementType?Uf(Uf({},g.selectedElementIds),{},(D={},D[t.id]=!0,D)):g.selectedElementIds}),commitToHistory:"draw"===g.elementType}},keyTest:function(d,g){return"Escape"===d.key&&(null!==g.editingLinearElement||!g.draggingElement&&null===g.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==g.multiElement},PanelComponent:function(d){var g=
d.appState;d=d.updateData;return na().createElement(ve,{type:"button",icon:od,title:qb("buttons.done"),"aria-label":qb("buttons.done"),onClick:d,visible:null!=g.multiElement})}}),Tg="undefined"!=typeof A&&null!==(Xe=A.env)&&void 0!==Xe&&Xe.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,g,h,t){window.gtag("event",g,{event_category:d,event_label:h,value:t})}:("undefined"!=typeof A&&null!==(xe=A.env)&&void 0!==xe&&xe.JEST_WORKER_ID,function(d,g,h,t){}),sh=(l(8518),
function(){var d=function(g,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,D){t.__proto__=D}||function(t,D){for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(t[L]=D[L])})(g,h)};return function(g,h){function t(){this.constructor=g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(t.prototype=h.prototype,new t)}}()),Eh=function(d){function g(){for(var h=
[],t=0;t<arguments.length;t++)h[t]=arguments[t];var D,L;t=this;return t=d.apply(this,h)||this,D=L=t,t.handleFocus=function(aa){aa=aa.currentTarget;var X=window.getSelection();if(X){var ma=document.createRange();ma.selectNodeContents(aa);X.removeAllRanges();X.addRange(ma)}},t.handleBlur=function(aa){aa=aa.currentTarget.innerText.trim();aa!==L.props.value&&L.props.onChange(aa);(aa=window.getSelection())&&aa.removeAllRanges()},t.handleKeyDown=function(aa){"Enter"!==aa.key||(aa.preventDefault(),aa.nativeEvent.isComposing||
229===aa.keyCode)||aa.currentTarget.blur()},t.makeEditable=function(aa){if(aa)try{aa.contentEditable="plaintext-only"}catch(X){aa.contentEditable="true"}},D}return sh(g,d),g.prototype.render=function(){return na().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},g}(Cb.Component),Oj=(l(2680),
function(d){var g=d.children,h=d.label,t=d.position;t=void 0===t?"below":t;d=d.long;d=void 0!==d&&d;return na().createElement("div",{className:"Tooltip"},na().createElement("span",{className:"above"===t?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},h),g)}),Ak=function(d){var g=d.title?d.title:"dark"===d.value?qb("buttons.lightMode"):qb("buttons.darkMode");return na().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:g},na().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(h){return d.onChange(h.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":g}),na().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Ql.MOON:Ql.SUN))},Ql={SUN:na().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},na().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:na().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},na().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const im="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",km=im?"chooseFileSystemEntries"===im?l.e(736).then(l.bind(l,9012)):l.e(736).then(l.bind(l,499)):l.e(736).then(l.bind(l,5034));im?"chooseFileSystemEntries"===im?l.e(736).then(l.bind(l,6980)):l.e(736).then(l.bind(l,868)):l.e(736).then(l.bind(l,3110));const He=im?"chooseFileSystemEntries"===im?l.e(736).then(l.bind(l,1170)):l.e(736).then(l.bind(l,7814)):l.e(736).then(l.bind(l,4001));var Qk,Ci=function(d,g){if(null!=g&&g.collaborators&&
(g=g.collaborators.get(d),null!=g&&g.color))return g.color;d=d.split("").reduce(function(t,D){return t+D.charCodeAt(0)},0);g=$f.elementBackground.slice(1);var h=$f.elementStroke.slice(1);return{background:g[d%g.length],stroke:h[d%h.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(Qk||(Qk={}));var wm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),$k=function(d,g,h,t,D,L,aa,X,ma){void 0===ma&&(ma=!1);d.translate(L,aa);d.rotate(X);ma&&d.fillRect(g-L,h-aa,t,D);d.strokeRect(g-L,h-aa,t,D);d.rotate(-X);d.translate(-L,-aa)},xm=function(d,g,h,t){d.beginPath();d.arc(g,h,t,0,2*Math.PI);d.fill();d.stroke()},Xm=function(d,g,h,t,D,L,aa,X){var ma=void 0===X?{}:X;X=ma.renderScrollbars;X=void 0===X||X;var wa=ma.renderSelection,ra=void 0===wa||wa;wa=ma.renderOptimizations;var Ua=void 0!==wa&&wa;ma=ma.renderGrid;var Xa=void 0===ma||ma;
if(!L)return{atLeastOneVisibleElement:!1};var Ya=L.getContext("2d");Ya.scale(t,t);var ub=L.width/t,rb=L.height/t;(aa.exportWithDarkMode&&(Ya.filter=tb.Gi),"string"==typeof aa.viewBackgroundColor)?(("transparent"===aa.viewBackgroundColor||5===aa.viewBackgroundColor.length||9===aa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(aa.viewBackgroundColor))&&Ya.clearRect(0,0,ub,rb),ma=Ya.fillStyle,Ya.fillStyle=aa.viewBackgroundColor,Ya.fillRect(0,0,ub,rb),Ya.fillStyle=ma):Ya.clearRect(0,0,ub,rb);ma=aa.zoom.translation.x;
wa=aa.zoom.translation.y;Ya.translate(ma,wa);Ya.scale(aa.zoom.value,aa.zoom.value);Xa&&g.gridSize&&function(Vc,md,Ad,fe,mh,Mh){var kj=Vc.strokeStyle;Vc.strokeStyle="rgba(0,0,0,0.1)";Vc.beginPath();for(var Ki=Ad;Ki<Ad+mh+2*md;Ki+=md)Vc.moveTo(Ki,fe-md),Vc.lineTo(Ki,fe+Mh+2*md);for(Ki=fe;Ki<fe+Mh+2*md;Ki+=md)Vc.moveTo(Ad-md,Ki),Vc.lineTo(Ad+mh+2*md,Ki);Vc.stroke();Vc.strokeStyle=kj}(Ya,g.gridSize,-Math.ceil(ma/aa.zoom.value/g.gridSize)*g.gridSize+aa.scrollX%g.gridSize,-Math.ceil(wa/aa.zoom.value/g.gridSize)*
g.gridSize+aa.scrollY%g.gridSize,ub/aa.zoom.value,rb/aa.zoom.value);L=d.filter(function(Vc){var md={zoom:aa.zoom,offsetLeft:g.offsetLeft,offsetTop:g.offsetTop,scrollX:aa.scrollX,scrollY:aa.scrollY},Ad=vj(Vc);Vc=Ad[0];var fe=Ad[1],mh=Ad[2];Ad=Ad[3];var Mh=Gf({clientX:md.offsetLeft,clientY:md.offsetTop},md);md=Gf({clientX:md.offsetLeft+ub,clientY:md.offsetTop+rb},md);return Mh.x<=mh&&Mh.y<=Ad&&md.x>=Vc&&md.y>=fe});(L.forEach(function(Vc){Dm(Vc,D,Ya,Ua,aa)}),g.editingLinearElement)&&(Xa=If.getElement(g.editingLinearElement.elementId))&&
function(Vc,md,Ad,fe){Vc.translate(Ad.scrollX,Ad.scrollY);var mh=Vc.strokeStyle,Mh=Vc.lineWidth;Vc.lineWidth=1/Ad.zoom.value;If.getPointsGlobalCoordinates(fe).forEach(function(kj,Ki){var Bl;Vc.strokeStyle="red";Vc.setLineDash([]);Vc.fillStyle=(null===(Bl=md.editingLinearElement)||void 0===Bl?void 0:Bl.activePointIndex)===Ki?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";xm(Vc,kj[0],kj[1],If.POINT_HANDLE_SIZE/2/Ad.zoom.value)});Vc.setLineDash([]);Vc.lineWidth=Mh;Vc.translate(-Ad.scrollX,-Ad.scrollY);
Vc.strokeStyle=mh}(Ya,g,aa,Xa);if(h&&Dm(h,D,Ya,Ua,aa),g.isBindingEnabled&&g.suggestedBindings.filter(function(Vc){return null!=Vc}).forEach(function(Vc){var md=Ya.strokeStyle,Ad=Ya.lineWidth,fe=Array.isArray(Vc)?Mi:Ll;Ya.translate(aa.scrollX,aa.scrollY);fe(Ya,Vc);Ya.strokeStyle=md;Ya.lineWidth=Ad;Ya.translate(-aa.scrollX,-aa.scrollY)}),ra&&!g.multiElement&&!g.editingLinearElement){var Ub=d.reduce(function(Vc,md){var Ad=[];if(g.selectedElementIds[md.id]&&null==xi(g,md)&&Ad.push(zd.Sn),aa.remoteSelectedElementIds[md.id]&&
Ad.push.apply(Ad,aa.remoteSelectedElementIds[md.id].map(function(mh){return Ci(mh,g).background})),Ad.length){var fe=ff(md);Vc.push({angle:md.angle,elementX1:fe[0],elementY1:fe[1],elementX2:fe[2],elementY2:fe[3],selectionColors:Ad})}return Vc},[]);h=function(Vc){Vc=oe(d,Vc);Vc=Ff(Vc);Ub.push({angle:0,elementX1:Vc[0],elementX2:Vc[2],elementY1:Vc[1],elementY2:Vc[3],selectionColors:[zd.Sn]})};ra=0;for(Xa=Ri(g);ra<Xa.length;ra++)h(Xa[ra]);g.editingGroupId&&h(g.editingGroupId);Ub.forEach(function(Vc){var md=
Vc.angle,Ad=Vc.elementX1,fe=Vc.elementY1,mh=Vc.selectionColors,Mh=Vc.elementX2-Ad;Vc=Vc.elementY2-fe;var kj=Ya.getLineDash(),Ki=Ya.lineWidth,Bl=Ya.lineDashOffset,en=Ya.strokeStyle,Tl=4/aa.zoom.value,fn=8/aa.zoom.value,Km=4/aa.zoom.value;Ya.lineWidth=1/aa.zoom.value;Ya.translate(aa.scrollX,aa.scrollY);for(var Sn=mh.length,Lm=0;Lm<Sn;++Lm)Ya.strokeStyle=mh[Lm],Ya.setLineDash([fn,Km+(fn+Km)*(Sn-1)]),Ya.lineDashOffset=(fn+Km)*Lm,$k(Ya,Ad-Tl,fe-Tl,Mh+2*Tl,Vc+2*Tl,Ad+Mh/2,fe+Vc/2,md);Ya.lineDashOffset=
Bl;Ya.strokeStyle=en;Ya.lineWidth=Ki;Ya.setLineDash(kj);Ya.translate(-aa.scrollX,-aa.scrollY)});ra=Le(d,g);if(Ya.translate(aa.scrollX,aa.scrollY),1===ra.length)Ya.fillStyle=zd.ix,h=cj(ra[0],aa.zoom,"mouse"),g.viewModeEnabled||ok(Ya,aa,h,ra[0].angle);else if(1<ra.length&&!g.isRotating){h=4/aa.zoom.value;Ya.fillStyle=zd.ix;var Ac=Ff(ra);ra=Ac[0];Xa=Ac[1];var Fc=Ac[2];Ac=Ac[3];var Qc=Ya.getLineDash();Ya.setLineDash([2/aa.zoom.value]);var Rd=Ya.lineWidth;Ya.lineWidth=1/aa.zoom.value;$k(Ya,ra-h,Xa-h,Fc-
ra+2*h,Ac-Xa+2*h,(ra+Fc)/2,(Xa+Ac)/2,0);Ya.lineWidth=Rd;Ya.setLineDash(Qc);h=tk([ra,Xa,Fc,Ac],0,aa.zoom,"mouse",wl);ok(Ya,aa,h,0)}Ya.translate(-aa.scrollX,-aa.scrollY)}for(var Pd in Ya.scale(1/aa.zoom.value,1/aa.zoom.value),Ya.translate(-ma,-wa),aa.remotePointerViewportCoords){ma=aa.remotePointerViewportCoords[Pd];Fc=ma.x;Ac=ma.y;Fc-=g.offsetLeft;Ac-=g.offsetTop;Qc=0>Fc||Fc>ub-9||0>Ac||Ac>rb-14;Fc=Math.max(Fc,0);Fc=Math.min(Fc,ub-9);Ac=Math.max(Ac,0);Ac=Math.min(Ac,rb-14);ma=Ci(Pd,g);wa=ma.background;
h=ma.stroke;ra=Ya.strokeStyle;Xa=(ma=Ya.fillStyle,Ya.globalAlpha);Ya.strokeStyle=h;Ya.fillStyle=wa;Rd=aa.remotePointerUserStates[Pd];(Qc||Rd===Qk.AWAY)&&(Ya.globalAlpha=.48);aa.remotePointerButton&&"down"===aa.remotePointerButton[Pd]&&(Ya.beginPath(),Ya.arc(Fc,Ac,15,0,2*Math.PI,!1),Ya.lineWidth=3,Ya.strokeStyle="#ffffff88",Ya.stroke(),Ya.closePath(),Ya.beginPath(),Ya.arc(Fc,Ac,15,0,2*Math.PI,!1),Ya.lineWidth=1,Ya.strokeStyle=h,Ya.stroke(),Ya.closePath());Ya.beginPath();Ya.moveTo(Fc,Ac);Ya.lineTo(Fc+
1,Ac+14);Ya.lineTo(Fc+4,Ac+9);Ya.lineTo(Fc+9,Ac+10);Ya.lineTo(Fc,Ac);Ya.fill();Ya.stroke();var de=aa.remotePointerUsernames[Pd],Vd="";Rd===Qk.AWAY?Vd=wm?"⚫️":" (".concat(Qk.AWAY,")"):Rd===Qk.IDLE?Vd=wm?"\ud83d\udca4":" (".concat(Qk.IDLE,")"):Rd===Qk.ACTIVE&&(Vd=wm?"\ud83d\udfe2":"");Rd="".concat(de?"".concat(de," "):"").concat(Vd);!Qc&&Rd&&(Fc+=9,Ac+=14,Qc=Ya.measureText(Rd),de=Qc.actualBoundingBoxDescent+Qc.actualBoundingBoxAscent,Ya.fillStyle=h,Ya.fillRect(Fc-1,Ac-1,Qc.width+8+2,de+8+2),Ya.fillStyle=
wa,Ya.fillRect(Fc,Ac,Qc.width+8,de+8),Ya.fillStyle=zd.ix,Ya.fillText(Rd,Fc+4,Ac+4+Qc.actualBoundingBoxAscent));Ya.strokeStyle=ra;Ya.fillStyle=ma;Ya.globalAlpha=Xa;Ya.closePath()}if(X){var se=function(Vc,md,Ad,fe){var mh=fe.scrollX,Mh=fe.scrollY,kj=fe.zoom;if(0===Vc.length)return{horizontal:null,vertical:null};fe=Ff(Vc);var Ki=fe[0],Bl=fe[1];Vc=fe[2];fe=fe[3];var en=md/kj.value,Tl=Ad/kj.value,fn=md-en,Km=Ad-Tl;kj=parseInt(aj("sat"));var Sn=parseInt(aj("sab")),Lm=parseInt(aj("sal")),Mr=parseInt(aj("sar")),
Et=qd.rtl;mh=fn/2-mh+Lm;Mh=Km/2-Mh+kj;en=mh+en-Mr;Tl=Mh+Tl-Sn;Ki=Math.min(Ki,mh);Bl=Math.min(Bl,Mh);Vc=Math.max(Vc,en);fe=Math.max(fe,Tl);return{horizontal:mh===Ki&&en===Vc?null:{x:Math.max(Lm,4)+(mh-Ki)/(Vc-Ki)*md,y:Ad-6-Math.max(4,Sn),width:(en-mh)/(Vc-Ki)*md-Math.max(8,Lm+Mr),height:6},vertical:Mh===Bl&&Tl===fe?null:{x:Et?Math.max(Lm,4):md-6-Math.max(Mr,4),y:(Mh-Bl)/(fe-Bl)*Ad+Math.max(kj,4),width:6,height:(Tl-Mh)/(fe-Bl)*Ad-Math.max(8,kj+Sn)}}}(d,ub,rb,aa);ma=Ya.fillStyle;ra=Ya.strokeStyle;Ya.fillStyle=
"rgba(0,0,0,0.3)";Ya.strokeStyle="rgba(255,255,255,0.8)";[se.horizontal,se.vertical].forEach(function(Vc){if(Vc){var md=Vc.x,Ad=Vc.y,fe=Vc.width;Vc=Vc.height;Ya.beginPath();Ya.moveTo(md+3,Ad);Ya.lineTo(md+fe-3,Ad);Ya.quadraticCurveTo(md+fe,Ad,md+fe,Ad+3);Ya.lineTo(md+fe,Ad+Vc-3);Ya.quadraticCurveTo(md+fe,Ad+Vc,md+fe-3,Ad+Vc);Ya.lineTo(md+3,Ad+Vc);Ya.quadraticCurveTo(md,Ad+Vc,md,Ad+Vc-3);Ya.lineTo(md,Ad+3);Ya.quadraticCurveTo(md,Ad,md+3,Ad);Ya.closePath();Ya.fill();Ya.stroke()}});Ya.fillStyle=ma;Ya.strokeStyle=
ra}return Ya.scale(1/t,1/t),{atLeastOneVisibleElement:0<L.length,scrollBars:se}},ok=function(d,g,h,t){Object.keys(h).forEach(function(D){var L=h[D];if(void 0!==L){var aa=d.lineWidth;d.lineWidth=1/g.zoom.value;"rotation"===D?xm(d,L[0]+L[2]/2,L[1]+L[3]/2,L[2]/2):$k(d,L[0],L[1],L[2],L[3],L[0]+L[2]/2,L[1]+L[3]/2,t,!0);d.lineWidth=aa}})},Ll=function(d,g){var h=ff(g),t=h[0],D=h[1],L=h[2]-t;h=h[3]-D;var aa=Aj(g,L,h);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=aa-4;aa=2+aa/2;switch(g.type){case "rectangle":case "text":$k(d,
t-aa,D-aa,L+2*aa,h+2*aa,t+L/2,D+h/2,g.angle);break;case "diamond":var X=Math.hypot(L,h);!function(ma,wa,ra,Ua,Xa,Ya){ma.translate(Ua,Xa);ma.rotate(Ya);ma.beginPath();ma.moveTo(0,ra/2);ma.lineTo(wa/2,0);ma.lineTo(0,-ra/2);ma.lineTo(-wa/2,0);ma.closePath();ma.stroke();ma.rotate(-Ya);ma.translate(-Ua,-Xa)}(d,L+aa*X/h*2,h+aa*X/L*2,t+L/2,D+h/2,g.angle);break;case "ellipse":!function(ma,wa,ra,Ua,Xa,Ya){ma.beginPath();ma.ellipse(Ua,Xa,wa/2,ra/2,Ya,0,2*Math.PI);ma.stroke()}(d,L+2*aa,h+2*aa,t+L/2,D+h/2,g.angle)}},
Mi=function(d,g){var h=g[0],t=g[1];g=g[2];var D=Aj(g,g.width,g.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===t?[0,-1]:"start"===t?[0]:[-1]).forEach(function(L){L=If.getPointAtIndexGlobalCoordinates(h,L);xm(d,L[0],L[1],D)})},tj=function(d,g,h,t){t=void 0===t?{}:t;var D=t.offsetX,L=void 0===D?0:D;t=t.offsetY;var aa=void 0===t?0:t;h&&d.forEach(function(X){X.isDeleted||function(ma,wa,ra,Ua,Xa){var Ya=ff(ma),ub=Ya[0],rb=Ya[1],Ub=(Ya[2]-ub)/2-(ma.x-ub),Ac=(Ya[3]-rb)/2-(ma.y-
rb),Fc=180*ma.angle/Math.PI;Ya=wa.generator;switch(ma.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":ui(ma,Ya);Ya=wa.draw(ji.get(ma));1!=(Pd=ma.opacity/100)&&(Ya.setAttribute("stroke-opacity","".concat(Pd)),Ya.setAttribute("fill-opacity","".concat(Pd)));Ya.setAttribute("transform","translate(".concat(Ua||0," ").concat(Xa||0,") rotate(").concat(Fc," ").concat(Ub," ").concat(Ac,")"));ra.appendChild(Ya);break;case "line":case "draw":case "arrow":ui(ma,
Ya);var Qc=ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),Rd=ma.opacity/100;ji.get(ma).forEach(function(Ad){Ad=wa.draw(Ad);1!==Rd&&(Ad.setAttribute("stroke-opacity","".concat(Rd)),Ad.setAttribute("fill-opacity","".concat(Rd)));Ad.setAttribute("transform","translate(".concat(Ua||0," ").concat(Xa||0,") rotate(").concat(Fc," ").concat(Ub," ").concat(Ac,")"));"line"!==ma.type&&"draw"!==ma.type||!Gi(ma.points)||"transparent"===ma.backgroundColor||Ad.setAttribute("fill-rule","evenodd");
Qc.appendChild(Ad)});ra.appendChild(Qc);break;default:if(!re(ma))throw Error("Unimplemented type ".concat(ma.type));var Pd=ma.opacity/100;Ya=ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==Pd&&(Ya.setAttribute("stroke-opacity","".concat(Pd)),Ya.setAttribute("fill-opacity","".concat(Pd)));Ya.setAttribute("transform","translate(".concat(Ua||0," ").concat(Xa||0,") rotate(").concat(Fc," ").concat(Ub," ").concat(Ac,")"));Pd=ma.text.replace(/\r\n?/g,"\n").split("\n");ub=ma.height/
Pd.length;rb=ma.height-ma.baseline;for(var de="center"===ma.textAlign?ma.width/2:"right"===ma.textAlign?ma.width:0,Vd=bg.test(ma.text)?"rtl":"ltr",se="center"===ma.textAlign?"middle":"right"===ma.textAlign||"rtl"===Vd?"end":"start",Vc=0;Vc<Pd.length;Vc++){var md=ra.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");md.textContent=Pd[Vc];md.setAttribute("x","".concat(de));md.setAttribute("y","".concat((Vc+1)*ub-rb));md.setAttribute("font-family","".concat(tb.ut[ma.fontFamily],", ").concat(tb._D));
md.setAttribute("font-size","".concat(ma.fontSize,"px"));md.setAttribute("fill",ma.strokeColor);md.setAttribute("text-anchor",se);md.setAttribute("style","white-space: pre;");md.setAttribute("direction",Vd);Ya.appendChild(md)}ra.appendChild(Ya)}}(X,g,h,X.x+L,X.y+aa)})},al=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},Pl=function(d,g,h,t){var D=h.exportBackground,L=h.exportPadding;L=void 0===L?10:L;var aa=h.viewBackgroundColor,X=h.scale,ma=void 0===X?1:X;h=h.shouldAddWatermark;
void 0===t&&(t=function(ra,Ua){var Xa=document.createElement("canvas");return Xa.width=ra*ma,Xa.height=Ua*ma,{canvas:Xa,scale:ma}});d=Oi(d,h);var wa=Ym(d,L,h);h=wa[0];X=wa[1];wa=t(wa[2],wa[3]);t=wa.canvas;wa=wa.scale;return Xm(d,g,null,void 0===wa?ma:wa,Di.canvas(t),t,{viewBackgroundColor:D?aa:null,exportWithDarkMode:g.exportWithDarkMode,scrollX:-h+L,scrollY:-X+L,zoom:kh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},
{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),t},vl=function(d,g){var h=g.exportBackground,t=g.exportPadding;t=void 0===t?10:t;var D=g.viewBackgroundColor,L=g.exportWithDarkMode,aa=g.scale;aa=void 0===aa?1:aa;var X=g.shouldAddWatermark;g=g.metadata;g=void 0===g?"":g;d=Oi(d,X);var ma=Ym(d,t,X);X=ma[0];var wa=ma[1],ra=ma[2],Ua=ma[3];ma=document.createElementNS("http://www.w3.org/2000/svg","svg");if(ma.setAttribute("version","1.1"),ma.setAttribute("xmlns","http://www.w3.org/2000/svg"),
ma.setAttribute("viewBox","0 0 ".concat(ra," ").concat(Ua)),ma.setAttribute("width","".concat(ra*aa)),ma.setAttribute("height","".concat(Ua*aa)),L&&ma.setAttribute("filter",tb.Gi),ma.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(g,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
h&&D)h=ma.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","".concat(ra)),h.setAttribute("height","".concat(Ua)),h.setAttribute("fill",D),ma.appendChild(h);h=Di.svg(ma);return tj(d,h,ma,{offsetX:-X+t,offsetY:-wa+t}),ma},Oi=function(d,g){var h=al([],d);g&&(g=Ff(d),d=g[2],g=g[3],h=al([],h),d=ak({text:qb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:tb.rk,textAlign:"right",verticalAlign:tb.hs,x:d,y:g+16,strokeColor:zd.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),h=al(h,[d]));return h},Ym=function(d,g,h){d=Ff(d);var t=d[0],D=d[1];return[t,D,Math.abs(t-d[2])+2*g,Math.abs(D-d[3])+g+(h?0:g)]},Pj=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},Mk=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},tn=function(d,g){return d.slice(1).every(function(h){return null!==
Mk(h[g])})},qm=function(d){var g=d[0].length;if(2<g)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===g){if(!tn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};g=null===Mk(d[0][0]);var h=(g?d.slice(1):d).map(function(L){return Mk(L[0])});return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:g?d[0][0]:null,labels:null,values:h}}}var t=tn(d,0)?0:1;if(!tn(d,t))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var D=(t+1)%2;h=(g=null===Mk(d[0][t]))?d.slice(1):d;return 2>h.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:g?d[0][t]:null,labels:h.map(function(L){return L[D]}),values:h.map(function(L){return Mk(L[t])})}}},nn=$f.elementBackground.slice(2,$f.elementBackground.length),Ni={fillStyle:"hachure",fontFamily:tb.rk,fontSize:tb.n5,opacity:100,roughness:1,strokeColor:$f.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
In=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Jn=function(d,g,h,t,D,L){var aa=In(d),X=aa.chartWidth,ma=aa.chartHeight;aa=d.title?ak(ze(ze({backgroundColor:D,groupIds:[t]},Ni),{},{text:d.title,x:g+X/2,y:h-256-24-tb.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;L=L?Ol(ze(ze({backgroundColor:D,groupIds:[t]},Ni),{},{type:"rectangle",x:g,y:h-ma,width:X,height:ma,strokeColor:$f.elementStroke[0],fillStyle:"solid",opacity:6})):null;return Pj(Pj(Pj(Pj(Pj([],
L?[L]:[]),aa?[aa]:[]),function(wa,ra,Ua,Xa,Ya){var ub;return(null===(ub=wa.labels)||void 0===ub?void 0:ub.map(function(rb,Ub){return ak(ze(ze({groupIds:[Xa],backgroundColor:Ya},Ni),{},{text:8<rb.length?"".concat(rb.slice(0,5),"..."):rb,x:ra+44*Ub+24,y:Ua+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,g,h,t,D)),function(wa,ra,Ua,Xa,Ya){var ub=ak(ze(ze({groupIds:[Xa],backgroundColor:Ya},Ni),{},{x:ra-12,y:Ua-12,text:"0",textAlign:"right"}));return[ub,ak(ze(ze({groupIds:[Xa],
backgroundColor:Ya},Ni),{},{x:ra-12,y:Ua-256-ub.height/2,text:Math.max.apply(Math,wa.values).toLocaleString(),textAlign:"right"}))]}(d,g,h,t,D)),function(wa,ra,Ua,Xa,Ya){var ub=In(wa);wa=ub.chartWidth;ub=ub.chartHeight;return[Ii(ze(ze({backgroundColor:Ya,groupIds:[Xa]},Ni),{},{type:"line",x:ra,y:Ua,startArrowhead:null,endArrowhead:null,width:wa,points:[[0,0],[wa,0]]})),Ii(ze(ze({backgroundColor:Ya,groupIds:[Xa]},Ni),{},{type:"line",x:ra,y:Ua,startArrowhead:null,endArrowhead:null,height:ub,points:[[0,
0],[0,-ub]]})),Ii(ze(ze({backgroundColor:Ya,groupIds:[Xa]},Ni),{},{type:"line",x:ra,y:Ua-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:wa,opacity:50,points:[[0,0],[wa,0]]}))]}(d,g,h,t,D))},Kn=function(d,g,h,t){return"line"===d?function(D,L,aa){for(var X=Math.max.apply(Math,D.values),ma=Wj(),wa=nn[Math.floor(Math.random()*nn.length)],ra=0,Ua=[],Xa=0,Ya=D.values;Xa<Ya.length;Xa++)Ua.push([44*ra,-Ya[Xa]/X*256]),ra++;ra=Math.max.apply(Math,Ua.map(function(rb){return rb[0]}));
Xa=Math.max.apply(Math,Ua.map(function(rb){return rb[1]}));Ya=Math.min.apply(Math,Ua.map(function(rb){return rb[0]}));var ub=Math.min.apply(Math,Ua.map(function(rb){return rb[1]}));Ua=Ii(ze(ze({backgroundColor:wa,groupIds:[ma]},Ni),{},{type:"line",x:L+12+16,y:aa-12,startArrowhead:null,endArrowhead:null,height:Xa-ub,width:ra-Ya,strokeWidth:2,points:Ua}));ra=D.values.map(function(rb,Ub){Ub=44*Ub+6;rb=-rb/X*256+6;return Ol(ze(ze({backgroundColor:wa,groupIds:[ma]},Ni),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:L+Ub+16,y:aa+rb-24,width:12,height:12}))});Xa=D.values.map(function(rb,Ub){Ub=44*Ub+6;rb=rb/X*256+18;return Ii(ze(ze({backgroundColor:wa,groupIds:[ma]},Ni),{},{type:"line",x:L+Ub+16+6,y:aa-rb,startArrowhead:null,endArrowhead:null,height:rb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,rb]]}))});return Pj(Pj(Pj(Pj([],Jn(D,L,aa,ma,wa,"production"===tb.Vi.DEVELOPMENT)),[Ua]),Xa),ra)}(g,h,t):function(D,L,aa){var X=Math.max.apply(Math,D.values),ma=Wj(),wa=nn[Math.floor(Math.random()*
nn.length)],ra=D.values.map(function(Ua,Xa){Ua=Ua/X*256;return Ol(ze(ze({backgroundColor:wa,groupIds:[ma]},Ni),{},{type:"rectangle",x:L+44*Xa+12,y:aa-Ua-12,width:32,height:Ua}))});return Pj(Pj([],ra),Jn(D,L,aa,ma,wa,"production"===tb.Vi.DEVELOPMENT))}(g,h,t)},Ln=function(){var d=function(g,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,D){t.__proto__=D}||function(t,D){for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(t[L]=D[L])})(g,h)};return function(g,h){function t(){this.constructor=
g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(t.prototype=h.prototype,new t)}}(),Lk=function(d){function g(h,t){void 0===h&&(h="Couldn't export canvas.");void 0===t&&(t="CANVAS_ERROR");var D=d.call(this)||this;return D.name=t,D.message=h,D}return Ln(g,d),g}(Error),Qn=function(d,g){var h,t,D,L,aa,X,ma,wa;d={type:d.type,version:d.version||1,versionNonce:null!==(h=d.versionNonce)&&
void 0!==h?h:0,isDeleted:null!==(t=d.isDeleted)&&void 0!==t&&t,id:d.id||Wj(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(D=d.strokeStyle)&&void 0!==D?D:"solid",roughness:null!==(L=d.roughness)&&void 0!==L?L:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(aa=d.seed)&&void 0!==aa?aa:1,groupIds:null!==(X=d.groupIds)&&void 0!==X?
X:[],strokeSharpness:null!==(ma=d.strokeSharpness)&&void 0!==ma?ma:Ei(d.type)?"round":"sharp",boundElementIds:null!==(wa=d.boundElementIds)&&void 0!==wa?wa:[]};return nf(nf(nf({},d),dj(d)),g)},uj=function(d){return(d||[]).reduce(function(g,h){if("selection"!==h.type&&!Ih(h)){a:{var t;switch(h.type){case "text":var D=h.fontSize,L=h.fontFamily;if("font"in h){D=h.font.split(" ");L=D[1];D=parseInt(D[0],10);b:{for(var aa=0,X=Object.entries(tb.ut);aa<X.length;aa++){var ma=X[aa],wa=ma[0];if(ma[1].includes(L)){L=
parseInt(wa);break b}}L=tb.rk}}h=Qn(h,{fontSize:D,fontFamily:L,text:null!==(t=h.text)&&void 0!==t?t:"",baseline:h.baseline,textAlign:h.textAlign||tb.Hg,verticalAlign:h.verticalAlign||tb.hs});break a;case "draw":case "line":case "arrow":t=h.startArrowhead;t=void 0===t?null:t;D=h.endArrowhead;D=void 0===D?"arrow"===h.type?"arrow":null:D;h=Qn(h,{startBinding:h.startBinding,endBinding:h.endBinding,points:!Array.isArray(h.points)||2>h.points.length?[[0,0],[h.width,h.height]]:h.points,lastCommittedPoint:null,
startArrowhead:t,endArrowhead:D});break a;case "ellipse":case "rectangle":case "diamond":h=Qn(h,{});break a}h=void 0}h&&g.push(h)}return g},[])},on=function(d,g){d=d||{};for(var h=kh(),t={},D=0,L=Object.entries(h);D<L.length;D++){var aa=L[D],X=aa[0];aa=aa[1];var ma=d[X],wa=g?g[X]:void 0;t[X]=void 0!==ma?ma:void 0!==wa?wa:aa}return nf(nf({},t),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:h.zoom.translation}:d.zoom||h.zoom})},Zm=function(d,
g){return{elements:uj(null==d?void 0:d.elements),appState:on(null==d?void 0:d.appState,g||null)}},Bo=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=
[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,
sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},Qi=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},Yg=function(){function d(){}return d.importLibrary=function(g){return jc()(function(){var h,t,D,L;return Bo(this,function(aa){switch(aa.label){case 0:return[4,jp(g)];case 1:return(h=aa.sent())&&h.library?(t=function(X,ma){return!X.find(function(wa){return wa.length===
ma.length&&wa.every(function(ra,Ua){return ra.id===ma[Ua].id&&ra.versionNonce===ma[Ua].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return D=aa.sent(),L=h.library.reduce(function(X,ma){ma=vd(uj(ma));return t(D,ma)&&X.push(ma),X},[]),d.saveLibrary(Qi(Qi([],D),L)),[2]}})})()},d}();Yg.libraryCache=null;Yg.resetLibrary=function(){Yg.libraryCache=null;localStorage.removeItem(tb.I.LOCAL_STORAGE_LIBRARY)};Yg.loadLibrary=function(){return new Promise(function(){var d=jc()(function(g){var h,t;return Bo(this,
function(D){if(Yg.libraryCache)return[2,g(JSON.parse(JSON.stringify(Yg.libraryCache)))];try{if(!(h=localStorage.getItem(tb.I.LOCAL_STORAGE_LIBRARY)))return[2,g([])];t=JSON.parse(h).map(function(L){return uj(L)});Yg.libraryCache=JSON.parse(JSON.stringify(t));g(t)}catch(L){console.error(L),g([])}return[2]})});return function(g){return d.apply(this,arguments)}}())};Yg.saveLibrary=function(d){var g=Yg.libraryCache;try{var h=JSON.stringify(d);Yg.libraryCache=JSON.parse(h);localStorage.setItem(tb.I.LOCAL_STORAGE_LIBRARY,
h)}catch(t){Yg.libraryCache=g,console.error(t)}};var Zl=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();
continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},
trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},$l=function(d,g){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:kg(d),appState:dl(g,"export")},null,2)},Ml=function(){var d=jc()(function(g,h){var t;return Zl(this,function(D){switch(D.label){case 0:return t=$l(g,h),[4,fg(new Blob([t],{type:"application/json"}),{fileName:h.name,description:"Excalidraw file",extensions:[".excalidraw"]},
h.fileHandle)];case 1:return[2,{fileHandle:D.sent()}]}})});return function(g,h){return d.apply(this,arguments)}}(),$m=function(){var d=jc()(function(g){var h;return Zl(this,function(t){switch(t.label){case 0:return[4,di({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return h=t.sent(),[2,Cm(h,g)]}})});return function(g){return d.apply(this,arguments)}}(),am=function(){var d=jc()(function(){var g,
h;return Zl(this,function(t){switch(t.label){case 0:return[4,Yg.loadLibrary()];case 1:return g=t.sent(),h=JSON.stringify({type:"excalidrawlib",version:1,library:g},null,2),"library.excalidrawlib",[4,fg(new Blob([h],{type:tb.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return t.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),ip=function(){var d=jc()(function(){var g;return Zl(this,function(h){switch(h.label){case 0:return[4,
di({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return g=h.sent(),Yg.importLibrary(g),[2]}})});return function(){return d.apply(this,arguments)}}(),ym=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=
[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=
[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},pn=function(){var d=jc()(function(g){var h;return ym(this,function(t){switch(t.label){case 0:if("image/png"!==g.type)return[3,6];t.label=1;case 1:return t.trys.push([1,4,,5]),[4,Promise.all([l.e(736),
l.e(9)]).then(l.bind(l,8527))];case 2:return[4,t.sent().decodePngMetadata(g)];case 3:return[2,t.sent()];case 4:throw"INVALID"===t.sent().message?Error(qb("alerts.imageDoesNotContainScene")):Error(qb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,g.text()]:[3,8];case 7:return h=t.sent(),[3,10];case 8:return[4,new Promise(function(D){var L=new FileReader;L.readAsText(g,"utf8");L.onloadend=function(){L.readyState===FileReader.DONE&&D(L.result)}})];case 9:h=t.sent(),
t.label=10;case 10:if("image/svg+xml"!==g.type)return[3,15];t.label=11;case 11:return t.trys.push([11,14,,15]),[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))];case 12:return[4,t.sent().decodeSvgMetadata({svg:h})];case 13:return[2,t.sent()];case 14:throw"INVALID"===t.sent().message?Error(qb("alerts.imageDoesNotContainScene")):Error(qb("alerts.cannotRestoreFromImage"));case 15:return[2,h]}})});return function(g){return d.apply(this,arguments)}}(),Cm=function(){var d=jc()(function(g,h){var t,
D;return ym(this,function(L){switch(L.label){case 0:return[4,pn(g)];case 1:t=L.sent();try{var aa=D=JSON.parse(t);if("excalidraw"!==(null==aa?void 0:aa.type)||aa.elements&&(!Array.isArray(aa.elements)||aa.appState&&"object"!=typeof aa.appState))throw Error(qb("alerts.couldNotLoadInvalidFile"));var X=kg(D.elements||[]),ma=null==h?void 0:h.appearance,wa;if(wa=g.handle){var ra=["application/json",tb.LO.excalidraw],Ua=ra.includes;a:{if("string"==typeof g)var Xa=g;else{if(g.type){var Ya=g.type;break a}Xa=
g.name||""}Ya=/\.(excalidraw|json)$/.test(Xa)?"application/json":/\.png$/.test(Xa)?"image/png":/\.jpe?g$/.test(Xa)?"image/jpeg":/\.svg$/.test(Xa)?"image/svg+xml":""}wa=Ua.call(ra,Ya)}return[2,Zm({elements:X,appState:oh(oh({appearance:ma,fileHandle:wa?g.handle:null},dl(D.appState||{},"export")),h?ci(D.elements||[],h):{})},h)]}catch(ub){throw console.error(ub.message),Error(qb("alerts.couldNotLoadInvalidFile"));}}})});return function(g,h){return d.apply(this,arguments)}}(),jp=function(){var d=jc()(function(g){var h,
t;return ym(this,function(D){switch(D.label){case 0:return[4,pn(g)];case 1:if(h=D.sent(),"excalidrawlib"!==(t=JSON.parse(h)).type)throw Error(qb("alerts.couldNotLoadInvalidFile"));return[2,t]}})});return function(g){return d.apply(this,arguments)}}(),zm=function(){var d=jc()(function(g){return ym(this,function(h){return[2,new Promise(function(t,D){try{g.toBlob(function(L){if(!L)return D(new Lk(qb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));t(L)})}catch(L){D(L)}})]})});return function(g){return d.apply(this,
arguments)}}(),Sj=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=
0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),
throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},Bm="",Am=!1,Jh="clipboard"in navigator&&"readText"in navigator.clipboard,Tj="clipboard"in navigator&&"writeText"in navigator.clipboard,sk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,rk=function(){var d=jc()(function(g,h){var t,D,L;return Sj(this,function(aa){switch(aa.label){case 0:t={type:"excalidraw/elements",created:Date.now(),
elements:Le(g,h)},Bm=D=JSON.stringify(t),aa.label=1;case 1:return aa.trys.push([1,3,,4]),Am=!1,[4,lb(D)];case 2:return aa.sent(),[3,4];case 3:return L=aa.sent(),Am=!0,console.error(L),[3,4];case 4:return[2]}})});return function(g,h){return d.apply(this,arguments)}}(),x=function(){if(!Bm)return{};try{return JSON.parse(Bm)}catch(d){return console.error(d),{}}},M=function(d){d=function(g){var h=g.trim().split("\n").map(function(D){return D.trim().split("\t")});if(h.length&&2!==h[0].length&&(h=g.trim().split("\n").map(function(D){return D.trim().split(",")})),
0===h.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var t=h[0].length;if(!h.every(function(D){return D.length===t}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};g=qm(h);return"VALID_SPREADSHEET"!==g.type&&(h=qm(function(D){for(var L=[],aa=0;aa<D[0].length;aa++){for(var X=[],ma=0;ma<D.length;ma++)X.push(D[ma][aa]);L.push(X)}return L}(h)),"VALID_SPREADSHEET"===h.type)?h:g}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},ja=function(){var d=
jc()(function(g){var h,t,D;return Sj(this,function(L){switch(L.label){case 0:return L.trys.push([0,5,,6]),g?(t=null===(h=g.clipboardData)||void 0===h?void 0:h.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(D=Jh)?[4,navigator.clipboard.readText()]:[3,3];case 2:D=L.sent(),L.label=3;case 3:t=D,L.label=4;case 4:return[2,t||""];case 5:return L.sent(),[2,""];case 6:return[2]}})});return function(g){return d.apply(this,arguments)}}(),Na=function(){var d=jc()(function(g){var h,t,D,L;return Sj(this,
function(aa){switch(aa.label){case 0:return[4,ja(g)];case 1:if(!(h=aa.sent())||h.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,x()];if(t=M(h))return[2,t];D=x();try{return L=JSON.parse(h),"excalidraw/elements"===(null==(X=L)?void 0:X.type)&&(null==D||!D.created||D.created<L.created)?[2,{elements:L.elements}]:[2,D]}catch(ma){return[2,Am&&D.elements?D:{text:h}]}}var X})});return function(g){return d.apply(this,arguments)}}(),bb=function(){var d=jc()(function(g){var h;return Sj(this,function(t){switch(t.label){case 0:return[4,
zm(g)];case 1:return h=t.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":h})])];case 2:return t.sent(),[2]}})});return function(g){return d.apply(this,arguments)}}(),lb=function(){var d=jc()(function(g){var h,t;return Sj(this,function(D){switch(D.label){case 0:if(h=!1,!Tj)return[3,4];D.label=1;case 1:return D.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(g||"")];case 2:return D.sent(),h=!0,[3,4];case 3:return t=D.sent(),console.error(t),[3,4];case 4:if(D=!h){var L=
g||" ",aa="rtl"===document.documentElement.getAttribute("dir");D=document.createElement("textarea");D.style.border="0";D.style.padding="0";D.style.margin="0";D.style.position="absolute";D.style[aa?"right":"left"]="-9999px";D.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");D.style.fontSize="12pt";D.setAttribute("readonly","");D.value=L;document.body.appendChild(D);L=!1;try{D.select(),D.setSelectionRange(0,D.value.length),L=document.execCommand("copy")}catch(X){console.error(X)}D=
!(D.remove(),L)}if(D)throw Error("couldn't copy");return[2]}})});return function(g){return d.apply(this,arguments)}}(),Gb=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;
D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,
X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},Sb=function(){var d=jc()(function(g,h,t,D,L){var aa,X,ma,wa,ra,Ua,Xa,Ya,ub,rb=L.exportBackground,Ub=L.exportPadding,Ac=void 0===Ub?10:Ub,Fc=L.viewBackgroundColor,Qc=L.name;Ub=L.scale;var Rd=void 0===Ub?1:Ub,Pd=L.shouldAddWatermark;return Gb(this,function(de){switch(de.label){case 0:if(0===h.length)throw Error(qb("alerts.cannotExportEmptyCanvas"));
return"svg"!==g&&"clipboard-svg"!==g?[3,7]:(X=vl,ma=[h],wa={exportBackground:rb,exportWithDarkMode:t.exportWithDarkMode,viewBackgroundColor:Fc,exportPadding:Ac,scale:Rd,shouldAddWatermark:Pd},t.exportEmbedScene&&"svg"===g?[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))]:[3,3]);case 1:return[4,de.sent().encodeSvgMetadata({text:$l(h,t)})];case 2:return ra=de.sent(),[3,4];case 3:ra=void 0,de.label=4;case 4:return aa=X.apply(void 0,ma.concat([(wa.metadata=ra,wa)])),"svg"!==g?[3,6]:[4,fg(new Blob([aa.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(Qc,".svg"),extensions:[".svg"]})];case 5:return de.sent(),[2];case 6:if("clipboard-svg"===g)return lb(aa.outerHTML),[2];de.label=7;case 7:return(Ua=Pl(h,t,{exportBackground:rb,viewBackgroundColor:Fc,exportPadding:Ac,scale:Rd,shouldAddWatermark:Pd})).style.display="none",document.body.appendChild(Ua),"png"!==g?[3,13]:(Xa="".concat(Qc,".png"),[4,zm(Ua)]);case 8:return Ya=de.sent(),t.exportEmbedScene?[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))]:
[3,11];case 9:return[4,de.sent().encodePngMetadata({blob:Ya,metadata:$l(h,t)})];case 10:Ya=de.sent(),de.label=11;case 11:return[4,fg(Ya,{fileName:Xa,extensions:[".png"]})];case 12:return de.sent(),[3,17];case 13:if("clipboard"!==g)return[3,17];de.label=14;case 14:return de.trys.push([14,16,,17]),[4,bb(Ua)];case 15:return de.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(ub=de.sent()).name)throw ub;throw Error(qb("alerts.couldNotCopyToClipboard"));case 17:return Ua!==D&&Ua.remove(),[2]}})});
return function(g,h,t,D,L){return d.apply(this,arguments)}}(),cc=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();
X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];
return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},rc,Nc,hd;Dd({name:"changeProjectName",perform:function(d,g,h){return Tg("change","title"),{appState:Fd(Fd({},g),{},{name:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return na().createElement(Eh,{label:qb("labels.fileTitle"),value:g.name||"Unnamed",onChange:function(t){return h(t)}})}});Dd({name:"changeExportBackground",
perform:function(d,g,h){return{appState:Fd(Fd({},g),{},{exportBackground:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return na().createElement("label",null,na().createElement("input",{type:"checkbox",checked:g.exportBackground,onChange:function(t){return h(t.target.checked)}})," ",qb("labels.withBackground"))}});Dd({name:"changeExportEmbedScene",perform:function(d,g,h){return{appState:Fd(Fd({},g),{},{exportEmbedScene:h}),commitToHistory:!1}},PanelComponent:function(d){var g=
d.appState,h=d.updateData;return na().createElement("label",{style:{display:"flex"}},na().createElement("input",{type:"checkbox",checked:g.exportEmbedScene,onChange:function(t){return h(t.target.checked)}})," ",qb("labels.exportEmbedScene"),na().createElement(Oj,{label:qb("labels.exportEmbedScene_details"),position:"above",long:!0},na().createElement("div",{className:"TooltipIcon"},Bf)))}});Dd({name:"changeShouldAddWatermark",perform:function(d,g,h){return{appState:Fd(Fd({},g),{},{shouldAddWatermark:h}),
commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return na().createElement("label",null,na().createElement("input",{type:"checkbox",checked:g.shouldAddWatermark,onChange:function(t){return h(t.target.checked)}})," ",qb("labels.addWatermark"))}});Dd({name:"saveScene",perform:(rc=jc()(function(d,g,h){var t,D,L;return cc(this,function(aa){switch(aa.label){case 0:t=!!g.fileHandle,aa.label=1;case 1:return aa.trys.push([1,3,,4]),[4,Ml(d,g)];case 2:return D=aa.sent().fileHandle,
[2,{commitToHistory:!1,appState:Fd(Fd({},g),{},{fileHandle:D,toastMessage:t?D.name?qb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(D.name,'"')):qb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(L=aa.sent())?void 0:L.name)&&console.error(L),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,g,h){return rc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[ce]&&!d.shiftKey},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,
{type:"button",icon:Md,title:qb("buttons.save"),"aria-label":qb("buttons.save"),showAriaLabel:ue(),onClick:function(){return g(null)}})}});Dd({name:"saveAsScene",perform:(Nc=jc()(function(d,g,h){var t,D;return cc(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Ml(d,Fd(Fd({},g),{},{fileHandle:null}))];case 1:return t=L.sent().fileHandle,[2,{commitToHistory:!1,appState:Fd(Fd({},g),{},{fileHandle:t})}];case 2:return"AbortError"!==(null==(D=L.sent())?void 0:D.name)&&console.error(D),
[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,g,h){return Nc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[ce]},PanelComponent:function(d){var g=d.updateData;return na().createElement(ve,{type:"button",icon:Jj,title:qb("buttons.saveAs"),"aria-label":qb("buttons.saveAs"),showAriaLabel:ue(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return g(null)}})}});Dd({name:"loadScene",perform:(hd=jc()(function(d,g){var h,
t,D,L;return cc(this,function(aa){switch(aa.label){case 0:return aa.trys.push([0,2,,3]),[4,$m(g)];case 1:return h=aa.sent(),t=h.elements,D=h.appState,[2,{elements:t,appState:D,commitToHistory:!0}];case 2:return"AbortError"===(null==(L=aa.sent())?void 0:L.name)?[2,!1]:[2,{elements:d,appState:Fd(Fd({},g),{},{errorMessage:L.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,g){return hd.apply(this,arguments)}),keyTest:function(d){return d[ce]&&"o"===d.key},PanelComponent:function(d){var g=
d.updateData;d.appState;return na().createElement(ve,{type:"button",icon:Hk,title:qb("buttons.load"),"aria-label":qb("buttons.load"),showAriaLabel:ue(),onClick:g})}});Dd({name:"exportWithDarkMode",perform:function(d,g,h){return{appState:Fd(Fd({},g),{},{exportWithDarkMode:h}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;return na().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},na().createElement(Ak,{value:g.exportWithDarkMode?
"dark":"light",onChange:function(t){h("dark"===t)},title:qb("labels.toggleExportColorScheme")}))}});var ud="{}",Ge=Dd({name:"copyStyles",perform:function(d,g){d=d.find(function(h){return g.selectedElementIds[h.id]});return d&&(ud=JSON.stringify(d)),{appState:Dh(Dh({},g),{},{toastMessage:qb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[ce]&&d.altKey&&"KeyC"===d.code}}),ye=Dd({name:"pasteStyles",perform:function(d,g){var h=JSON.parse(ud);
return"text"!==(null==h?void 0:h.type)&&"diamond"!==(null==h?void 0:h.type)&&"rectangle"!==(null==h?void 0:h.type)&&"ellipse"!==(null==h?void 0:h.type)&&"arrow"!==(null==h?void 0:h.type)&&"draw"!==(null==h?void 0:h.type)&&"line"!==(null==h?void 0:h.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(t){return g.selectedElementIds[t.id]?(t=gf(t,{backgroundColor:null==h?void 0:h.backgroundColor,strokeWidth:null==h?void 0:h.strokeWidth,strokeColor:null==h?void 0:h.strokeColor,strokeStyle:null==
h?void 0:h.strokeStyle,fillStyle:null==h?void 0:h.fillStyle,opacity:null==h?void 0:h.opacity,roughness:null==h?void 0:h.roughness}),re(t)&&(ld(t,{fontSize:(null==h?void 0:h.fontSize)||tb.n5,fontFamily:(null==h?void 0:h.fontFamily)||tb.rk,textAlign:(null==h?void 0:h.textAlign)||tb.Hg}),Wk(t)),t):t}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[ce]&&d.altKey&&"KeyV"===d.code}}),Vh=function(d){return na().createElement("label",{title:"".concat(d.title," — ?"),
className:"help-icon"},na().createElement("div",{onClick:d.onClick},Bf))};Dd({name:"toggleCanvasMenu",perform:function(d,g){return{appState:Ug(Ug({},g),{},{openMenu:"canvas"===g.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var g=d.appState;d=d.updateData;return na().createElement(ve,{type:"button",icon:Sc,"aria-label":qb("buttons.menu"),onClick:d,selected:"canvas"===g.openMenu})}});Dd({name:"toggleEditMenu",perform:function(d,g){return{appState:Ug(Ug({},g),{},{openMenu:"shape"===
g.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var g=d.elements,h=d.appState;d=d.updateData;return na().createElement(ve,{visible:of(h,vd(g)),type:"button",icon:Kj,"aria-label":qb("buttons.edit"),onClick:d,selected:"shape"===h.openMenu})}});Dd({name:"toggleFullScreen",perform:function(){return bh()||document.documentElement.requestFullscreen(),bh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[ce]}});Dd({name:"toggleShortcuts",
perform:function(d,g){return{appState:Ug(Ug({},g),{},{showHelpDialog:!g.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return na().createElement(Vh,{title:qb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Kk=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},Xj=function(d,g){d=Le(vd(d),g);return 2<=d.length&&!function(h){if(2<=h.length)for(var t=function(X){if(h.reduce(function(ma,wa){return ma&&wa.groupIds.includes(X)},
!0))return{value:!0}},D=0,L=h[0].groupIds;D<L.length;D++){var aa=t(L[D]);if("object"==typeof aa)return aa.value}return!1}(d)},wf=Dd({name:"group",perform:function(d,g){var h=Le(vd(d),g);if(2>h.length)return{appState:g,elements:d,commitToHistory:!1};var t=Ri(g);if(1===t.length&&(t=new Set(oe(d,t[0]).map(function(aa){return aa.id})),h=new Set(h.map(function(aa){return aa.id})),(new Set(Kk(Kk([],Array.from(t)),Array.from(h)))).size===t.size))return{appState:g,elements:d,commitToHistory:!1};var D=Wj();
t=d.map(function(aa){if(g.selectedElementIds[aa.id]){var X=g.editingGroupId;var ma=el([],aa.groupIds);X=X?ma.indexOf(X):-1;ma=(ma.splice(-1<X?X:ma.length,0,D),ma);aa=gf(aa,{groupIds:ma})}return aa});d=oe(t,D);var L=t.lastIndexOf(d[d.length-1]);h=t.slice(L+1);t=t.slice(0,L).filter(function(aa){return!aa.groupIds.includes(D)});d=Kk(Kk(Kk([],t),d),h);return{appState:yj(D,Nd(Nd({},g),{},{selectedGroupIds:{}}),vd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,
g){return Xj(d,g)},keyTest:function(d){return!d.shiftKey&&d[ce]&&"KeyG"===d.code},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Xj(g,h),type:"button",icon:na().createElement(tf,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.group")," — ").concat(ad("CtrlOrCmd+G")),"aria-label":qb("labels.group"),visible:tg(vd(g),h)})}}),ki=Dd({name:"ungroup",perform:function(d,g){if(0===Ri(g).length)return{appState:g,
elements:d,commitToHistory:!1};d=d.map(function(h){var t=function(D,L){return D.filter(function(aa){return!L[aa]})}(h.groupIds,g.selectedGroupIds);return t.length===h.groupIds.length?h:gf(h,{groupIds:t})});return{appState:Yj(Nd(Nd({},g),{},{selectedGroupIds:{}}),vd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[ce]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,g){return 0<Ri(g).length},PanelComponent:function(d){var g=d.elements,
h=d.appState,t=d.updateData;return na().createElement(ve,{type:"button",hidden:0===Ri(h).length,icon:na().createElement(oi,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.ungroup")," — ").concat(ad("CtrlOrCmd+Shift+G")),"aria-label":qb("labels.ungroup"),visible:tg(vd(g),h)})}}),zk=(l(1395),function(d){var g=d.children,h=d.color,t=d.border;d=d.onClick;return na().createElement("div",{className:"Avatar",style:{background:h,border:"1px solid ".concat(t)},onClick:d},
g)});Dd({name:"goToCollaborator",perform:function(d,g,h){return h?{appState:nc(nc(nc({},g),vi({scenePoint:h,viewportDimensions:{width:g.width,height:g.height},zoom:g.zoom})),{},{openMenu:"canvas"===g.openMenu?null:g.openMenu}),commitToHistory:!1}:{appState:g,commitToHistory:!1}},PanelComponent:function(d){var g=d.appState,h=d.updateData;d=d.id;if(!d)return null;var t=g.collaborators.get(d);if(!t)return null;d=Ci(d,g);g=d.background;d=d.stroke;var D=function(L){if(!L)return"?";L=L.trim().split(" ");
return 2>L.length?L[0].substring(0,2).toUpperCase():(L[0][0]+L[L.length-1][0]).toUpperCase()}(t.username);return na().createElement(zk,{color:g,border:d,onClick:function(){return h(t.pointer)}},D)}});var Hm=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},yo=Dd({name:"addToLibrary",perform:function(d,g){var h=Le(vd(d),g);return Yg.loadLibrary().then(function(t){Yg.saveLibrary(Hm(Hm([],t),[h.map(Wh)]))}),!1},contextItemLabel:"labels.addToLibrary"}),sn=function(d,g){for(var h=
0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},On=function(d){var g=new Map;return d.forEach(function(h){var t=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],D=g.get(t)||[];g.set(t,sn(sn([],D),[h]))}),Array.from(g.values())},Ue=function(d,g,h){var t,D,L,aa=h.axis;h=h.position;d=Vj(d);var X="x"===aa?["minX","maxX"]:["minY","maxY"],ma=X[0];X=X[1];return ti(ti({},{x:0,y:0}),{},"start"===h?((t={})[aa]=g[ma]-d[ma],t):"end"===h?((D={})[aa]=g[X]-d[X],D):((L={})[aa]=(g[ma]+g[X])/2-(d[ma]+
d[X])/2,L))},Vj=function(d){d=Ff(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Kh=function(d,g){return 1<Le(vd(d),g).length},wi=function(d,g,h){g=function(D,L){var aa=On(D),X=Vj(D);return aa.flatMap(function(ma){var wa=Ue(ma,X,L);return ma.map(function(ra){return gf(ra,{x:ra.x+wa.x,y:ra.y+wa.y})})})}(Le(vd(d),g),h);var t=vh(g);return d.map(function(D){return t[D.id]||D})},bn=(Dd({name:"alignTop",perform:function(d,g){return{appState:g,elements:wi(d,g,{position:"start",axis:"y"}),commitToHistory:!0}},
keyTest:function(d){return d[ce]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(bd,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.alignTop")," — ").concat(ad("CtrlOrCmd+Shift+Up")),"aria-label":qb("labels.alignTop"),visible:tg(vd(g),h)})}}),Dd({name:"alignBottom",perform:function(d,g){return{appState:g,elements:wi(d,
g,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[ce]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(Bh,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.alignBottom")," — ").concat(ad("CtrlOrCmd+Shift+Down")),"aria-label":qb("labels.alignBottom"),visible:tg(vd(g),h)})}}),Dd({name:"alignLeft",
perform:function(d,g){return{appState:g,elements:wi(d,g,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[ce]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(Kc,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.alignLeft")," — ").concat(ad("CtrlOrCmd+Shift+Left")),"aria-label":qb("labels.alignLeft"),
visible:tg(vd(g),h)})}}),Dd({name:"alignRight",perform:function(d,g){return{appState:g,elements:wi(d,g,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[ce]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(gl,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.alignRight")," — ").concat(ad("CtrlOrCmd+Shift+Right")),
"aria-label":qb("labels.alignRight"),visible:tg(vd(g),h)})}}),Dd({name:"alignVerticallyCentered",perform:function(d,g){return{appState:g,elements:wi(d,g,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(hh,{appearance:h.appearance}),onClick:function(){return t(null)},title:qb("labels.centerVertically"),"aria-label":qb("labels.centerVertically"),
visible:tg(vd(g),h)})}}),Dd({name:"alignHorizontallyCentered",perform:function(d,g){return{appState:g,elements:wi(d,g,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!Kh(g,h),type:"button",icon:na().createElement(Xi,{appearance:h.appearance}),onClick:function(){return t(null)},title:qb("labels.centerHorizontally"),"aria-label":qb("labels.centerHorizontally"),visible:tg(vd(g),h)})}}),function(d,
g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d}),Wp=function(d){var g=new Map;return d.forEach(function(h){var t=0===h.groupIds.length?h.id:h.groupIds[h.groupIds.length-1],D=g.get(t)||[];g.set(t,bn(bn([],D),[h]))}),Array.from(g.values())},ej=function(d){var g=Ff(d);d=g[0];var h=g[1],t=g[2];g=g[3];return{minX:d,minY:h,maxX:t,maxY:g,width:t-d,height:g-h,midX:(d+t)/2,midY:(h+g)/2}},xo=function(d,g){return 1<Le(vd(d),g).length},qn=function(d,g,h){g=function(D,L){var aa="x"===L.axis?
["minX","midX","maxX","width"]:["minY","midY","maxY","height"],X=aa[0],ma=aa[1],wa=aa[2],ra=aa[3],Ua=ej(D);D=Wp(D).map(function(Qc){return[Qc,ej(Qc)]}).sort(function(Qc,Rd){return Qc[1][ma]-Rd[1][ma]});for(var Xa=aa=0;Xa<D.length;Xa++)aa+=D[Xa][1][ra];var Ya=(Ua[ra]-aa)/(D.length-1);if(0>Ya){var ub=D.findIndex(function(Qc){return Qc[1][X]===Ua[X]}),rb=D.findIndex(function(Qc){return Qc[1][wa]===Ua[wa]}),Ub=(D[rb][1][ma]-D[ub][1][ma])/(D.length-1),Ac=D[ub][1][ma];return D.flatMap(function(Qc,Rd){var Pd=
Qc[0];Qc=Qc[1];var de={x:0,y:0};return Rd!==ub&&Rd!==rb&&(Ac+=Ub,de[L.axis]=Ac-Qc[ma]),Pd.map(function(Vd){return gf(Vd,{x:Vd.x+de.x,y:Vd.y+de.y})})})}var Fc=Ua[X];return D.flatMap(function(Qc){var Rd=Qc[0];Qc=Qc[1];var Pd={x:0,y:0};return Pd[L.axis]=Fc-Qc[X],Fc+=Ya,Fc+=Qc[ra],Rd.map(function(de){return gf(de,{x:de.x+Pd.x,y:de.y+Pd.y})})})}(Le(vd(d),g),h);var t=vh(g);return d.map(function(D){return t[D.id]||D})},Mn=(Dd({name:"distributeHorizontally",perform:function(d,g){return{appState:g,elements:qn(d,
g,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!xo(g,h),type:"button",icon:na().createElement(Cf,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.distributeHorizontally")," — ").concat(ad("Alt+H")),"aria-label":qb("labels.distributeHorizontally"),visible:tg(vd(g),h)})}}),Dd({name:"distributeVertically",
perform:function(d,g){return{appState:g,elements:qn(d,g,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var g=d.elements,h=d.appState,t=d.updateData;return na().createElement(ve,{hidden:!xo(g,h),type:"button",icon:na().createElement(Ch,{appearance:h.appearance}),onClick:function(){return t(null)},title:"".concat(qb("labels.distributeVertically")," — ").concat(ad("Alt+V")),"aria-label":qb("labels.distributeVertically"),
visible:tg(vd(g),h)})}}),function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,
(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),
throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa}),an=Dd({name:"copy",perform:function(d,g){return rk(vd(d),g),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),Vp=Dd({name:"cut",perform:function(d,g,h,t){return an.perform(d,g,h,t),zl.perform(d,g,h,t)},contextItemLabel:"labels.cut",keyTest:function(d){return d[ce]&&"KeyX"===d.code}}),np=Dd({name:"copyAsSvg",perform:function(){var d=jc()(function(g,h,t,D){var L,aa;return Mn(this,function(X){switch(X.label){case 0:if(!D.canvas)return[2,
{commitToHistory:!1}];L=Le(vd(g),h);X.label=1;case 1:return X.trys.push([1,3,,4]),[4,Sb("clipboard-svg",L.length?L:vd(g),h,D.canvas,h)];case 2:return X.sent(),[2,{commitToHistory:!1}];case 3:return aa=X.sent(),console.error(aa),[2,{appState:Bd(Bd({},h),{},{errorMessage:aa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(g,h,t,D){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),mp=Dd({name:"copyAsPng",perform:function(){var d=jc()(function(g,h,t,D){var L,
aa;return Mn(this,function(X){switch(X.label){case 0:if(!D.canvas)return[2,{commitToHistory:!1}];L=Le(vd(g),h);X.label=1;case 1:return X.trys.push([1,3,,4]),[4,Sb("clipboard",L.length?L:vd(g),h,D.canvas,h)];case 2:return X.sent(),[2,{appState:Bd(Bd({},h),{},{toastMessage:qb("toast.copyToClipboardAsPng",{exportSelection:L.length?qb("toast.selection"):qb("toast.canvas"),exportColorScheme:h.exportWithDarkMode?qb("buttons.darkMode"):qb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return aa=X.sent(),
console.error(aa),[2,{appState:Bd(Bd({},h),{},{errorMessage:aa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(g,h,t,D){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),kp=Dd({name:"gridMode",perform:function(d,g){return Tg("view","mode","grid"),{appState:oc(oc({},g),{},{gridSize:this.checked(g)?null:tb.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",
keyTest:function(d){return d[ce]&&"Quote"===d.code}}),Gd=Dd({name:"zenMode",perform:function(d,g){return Tg("view","mode","zen"),{appState:xa(xa({},g),{},{zenModeEnabled:!this.checked(g)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[ce]&&d.altKey&&"KeyZ"===d.code}}),Nn=Dd({name:"stats",perform:function(d,g){return{appState:Yb(Yb({},g),{},{showStats:!this.checked(g)}),commitToHistory:!1}},checked:function(d){return d.showStats},
contextItemLabel:"stats.title"}),lp=function(d,g,h){if(!(g.multiElement||g.resizingElement||g.editingElement||g.draggingElement)){h=h();if(null===h)return{commitToHistory:!1};var t=vh(d),D=h.elements,L=vh(D);d=d.filter(function(aa){return!L.hasOwnProperty(aa.id)});D=D.map(function(aa){return gf(t[aa.id]||aa,aa)}).concat(d.map(function(aa){return gf(aa,{isDeleted:!0})}));return bi(D,d),{elements:D,appState:Uc(Uc({},g),h.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},fm=function(){function d(g,
h,t,D){var L=this;this.actions={};this.renderAction=function(aa,X){if(L.actions[aa]&&"PanelComponent"in L.actions[aa]){var ma=L.actions[aa];aa=ma.PanelComponent;return na().createElement(aa,{elements:L.getElementsIncludingDeleted(),appState:L.getAppState(),updateData:function(wa){L.updater(ma.perform(L.getElementsIncludingDeleted(),L.getAppState(),wa,L.app))},id:X})}return null};this.updater=function(aa){if(!(aa&&"then"in aa))return g(aa);aa.then(function(X){return g(X)})};this.getAppState=h;this.getElementsIncludingDeleted=
t;this.app=D}return d.prototype.registerAction=function(g){this.actions[g.name]=g},d.prototype.registerAll=function(g){var h=this;g.forEach(function(t){return h.registerAction(t)})},d.prototype.handleKeyDown=function(g){var h=this,t=Object.values(this.actions).sort(function(D,L){return(L.keyPriority||0)-(D.keyPriority||0)}).filter(function(D){return D.keyTest&&D.keyTest(g,h.getAppState(),h.getElementsIncludingDeleted())});return 0!==t.length&&!(this.getAppState().viewModeEnabled&&!Object.values(tb.EH).includes(t[0].name))&&
(g.preventDefault(),this.updater(t[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(g){this.updater(g.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Jm=function(d){d=Array.from(d.values());return{x:Rn(d,function(g){return g.x})/d.length,y:Rn(d,function(g){return g.y})/d.length}},Pn=function(d){var g=d[0];d=d[1];return Math.hypot(g.x-d.x,g.y-d.y)},Rn=function(d,g){return d.reduce(function(h,
t){return h+g(t)},0)},zo,Xp=function(){function d(){var g=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(h,t){return g.dehydrateHistoryEntry({appState:{selectedElementIds:h.selectedElementIds,viewBackgroundColor:h.viewBackgroundColor,editingLinearElement:h.editingLinearElement,editingGroupId:h.editingGroupId,name:h.name},elements:t.reduce(function(D,L){if(hg(L)&&h.multiElement&&h.multiElement.id===L.id){if(h.multiElement&&
h.multiElement.id===L.id&&2>L.points.length)return D;D.push(be(be({},L),{},{points:L.lastCommittedPoint!==L.points[L.points.length-1]?L.points.slice(0,-1):L.points}))}else D.push(L);return D},[])})}}return d.prototype.hydrateHistoryEntry=function(g){var h=g.elements,t=this;return{appState:JSON.parse(g.appState),elements:h.map(function(D){var L,aa=null===(L=t.elementCache.get(D.id))||void 0===L?void 0:L.get(D.versionNonce);if(!aa)throw Error("Element not found: ".concat(D.id,":").concat(D.versionNonce));
return aa})}},d.prototype.dehydrateHistoryEntry=function(g){var h=g.elements,t=this;return{appState:JSON.stringify(g.appState),elements:h.map(function(D){t.elementCache.has(D.id)||t.elementCache.set(D.id,new Map);var L=t.elementCache.get(D.id);return L.has(D.versionNonce)||L.set(D.versionNonce,Wh(D)),{id:D.id,versionNonce:D.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var g=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(h){return g.hydrateHistoryEntry(h)}),
redoStack:this.redoStack.map(function(h){return g.hydrateHistoryEntry(h)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(g){var h,t=this.lastEntry;if(!t||g.elements.length!==t.elements.length)return!0;for(var D=g.elements.length-1;-1<D;D--){var L=g.elements[D],aa=t.elements[D];if(!L||!aa||L.id!==aa.id||L.versionNonce!==aa.versionNonce)return!0}for(h in g.appState){var X,ma;if(("editingLinearElement"!==
h||(null===(X=g.appState[h])||void 0===X?void 0:X.elementId)!==(null===(ma=t.appState[h])||void 0===ma?void 0:ma.elementId))&&"selectedElementIds"!==h&&g.appState[h]!==t.appState[h])return!0}return!1},d.prototype.pushEntry=function(g,h){g=this.generateEntry(g,h);(h=this.hydrateHistoryEntry(g))&&this.shouldCreateEntry(h)&&(this.stateHistory.push(g),this.lastEntry=h,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===
this.redoStack.length)return null;var g=this.redoStack.pop();return void 0!==g?(this.stateHistory.push(g),this.hydrateHistoryEntry(g)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var g=this.stateHistory.pop(),h=this.stateHistory[this.stateHistory.length-1];return void 0!==g?(this.redoStack.push(g),this.hydrateHistoryEntry(h)):null},d.prototype.setCurrentState=function(g,h){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(g,h))},d.prototype.resumeRecording=
function(){this.recording=!0},d.prototype.record=function(g,h){this.recording&&(this.pushEntry(g,h),this.recording=!1)},d}(),hm=[{icon:na().createElement("svg",{viewBox:"0 0 320 512",className:""},na().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:na().createElement("svg",{viewBox:"0 0 448 512"},na().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:na().createElement("svg",{viewBox:"0 0 223.646 223.646"},na().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:na().createElement("svg",{viewBox:"0 0 512 512"},na().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:na().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},na().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:na().createElement("svg",{viewBox:"0 0 6 6"},
na().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:na().createElement("svg",{viewBox:"0 0 512 512"},na().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:na().createElement("svg",{viewBox:"0 0 448 512"},na().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],wo=(l(4518),{cut:[ad("CtrlOrCmd+X")],copy:[ad("CtrlOrCmd+C")],
paste:[ad("CtrlOrCmd+V")],copyStyles:[ad("CtrlOrCmd+Alt+C")],pasteStyles:[ad("CtrlOrCmd+Alt+V")],selectAll:[ad("CtrlOrCmd+A")],deleteSelectedElements:[ad("Del")],duplicateSelection:[ad("CtrlOrCmd+D"),ad("Alt+".concat(qb("helpDialog.drag")))],sendBackward:[ad("CtrlOrCmd+[")],bringForward:[ad("CtrlOrCmd+]")],sendToBack:[ad(ng?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[ad(ng?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[ad("Shift+Alt+C")],copyAsSvg:[],group:[ad("CtrlOrCmd+G")],ungroup:[ad("CtrlOrCmd+Shift+G")],
gridMode:[ad("CtrlOrCmd+'")],zenMode:[ad("Alt+Z")],stats:[],addToLibrary:[],viewMode:[ad("Alt+R")]}),Up=function(d){var g,h=d.options,t=d.onCloseRequest,D=d.top,L=d.left,aa=d.actionManager,X=d.appState;d=!(null===(g=document.querySelector(".excalidraw"))||void 0===g||!g.classList.contains("Appearance_dark"));return na().createElement("div",{className:uc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},na().createElement(Ra,{onCloseRequest:t,top:D,left:L,fitInViewport:!0},na().createElement("ul",
{className:"context-menu",onContextMenu:function(ma){return ma.preventDefault()}},h.map(function(ma,wa){var ra;if("separator"===ma)return na().createElement("hr",{key:wa,className:"context-menu-option-separator"});var Ua,Xa=ma.name,Ya=ma.contextItemLabel?qb(ma.contextItemLabel):"";return na().createElement("li",{key:wa,"data-testid":Xa,onClick:t},na().createElement("button",{className:uc("context-menu-option",{dangerous:"deleteSelectedElements"===Xa,checkmark:null===(ra=ma.checked)||void 0===ra?void 0:
ra.call(ma,X)}),onClick:function(){return aa.executeAction(ma)}},na().createElement("div",{className:"context-menu-option__label"},Ya),na().createElement("kbd",{className:"context-menu-option__shortcut"},Xa?(Ua=wo[Xa])&&0<Ua.length?Ua[0]:"":"")))}))))},vo=function(){if(zo)return zo;var d=document.createElement("div");return document.body.appendChild(d),zo=d},Im=function(){(0,Lg.unmountComponentAtNode)(vo())};const rn=function(d){var g=[];d.options.forEach(function(h){h&&g.push(h)});g.length&&(0,Lg.render)(na().createElement(Up,
{top:d.top,left:d.left,options:g,onCloseRequest:Im,actionManager:d.actionManager,appState:d.appState}),vo())};l(1575);const Ok=function(d){var g=d.children,h=d.gap,t=d.align,D=d.justifyContent,L=d.className;d=d.style;return na().createElement("div",{className:uc("Stack Stack_horizontal",L),style:Jc({"--gap":h,alignItems:t,justifyContent:D},d)},g)},Pk=function(d){var g=d.children,h=d.gap,t=d.align,D=d.justifyContent;d=d.className;return na().createElement("div",{className:uc("Stack Stack_vertical",
d),style:{"--gap":h,justifyItems:t,justifyContent:D}},g)};var Tq=function(d){var g=d.appState,h=d.renderAction,t=d.elementType;d=jj(vd(d.elements),g);g=!!g.editingElement;var D=ue(),L="rtl"===document.documentElement.getAttribute("dir"),aa=Fj(t)||d.some(function(ma){return Fj(ma.type)&&(wa=ma.backgroundColor,ra=5===wa.length&&"0"===wa.substr(4,1),Ua=9===wa.length&&"00"===wa.substr(7,2),!(ra||Ua||wa===$f.elementBackground[0]));var wa,ra,Ua}),X=Fj(t)||d.some(function(ma){return Fj(ma.type)});return na().createElement("div",
{className:"panelColumn"},h("changeStrokeColor"),X&&h("changeBackgroundColor"),aa&&h("changeFillStyle"),(mf(t)||d.some(function(ma){return mf(ma.type)}))&&na().createElement(na().Fragment,null,h("changeStrokeWidth"),h("changeStrokeStyle"),h("changeSloppiness")),(pj(t)||d.some(function(ma){return pj(ma.type)}))&&na().createElement(na().Fragment,null,h("changeSharpness")),("text"===t||d.some(function(ma){return"text"===ma.type}))&&na().createElement(na().Fragment,null,h("changeFontSize"),h("changeFontFamily"),
h("changeTextAlign")),("arrow"===t||d.some(function(ma){return"arrow"===ma.type}))&&na().createElement(na().Fragment,null,h("changeArrowhead")),h("changeOpacity"),na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.layers")),na().createElement("div",{className:"buttonList"},h("sendToBack"),h("sendBackward"),h("bringToFront"),h("bringForward"))),1<d.length&&na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.align")),na().createElement("div",{className:"buttonList"},
L?na().createElement(na().Fragment,null,h("alignRight"),h("alignHorizontallyCentered"),h("alignLeft")):na().createElement(na().Fragment,null,h("alignLeft"),h("alignHorizontallyCentered"),h("alignRight")),2<d.length&&h("distributeHorizontally"),na().createElement("div",{className:"iconRow"},h("alignTop"),h("alignVerticallyCentered"),h("alignBottom"),2<d.length&&h("distributeVertically")))),!D&&!g&&0<d.length&&na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.actions")),
na().createElement("div",{className:"buttonList"},h("duplicateSelection"),h("deleteSelectedElements"),h("group"),h("ungroup"))))},Kr=na().createElement("svg",{viewBox:"0 0 512 512"},na().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Tp=function(d){var g=d.canvas,h=d.elementType,t=d.setAppState,D=d.isLibraryOpen;return na().createElement(na().Fragment,null,hm.map(function(L,aa){var X=L.value,ma=L.icon,wa=L.key;L=qb("toolBar.".concat(X));wa="".concat(Uj("string"==typeof wa?wa:wa[0])," ").concat(qb("helpDialog.or")," ").concat(aa+1);return na().createElement(ve,{className:"Shape",key:X,type:"radio",icon:ma,checked:h===X,name:"editor-current-shape",title:"".concat(Uj(L)," — ").concat(wa),keyBindingLabel:"".concat(aa+1),"aria-label":Uj(L),
"aria-keyshortcuts":wa,"data-testid":X,onChange:function(){t({elementType:X,multiElement:null,selectedElementIds:{}});uf(g,X);t({})}})}),na().createElement(ve,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Kr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(Uj(qb("toolBar.library"))," — 9"),"aria-label":Uj(qb("toolBar.library")),onClick:function(){t({isLibraryOpen:!D})}}))},Jr=function(d){var g=d.renderAction;d=d.zoom;return na().createElement(Pk,
{gap:1},na().createElement(Ok,{gap:1,align:"center"},g("zoomIn"),g("zoomOut"),g("resetZoom"),na().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Sq=function(d){var g=d.appState,h=d.setAppState;d=d.actionManager;return na().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),na().createElement("div",{style:{marginInlineStart:"0.25rem"}},na().createElement(Ak,{value:g.appearance,onChange:function(t){h({appearance:t})}})))};l(3211);
const Uq=function(d){var g=d.isCollaborating,h=d.collaboratorCount;d=d.onClick;return na().createElement(na().Fragment,null,na().createElement(ve,{className:uc("CollabButton",{"is-collaborating":g}),onClick:d,icon:Ud,type:"button",title:qb("labels.liveCollaboration"),"aria-label":qb("labels.liveCollaboration"),showAriaLabel:ue()},0<h&&na().createElement("div",{className:"CollabButton-collaborators"},h)))};l(3040);l(7428);var Rk=na().forwardRef(function(d,g){var h=d.children,t=d.padding,D=d.className;
d=d.style;return na().createElement("div",{className:uc("Island",D),style:Za({"--padding":t},d),ref:g},h)}),Lr=(l(205),function(d){var g=op();return g?(0,Lg.createPortal)(na().createElement("div",{className:uc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(h){"Escape"===h.key&&(h.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},na().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),na().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),g):null}),op=function(){var d=(0,Cb.useState)(null),g=d[0],h=d[1];return(0,Cb.useLayoutEffect)(function(){var t,D=!(null===(t=document.querySelector(".excalidraw"))||void 0===t||!t.classList.contains("Appearance_dark")),L=document.createElement("div");return L.classList.add("excalidraw","excalidraw-modal-container"),D&&(L.classList.add("Appearance_dark"),L.classList.add("Appearance_dark-background-none")),document.body.appendChild(L),
h(L),function(){document.body.removeChild(L)}},[]),g},p=function(d){var g=function(){var D=(0,Cb.useState)(null),L=D[1];return[D[0],(0,Cb.useCallback)(function(aa){return L(aa)},[])]}(),h=g[0];g=g[1];(0,Cb.useEffect)(function(){if(h){var D=t(h);0<D.length&&!1!==d.autofocus&&(D[1]||D[0]).focus();var L=function(aa){if("Tab"===aa.key){var X=t(h),ma=document.activeElement,wa=X.findIndex(function(ra){return ra===ma});0===wa&&aa.shiftKey?(X[X.length-1].focus(),aa.preventDefault()):wa!==X.length-1||aa.shiftKey||
(X[0].focus(),aa.preventDefault())}};return h.addEventListener("keydown",L),function(){return h.removeEventListener("keydown",L)}}},[h,d.autofocus]);var t=function(D){return(D=D.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(D):[]};return na().createElement(Lr,{className:uc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},na().createElement(Rk,{ref:g},na().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
na().createElement("span",{className:"Dialog__titleContent"},d.title),na().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":qb("buttons.close")},ue()?Lj:qj)),na().createElement("div",{className:"Dialog__content"},d.children)))},z=function(d){var g=d.message,h=d.onClose,t=(0,Cb.useState)(!!g);d=t[0];var D=t[1];t=na().useCallback(function(){D(!1);h&&h()},[h]);return na().createElement(na().Fragment,null,d&&na().createElement(p,{small:!0,onCloseRequest:t,title:qb("errorDialog.title")},
na().createElement("div",null,g.split("\n").map(function(L){return na().createElement(na().Fragment,null,L,na().createElement("br",null))}))))},N=(l(8623),[1,2,3]),qa=N.includes(devicePixelRatio)?devicePixelRatio:1,Ia="filter"in document.createElement("canvas").getContext("2d"),$a=function(){return na().createElement("div",null,na().createElement("h3",null,qb("canvasError.cannotShowPreview")),na().createElement("p",null,na().createElement("span",null,qb("canvasError.canvasTooBig"))),na().createElement("em",
null,"(",qb("canvasError.canvasTooBigTip"),")"))},jb=function(d,g){(0,Lg.unmountComponentAtNode)(g);g.innerHTML="";d instanceof HTMLCanvasElement?g.appendChild(d):(0,Lg.render)(na().createElement($a,null),g)},wb=function(d){var g=d.elements,h=d.appState,t=d.exportPadding,D=void 0===t?10:t;t=d.actionManager;var L=d.onExportToPng,aa=d.onExportToSvg,X=d.onExportToClipboard,ma=d.onExportToBackend,wa=tg(g,h);d=(0,Cb.useState)(qa);var ra=d[0],Ua=d[1];d=(0,Cb.useState)(wa);var Xa=d[0],Ya=d[1],ub=(0,Cb.useRef)(null),
rb=h.exportBackground,Ub=h.viewBackgroundColor,Ac=h.shouldAddWatermark,Fc=Xa?Le(g,h):g;return(0,Cb.useEffect)(function(){Ya(wa)},[wa]),(0,Cb.useEffect)(function(){var Qc=ub.current;if(Qc)try{var Rd=Pl(Fc,h,{exportBackground:rb,viewBackgroundColor:Ub,exportPadding:D,scale:ra,shouldAddWatermark:Ac});zm(Rd).then(function(){jb(Rd,Qc)}).catch(function(Pd){console.error(Pd);jb(new Lk,Qc)})}catch(Pd){console.error(Pd),jb(new Lk,Qc)}},[h,Fc,rb,D,Ub,ra,Ac]),na().createElement("div",{className:"ExportDialog"},
na().createElement("div",{className:"ExportDialog__preview",ref:ub}),Ia&&t.renderAction("exportWithDarkMode"),na().createElement(Pk,{gap:2,align:"center"},na().createElement("div",{className:"ExportDialog__actions"},na().createElement(Ok,{gap:2},na().createElement(ve,{type:"button",label:"PNG",title:qb("buttons.exportToPng"),"aria-label":qb("buttons.exportToPng"),onClick:function(){return L(Fc,ra)}}),na().createElement(ve,{type:"button",label:"SVG",title:qb("buttons.exportToSvg"),"aria-label":qb("buttons.exportToSvg"),
onClick:function(){return aa(Fc,ra)}}),sk&&na().createElement(ve,{type:"button",icon:Wi,title:qb("buttons.copyPngToClipboard"),"aria-label":qb("buttons.copyPngToClipboard"),onClick:function(){return X(Fc,ra)}}),ma&&na().createElement(ve,{type:"button",icon:Xk,title:qb("buttons.getShareableLink"),"aria-label":qb("buttons.getShareableLink"),onClick:function(){return ma(Fc)}})),na().createElement("div",{className:"ExportDialog__name"},t.renderAction("changeProjectName")),na().createElement(Ok,{gap:2},
N.map(function(Qc){var Rd=function(de,Vd,se,Vc){de=Oi(de,se);Vd=Ym(de,Vd,se).map(function(md){return Math.trunc(md*Vc)});return[Vd[2],Vd[3]]}(Fc,D,Ac,Qc),Pd=Rd[0];Rd=Rd[1];Pd="".concat(qb("buttons.scale")," ").concat(Qc,"x (").concat(Pd,"x").concat(Rd,")");return na().createElement(ve,{key:Qc,size:"s",type:"radio",icon:"".concat(Qc,"x"),name:"export-canvas-scale",title:Pd,"aria-label":Pd,id:"export-canvas-scale",checked:Qc===ra,onChange:function(){return Ua(Qc)}})}))),t.renderAction("changeExportBackground"),
wa&&na().createElement("div",null,na().createElement("label",null,na().createElement("input",{type:"checkbox",checked:Xa,onChange:function(Qc){return Ya(Qc.currentTarget.checked)}})," ",qb("labels.onlySelected"))),t.renderAction("changeExportEmbedScene"),t.renderAction("changeShouldAddWatermark")))},Tb=function(d){var g=d.elements,h=d.appState,t=d.exportPadding;t=void 0===t?10:t;var D=d.actionManager,L=d.onExportToPng,aa=d.onExportToSvg,X=d.onExportToClipboard;d=d.onExportToBackend;var ma=(0,Cb.useState)(!1),
wa=ma[0],ra=ma[1],Ua=(0,Cb.useRef)(null);ma=na().useCallback(function(){var Xa;ra(!1);null===(Xa=Ua.current)||void 0===Xa||Xa.focus()},[]);return na().createElement(na().Fragment,null,na().createElement(ve,{onClick:function(){ra(!0)},icon:Li,type:"button","aria-label":qb("buttons.export"),showAriaLabel:ue(),title:qb("buttons.export"),ref:Ua}),wa&&na().createElement(p,{onCloseRequest:ma,title:qb("buttons.export")},na().createElement(wb,{elements:g,appState:h,exportPadding:t,actionManager:D,onExportToPng:L,
onExportToSvg:aa,onExportToClipboard:X,onExportToBackend:d,onCloseRequest:ma})))},xc=(l(4193),function(d){var g=d.children,h=d.side;d=d.className;return na().createElement("div",{className:uc("FixedSideContainer","FixedSideContainer_side_".concat(h),d)},g)}),Id=na().memo(function(d){d=d.appearance;return na().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},na().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},na().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?zd.MA[6]:zd.MA[8]}),na().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?zd.ix:zd.Sn}),na().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?zd.ix:zd.Sn})))}),Re=(l(9705),function(d){return(d=function(g){var h=g.appState,t=g.elements,D=h.elementType;g=h.isResizing;var L=h.isRotating,aa=h.lastPointerDownWith,X=null!==h.multiElement;if("arrow"===D||"line"===D)return qb(X?"hints.linearElementMulti":"hints.linearElement");if("draw"===D)return qb("hints.freeDraw");if("text"===D)return qb("hints.text");t=Le(t,h);return g&&"mouse"===aa&&1===t.length?(h=t[0],hg(h)&&2===h.points.length?qb("hints.lockAngle"):qb("hints.resize")):
L&&"mouse"===aa?qb("hints.rotate"):1===t.length&&hg(t[0])?h.editingLinearElement?h.editingLinearElement.activePointIndex?qb("hints.lineEditor_pointSelected"):qb("hints.lineEditor_nothingSelected"):qb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=ad(d),na().createElement("div",{className:"HintViewer"},na().createElement("span",null,d))):null}),Yc=(l(8465),l(8680),na().createElement("svg",{viewBox:"0 0 1792 1792"},na().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Zd=function(d){var g=d.elements,h=d.pendingElements,t=d.onRemoveFromLibrary;d=d.onClick;var D=(0,Cb.useRef)(null);(0,Cb.useEffect)(function(){var wa=g||h;if(wa){var ra=vl(wa,{exportBackground:!1,viewBackgroundColor:zd.ix,shouldAddWatermark:!1});wa=0;for(var Ua=D.current.children;wa<Ua.length;wa++){var Xa=Ua[wa];"svg"===Xa.tagName&&D.current.removeChild(Xa)}D.current.appendChild(ra);var Ya=D.current;return function(){Ya.removeChild(ra)}}},[g,h]);var L=(0,Cb.useState)(!1),aa=L[0],X=L[1];L=ue();var ma=
(aa||L)&&h&&na().createElement("div",{className:"library-unit__adder"},Yc);return na().createElement("div",{className:uc("library-unit",{"library-unit__active":g||h}),onMouseEnter:function(){return X(!0)},onMouseLeave:function(){return X(!1)}},na().createElement("div",{className:uc("library-unit__dragger",{"library-unit__pulse":!!h}),ref:D,draggable:!!g,onClick:g||h?d:void 0,onDragStart:function(wa){X(!1);wa.dataTransfer.setData(tb.LO.excalidrawlib,JSON.stringify(g))}}),ma,g&&(aa||L)&&na().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":qb("labels.removeFromLibrary"),onClick:t},qj))},Se=na().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},na().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),Be=na().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},na().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),lc=function(d){return na().createElement("label",{className:uc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},na().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),na().createElement("div",{className:"ToolIcon__icon"},d.checked?Se:Be))},Vb=function(d){var g=d.heading,h=d.children;d=li()(d,["heading","children"]);var t=na().createElement("h2",{className:"visually-hidden",id:"".concat(g,
"-title")},qb("headings.".concat(g)));return na().createElement("section",fd()({},d,{"aria-labelledby":"".concat(g,"-title")}),"function"==typeof h?h(t):na().createElement(na().Fragment,null,t,h))},fc=(l(3142),function(d){var g=d.children,h=d.className;d=d.mobile;return na().createElement("div",{className:uc("UserList",h,{UserList_mobile:d})},g)}),Pc=function(d){var g=d.appState,h=d.elements,t=d.libraryMenu,D=d.actionManager,L=d.exportButton,aa=d.setAppState,X=d.onCollabButtonClick,ma=d.onLockToggle,
wa=d.canvas,ra=d.isCollaborating,Ua=d.renderCustomFooter;d=d.viewModeEnabled;return na().createElement(na().Fragment,null,!d&&na().createElement(xc,{side:"top",className:"App-top-bar"},na().createElement(Vb,{heading:"shapes"},function(Xa){return na().createElement(Pk,{gap:4,align:"center"},na().createElement(Ok,{gap:1},na().createElement(Rk,{padding:1},Xa,na().createElement(Ok,{gap:1},na().createElement(Tp,{canvas:wa,elementType:g.elementType,setAppState:aa,isLibraryOpen:g.isLibraryOpen}))),na().createElement(lc,
{checked:g.elementLocked,onChange:ma,title:qb("toolBar.lock")})),t)}),na().createElement(Re,{appState:g,elements:h})),na().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},na().createElement(Rk,{padding:0},"canvas"===g.openMenu?na().createElement(Vb,{className:"App-mobile-menu",heading:"canvasActions"},na().createElement("div",{className:"panelColumn"},na().createElement(Pk,{gap:4},d?na().createElement(na().Fragment,null,D.renderAction("saveScene"),
D.renderAction("saveAsScene"),L):na().createElement(na().Fragment,null,D.renderAction("loadScene"),D.renderAction("saveScene"),D.renderAction("saveAsScene"),L,D.renderAction("clearCanvas"),X&&na().createElement(Uq,{isCollaborating:ra,collaboratorCount:g.collaborators.size,onClick:X}),na().createElement(Sq,{actionManager:D,appState:g,setAppState:aa})),null==Ua?void 0:Ua(!0),0<g.collaborators.size&&na().createElement("fieldset",null,na().createElement("legend",null,qb("labels.collaborators")),na().createElement(fc,
{mobile:!0},Array.from(g.collaborators).filter(function(Xa){Xa[0];return 0!==Object.keys(Xa[1]).length}).map(function(Xa){var Ya=Xa[0];Xa[1];return na().createElement(na().Fragment,{key:Ya},D.renderAction("goToCollaborator",Ya))})))))):"shape"===g.openMenu&&!d&&of(g,h)?na().createElement(Vb,{className:"App-mobile-menu",heading:"selectedShapeActions"},na().createElement(Tq,{appState:g,elements:h,renderAction:D.renderAction,elementType:g.elementType})):null,na().createElement("footer",{className:"App-toolbar"},
d?na().createElement("div",{className:"App-toolbar-content"},D.renderAction("toggleCanvasMenu")):na().createElement("div",{className:"App-toolbar-content"},D.renderAction("toggleCanvasMenu"),D.renderAction("toggleEditMenu"),D.renderAction("undo"),D.renderAction("redo"),D.renderAction(g.multiElement?"finalize":"duplicateSelection"),D.renderAction("deleteSelectedElements")),g.scrolledOutside&&!g.openMenu&&na().createElement("button",{className:"scroll-back-to-content",onClick:function(){aa(function(Xa){for(var Ya=
1;Ya<arguments.length;Ya++){var ub=null!=arguments[Ya]?arguments[Ya]:{};Ya%2?Qd(Object(ub),!0).forEach(function(rb){Xd()(Xa,rb,ub[rb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xa,Object.getOwnPropertyDescriptors(ub)):Qd(Object(ub)).forEach(function(rb){Object.defineProperty(Xa,rb,Object.getOwnPropertyDescriptor(ub,rb))})}return Xa}({},ci(h,g)))}},qb("buttons.scrollBackToContent"))))))},Wc=(l(8416),function(d){var g=(0,Cb.useRef)(null),h=(0,Cb.useState)(null),t=h[0],D=h[1];return(0,
Cb.useLayoutEffect)(function(){if(d.spreadsheet){var L=Kn(d.chartType,d.spreadsheet,0,0);D(L);var aa=vl(L,{exportBackground:!1,viewBackgroundColor:zd.ix,shouldAddWatermark:!1}),X=g.current;return X.appendChild(aa),d.selected&&X.parentNode.focus(),function(){X.removeChild(aa)}}},[d.spreadsheet,d.chartType,d.selected]),na().createElement("button",{className:"ChartPreview",onClick:function(){t&&d.onClick(d.chartType,t)}},na().createElement("div",{ref:g}))}),cf=function(d){var g=d.setAppState,h=d.appState,
t=d.onClose,D=d.onInsertChart;d=na().useCallback(function(){t&&t()},[t]);var L=function(aa,X){D(X);Tg("magic","chart",aa);g({currentChartType:aa,pasteDialog:{shown:!1,data:null}})};return na().createElement(p,{small:!0,onCloseRequest:d,title:qb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},na().createElement("div",{className:"container"},na().createElement(Wc,{chartType:"bar",spreadsheet:h.pasteDialog.data,selected:"bar"===h.currentChartType,onClick:L}),na().createElement(Wc,{chartType:"line",
spreadsheet:h.pasteDialog.data,selected:"line"===h.currentChartType,onClick:L})))},Sd=(l(341),function(){return na().createElement("div",{className:"HelpDialog--header"},na().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},qb("helpDialog.documentation")),na().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},qb("helpDialog.blog")),
na().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},qb("helpDialog.github")))}),df=function(d){return na().createElement(na().Fragment,null,na().createElement("h3",null,d.title),d.children)},Ef=function(d){return na().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},lf=function(d){return na().createElement("div",{style:{width:"49%"}},
d.children)},bm=function(d){return na().createElement("div",{className:"HelpDialog--island"},na().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},Je=function(d){return na().createElement("div",{className:"HelpDialog--shortcut"},na().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},na().createElement("div",{style:{lineHeight:1.4}},d.label),na().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",
marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(g,h){return na().createElement(na().Fragment,{key:h},na().createElement(Lt,null,g),d.isOr&&h!==d.shortcuts.length-1&&qb("helpDialog.or"))}))))};Je.defaultProps={isOr:!0};var Lt=function(d){return na().createElement("kbd",fd()({className:"HelpDialog--key"},d))},Mt=function(d){var g=d.onClose;d=na().useCallback(function(){g&&g()},[g]);return na().createElement(na().Fragment,null,na().createElement(p,{onCloseRequest:d,title:qb("helpDialog.title"),
className:"HelpDialog"},na().createElement(Sd,null),na().createElement(df,{title:qb("helpDialog.shortcuts")},na().createElement(Ef,null,na().createElement(lf,null,na().createElement(bm,{caption:qb("helpDialog.shapes")},na().createElement(Je,{label:qb("toolBar.selection"),shortcuts:["V","1"]}),na().createElement(Je,{label:qb("toolBar.rectangle"),shortcuts:["R","2"]}),na().createElement(Je,{label:qb("toolBar.diamond"),shortcuts:["D","3"]}),na().createElement(Je,{label:qb("toolBar.ellipse"),shortcuts:["E",
"4"]}),na().createElement(Je,{label:qb("toolBar.arrow"),shortcuts:["A","5"]}),na().createElement(Je,{label:qb("toolBar.line"),shortcuts:["P","6"]}),na().createElement(Je,{label:qb("toolBar.draw"),shortcuts:["Shift+P","7"]}),na().createElement(Je,{label:qb("toolBar.text"),shortcuts:["T","8"]}),na().createElement(Je,{label:qb("helpDialog.textNewLine"),shortcuts:[ad("Enter"),ad("Shift+Enter")]}),na().createElement(Je,{label:qb("helpDialog.textFinish"),shortcuts:[ad("Esc"),ad("CtrlOrCmd+Enter")]}),na().createElement(Je,
{label:qb("helpDialog.curvedArrow"),shortcuts:["A",qb("helpDialog.click"),qb("helpDialog.click"),qb("helpDialog.click")],isOr:!1}),na().createElement(Je,{label:qb("helpDialog.curvedLine"),shortcuts:["L",qb("helpDialog.click"),qb("helpDialog.click"),qb("helpDialog.click")],isOr:!1}),na().createElement(Je,{label:qb("toolBar.lock"),shortcuts:["Q"]}),na().createElement(Je,{label:qb("helpDialog.preventBinding"),shortcuts:[ad("CtrlOrCmd")]})),na().createElement(bm,{caption:qb("helpDialog.view")},na().createElement(Je,
{label:qb("buttons.zoomIn"),shortcuts:[ad("CtrlOrCmd++")]}),na().createElement(Je,{label:qb("buttons.zoomOut"),shortcuts:[ad("CtrlOrCmd+-")]}),na().createElement(Je,{label:qb("buttons.resetZoom"),shortcuts:[ad("CtrlOrCmd+0")]}),na().createElement(Je,{label:qb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),na().createElement(Je,{label:qb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),na().createElement(Je,{label:qb("buttons.fullScreen"),shortcuts:["F"]}),na().createElement(Je,{label:qb("buttons.zenMode"),
shortcuts:[ad("Alt+Z")]}),na().createElement(Je,{label:qb("labels.showGrid"),shortcuts:[ad("CtrlOrCmd+'")]}),na().createElement(Je,{label:qb("labels.viewMode"),shortcuts:[ad("Alt+R")]}))),na().createElement(lf,null,na().createElement(bm,{caption:qb("helpDialog.editor")},na().createElement(Je,{label:qb("labels.selectAll"),shortcuts:[ad("CtrlOrCmd+A")]}),na().createElement(Je,{label:qb("labels.multiSelect"),shortcuts:[ad("Shift+".concat(qb("helpDialog.click")))]}),na().createElement(Je,{label:qb("labels.moveCanvas"),
shortcuts:[ad("Space+".concat(qb("helpDialog.drag"))),ad("Wheel+".concat(qb("helpDialog.drag")))],isOr:!0}),na().createElement(Je,{label:qb("labels.cut"),shortcuts:[ad("CtrlOrCmd+X")]}),na().createElement(Je,{label:qb("labels.copy"),shortcuts:[ad("CtrlOrCmd+C")]}),na().createElement(Je,{label:qb("labels.paste"),shortcuts:[ad("CtrlOrCmd+V")]}),na().createElement(Je,{label:qb("labels.copyAsPng"),shortcuts:[ad("Shift+Alt+C")]}),na().createElement(Je,{label:qb("labels.copyStyles"),shortcuts:[ad("CtrlOrCmd+Alt+C")]}),
na().createElement(Je,{label:qb("labels.pasteStyles"),shortcuts:[ad("CtrlOrCmd+Alt+V")]}),na().createElement(Je,{label:qb("labels.delete"),shortcuts:[ad("Del")]}),na().createElement(Je,{label:qb("labels.sendToBack"),shortcuts:[ad(ng?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),na().createElement(Je,{label:qb("labels.bringToFront"),shortcuts:[ad(ng?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),na().createElement(Je,{label:qb("labels.sendBackward"),shortcuts:[ad("CtrlOrCmd+[")]}),na().createElement(Je,{label:qb("labels.bringForward"),
shortcuts:[ad("CtrlOrCmd+]")]}),na().createElement(Je,{label:qb("labels.alignTop"),shortcuts:[ad("CtrlOrCmd+Shift+Up")]}),na().createElement(Je,{label:qb("labels.alignBottom"),shortcuts:[ad("CtrlOrCmd+Shift+Down")]}),na().createElement(Je,{label:qb("labels.alignLeft"),shortcuts:[ad("CtrlOrCmd+Shift+Left")]}),na().createElement(Je,{label:qb("labels.alignRight"),shortcuts:[ad("CtrlOrCmd+Shift+Right")]}),na().createElement(Je,{label:qb("labels.duplicateSelection"),shortcuts:[ad("CtrlOrCmd+D"),ad("Alt+".concat(qb("helpDialog.drag")))]}),
na().createElement(Je,{label:qb("buttons.undo"),shortcuts:[ad("CtrlOrCmd+Z")]}),na().createElement(Je,{label:qb("buttons.redo"),shortcuts:wj?[ad("CtrlOrCmd+Y"),ad("CtrlOrCmd+Shift+Z")]:[ad("CtrlOrCmd+Shift+Z")]}),na().createElement(Je,{label:qb("labels.group"),shortcuts:[ad("CtrlOrCmd+G")]}),na().createElement(Je,{label:qb("labels.ungroup"),shortcuts:[ad("CtrlOrCmd+Shift+G")]})))))))},Rr=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");
for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<
L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},Es=function(d,g){for(var h=0,t=g.length,
D=d.length;h<t;h++,D++)d[D]=g[h];return d},Nt=function(d){var g=d.library,h=d.onRemoveFromLibrary,t=d.onAddToLibrary,D=d.onInsertShape,L=d.pendingElements,aa=d.setAppState,X=d.setLibraryItems;d=ue()?4:6;var ma=Math.max(1,Math.ceil((g.length+(0<L.length?1:0))/d)),wa=[],ra=!1;wa.push(na().createElement("div",{className:"layer-ui__library-header"},na().createElement(ve,{key:"import",type:"button",title:qb("buttons.load"),"aria-label":qb("buttons.load"),icon:Hk,onClick:function(){ip().then(function(){aa({isLibraryOpen:!1})}).catch(uk).catch(function(Ub){aa({errorMessage:Ub.message})})}}),
na().createElement(ve,{key:"export",type:"button",title:qb("buttons.export"),"aria-label":qb("buttons.export"),icon:Li,onClick:function(){am().catch(uk).catch(function(Ub){aa({errorMessage:Ub.message})})}}),na().createElement(ve,{key:"reset",type:"button",title:qb("buttons.resetLibrary"),"aria-label":qb("buttons.resetLibrary"),icon:Ai,onClick:function(){window.confirm(qb("alerts.resetLibrary"))&&(Yg.resetLibrary(),X([]))}}),na().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
qb("labels.libraries"))));for(var Ua=0;Ua<ma;Ua++){for(var Xa=d*Ua,Ya=[],ub=0;ub<d;ub++){var rb=0<L.length&&!ra&&Xa+ub>=g.length;ra=ra||rb;Ya.push(na().createElement(Pk,{key:ub},na().createElement(Zd,{elements:g[Xa+ub],pendingElements:rb?L:void 0,onRemoveFromLibrary:h.bind(null,Xa+ub),onClick:rb?t.bind(null,L):D.bind(null,g[Xa+ub])})))}wa.push(na().createElement(Ok,{align:"center",gap:1,key:Ua},Ya))}return na().createElement(Pk,{align:"start",gap:1,className:"layer-ui__library-items"},wa)},Ot=function(d){var g=
d.onClickOutside,h=d.onInsertShape,t=d.pendingElements,D=d.onAddToLibrary;d=d.setAppState;var L=(0,Cb.useRef)(null);!function(Ya,ub){(0,Cb.useEffect)(function(){var rb=function(Ub){Ya.current&&(Ub.target instanceof Element&&(Ya.current.contains(Ub.target)||!document.body.contains(Ub.target))||ub(Ub))};return document.addEventListener("pointerdown",rb,!1),function(){document.removeEventListener("pointerdown",rb)}},[Ya,ub])}(L,function(Ya){Ya.target.closest(".ToolIcon_type_button__library")||g(Ya)});
var aa=(0,Cb.useState)([]),X=aa[0],ma=aa[1],wa=(0,Cb.useState)("preloading");aa=wa[0];var ra=wa[1],Ua=(0,Cb.useRef)(null);(0,Cb.useEffect)(function(){return Promise.race([new Promise(function(Ya){Ua.current=setTimeout(function(){Ya("loading")},100)}),Yg.loadLibrary().then(function(Ya){ma(Ya);ra("ready")})]).then(function(Ya){"loading"===Ya&&ra("loading")}),function(){clearTimeout(Ua.current)}},[]);wa=(0,Cb.useCallback)(function(){var Ya=jc()(function(ub){var rb,Ub;return Rr(this,function(Ac){switch(Ac.label){case 0:return[4,
Yg.loadLibrary()];case 1:return rb=Ac.sent(),Ub=rb.filter(function(Fc,Qc){return Qc!==ub}),Yg.saveLibrary(Ub),ma(Ub),[2]}})});return function(ub){return Ya.apply(this,arguments)}}(),[]);var Xa=(0,Cb.useCallback)(function(){var Ya=jc()(function(ub){var rb,Ub;return Rr(this,function(Ac){switch(Ac.label){case 0:return[4,Yg.loadLibrary()];case 1:return rb=Ac.sent(),Ub=Es(Es([],rb),[ub]),D(),Yg.saveLibrary(Ub),ma(Ub),[2]}})});return function(ub){return Ya.apply(this,arguments)}}(),[D]);return"preloading"===
aa?null:na().createElement(Rk,{padding:1,ref:L,className:"layer-ui__library"},"loading"===aa?na().createElement("div",{className:"layer-ui__library-message"},qb("labels.libraryLoadingMessage")):na().createElement(Nt,{library:X,onRemoveFromLibrary:wa,onAddToLibrary:Xa,onInsertShape:h,pendingElements:t,setAppState:d,setLibraryItems:ma}))};const Pt=na().memo(function(d){var g,h=d.actionManager,t=d.appState,D=d.setAppState,L=d.canvas,aa=d.elements,X=d.onCollabButtonClick,ma=d.onLockToggle,wa=d.onInsertElements,
ra=d.zenModeEnabled,Ua=d.showExitZenModeBtn,Xa=d.toggleZenMode,Ya=d.isCollaborating,ub=d.onExportToBackend,rb=d.renderCustomFooter;d=d.viewModeEnabled;var Ub=ue(),Ac=function(){var Pd=function(de){return function(){var Vd=jc()(function(se,Vc){return Rr(this,function(md){switch(md.label){case 0:return L?[4,Sb(de,se,t,L,{exportBackground:t.exportBackground,name:t.name,viewBackgroundColor:t.viewBackgroundColor,scale:Vc,shouldAddWatermark:t.shouldAddWatermark}).catch(uk).catch(function(Ad){console.error(Ad);
D({errorMessage:Ad.message})})]:[3,2];case 1:md.sent(),md.label=2;case 2:return[2]}})});return function(se,Vc){return Vd.apply(this,arguments)}}()};return na().createElement(Tb,{elements:aa,appState:t,actionManager:h,onExportToPng:Pd("png"),onExportToSvg:Pd("svg"),onExportToClipboard:Pd("clipboard"),onExportToBackend:ub?function(de){ub&&ub(de,t,L)}:void 0})},Fc=(0,Cb.useCallback)(function(Pd){D({isLibraryOpen:!1})},[D]),Qc=(0,Cb.useCallback)(function(){D({selectedElementIds:{},selectedGroupIds:{}})},
[D]),Rd=t.isLibraryOpen?na().createElement(Ot,{pendingElements:Le(aa,t),onClickOutside:Fc,onInsertShape:wa,onAddToLibrary:Qc,setAppState:D}):null;wa=na().createElement(na().Fragment,null,t.isLoading&&na().createElement(Ye,null),t.errorMessage&&na().createElement(z,{message:t.errorMessage,onClose:function(){return D({errorMessage:null})}}),t.showHelpDialog&&na().createElement(Mt,{onClose:function(){return D({showHelpDialog:!1})}}),t.pasteDialog.shown&&na().createElement(cf,{setAppState:D,appState:t,
onInsertChart:wa,onClose:function(){return D({pasteDialog:{shown:!1,data:null}})}}));return Ub?na().createElement(na().Fragment,null,wa,na().createElement(Pc,{appState:t,elements:aa,actionManager:h,libraryMenu:Rd,exportButton:Ac(),setAppState:D,onCollabButtonClick:X,onLockToggle:ma,canvas:L,isCollaborating:Ya,renderCustomFooter:rb,viewModeEnabled:d})):na().createElement("div",{className:uc("layer-ui__wrapper",{"disable-pointerEvents":t.draggingElement||t.resizingElement||t.editingElement&&!re(t.editingElement)})},
wa,(g=of(t,aa),na().createElement(xc,{side:"top"},na().createElement("div",{className:"App-menu App-menu_top"},na().createElement(Pk,{gap:4,className:uc({"disable-pointerEvents":ra})},d?na().createElement(Vb,{heading:"canvasActions",className:uc("zen-mode-transition",{"transition-left":ra})},na().createElement(Rk,{padding:2,style:{zIndex:1}},na().createElement(Pk,{gap:4},na().createElement(Ok,{gap:1,justifyContent:"space-between"},h.renderAction("saveScene"),h.renderAction("saveAsScene"),Ac())))):
na().createElement(Vb,{heading:"canvasActions",className:uc("zen-mode-transition",{"transition-left":ra})},na().createElement(Rk,{padding:2,style:{zIndex:1}},na().createElement(Pk,{gap:4},na().createElement(Ok,{gap:1,justifyContent:"space-between"},h.renderAction("loadScene"),h.renderAction("saveScene"),h.renderAction("saveAsScene"),Ac(),h.renderAction("clearCanvas"),X&&na().createElement(Uq,{isCollaborating:Ya,collaboratorCount:t.collaborators.size,onClick:X})),na().createElement(Sq,{actionManager:h,
appState:t,setAppState:D})))),g&&na().createElement(Vb,{heading:"selectedShapeActions",className:uc("zen-mode-transition",{"transition-left":ra})},na().createElement(Rk,{className:tb.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(t.height-200,"px")}},na().createElement(Tq,{appState:t,elements:aa,renderAction:h.renderAction,elementType:t.elementType})))),!d&&na().createElement(Vb,{heading:"shapes"},function(Pd){return na().createElement(Pk,{gap:4,align:"start"},na().createElement(Ok,{gap:1},
na().createElement(Rk,{padding:1,className:uc({"zen-mode":ra})},na().createElement(Re,{appState:t,elements:aa}),Pd,na().createElement(Ok,{gap:1},na().createElement(Tp,{canvas:L,elementType:t.elementType,setAppState:D,isLibraryOpen:t.isLibraryOpen}))),na().createElement(lc,{zenModeEnabled:ra,checked:t.elementLocked,onChange:ma,title:qb("toolBar.lock")})),Rd)}),na().createElement(fc,{className:uc("zen-mode-transition",{"transition-right":ra})},0<t.collaborators.size&&Array.from(t.collaborators).filter(function(Pd){Pd[0];
return 0!==Object.keys(Pd[1]).length}).map(function(Pd){var de=Pd[0];Pd=Pd[1];return na().createElement(Oj,{label:Pd.username||"Unknown user",key:de},h.renderAction("goToCollaborator",de))}))))),na().createElement("div",{className:uc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":ra})},na().createElement(Pk,{gap:2},na().createElement(Vb,{heading:"canvasActions"},na().createElement(Rk,{padding:1},na().createElement(Jr,{renderAction:h.renderAction,zoom:t.zoom})),
na().createElement("a",{className:uc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":ra}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},na().createElement(Oj,{label:qb("encrypted.tooltip"),position:"above",long:!0},id))))),na().createElement("aside",{className:uc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":ra})},na().createElement(Id,{appearance:t.appearance})),na().createElement("footer",
{role:"contentinfo",className:"layer-ui__wrapper__footer"},na().createElement("div",{className:uc("zen-mode-transition",{"transition-right disable-pointerEvents":ra})},null==rb?void 0:rb(!1),h.renderAction("toggleShortcuts")),na().createElement("button",{className:uc("disable-zen-mode",{"disable-zen-mode--visible":Ua}),onClick:Xa},qb("buttons.exitZenMode"))),t.scrolledOutside&&na().createElement("button",{className:"scroll-back-to-content",onClick:function(){D(function(Pd){for(var de=1;de<arguments.length;de++){var Vd=
null!=arguments[de]?arguments[de]:{};de%2?we(Object(Vd),!0).forEach(function(se){Xd()(Pd,se,Vd[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pd,Object.getOwnPropertyDescriptors(Vd)):we(Object(Vd)).forEach(function(se){Object.defineProperty(Pd,se,Object.getOwnPropertyDescriptor(Vd,se))})}return Pd}({},ci(aa,t)))}},qb("buttons.scrollBackToContent")))},function(d,g){var h=function(L){L.suggestedBindings;L.startBoundElement;return li()(L,["suggestedBindings","startBoundElement"])},t=
h(d.appState),D=h(g.appState);h=Object.keys(t);return d.renderCustomFooter===g.renderCustomFooter&&d.langCode===g.langCode&&d.elements===g.elements&&h.every(function(L){return t[L]===D[L]})});var Fs=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(g){return console.error(g),0}},Qt=(l(7287),function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?
D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&
X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa}),Gs=$i(function(d){var g=Fs();try{var h=localStorage.getItem("excalidraw-state"),
t=localStorage.getItem("excalidraw-collab"),D=localStorage.getItem(tb.I.LOCAL_STORAGE_LIBRARY);var L=(h?JSON.stringify(h).length:0)+(t?JSON.stringify(t).length:0)+(D?JSON.stringify(D).length:0)+Fs()}catch(aa){L=(console.error(aa),0)}d({scene:g,total:L})},500),Rt=function(d){var g=ue(),h=(0,Cb.useState)({scene:0,total:0}),t=h[0],D=h[1];(0,Cb.useEffect)(function(){Gs(function(wa){D(wa)})});(0,Cb.useEffect)(function(){return function(){return Gs.cancel()}},[]);h=Ff(d.elements);var L=jj(d.elements,d.appState),
aa=Ff(L);if(g&&d.appState.openMenu)return null;var X,ma;g=ig();return g!==tb.eQ?(ma=g.slice(0,16).replace("T"," "),X=g.slice(21)):ma=qb("stats.versionNotAvailable"),na().createElement("div",{className:"Stats"},na().createElement(Rk,{padding:2},na().createElement("div",{className:"close",onClick:d.onClose},qj),na().createElement("h3",null,qb("stats.title")),na().createElement("table",null,na().createElement("tbody",null,na().createElement("tr",null,na().createElement("th",{colSpan:2},qb("stats.scene"))),
na().createElement("tr",null,na().createElement("td",null,qb("stats.elements")),na().createElement("td",null,d.elements.length)),na().createElement("tr",null,na().createElement("td",null,qb("stats.width")),na().createElement("td",null,Math.round(h[2])-Math.round(h[0]))),na().createElement("tr",null,na().createElement("td",null,qb("stats.height")),na().createElement("td",null,Math.round(h[3])-Math.round(h[1]))),na().createElement("tr",null,na().createElement("th",{colSpan:2},qb("stats.storage"))),
na().createElement("tr",null,na().createElement("td",null,qb("stats.scene")),na().createElement("td",null,vf(t.scene,1))),na().createElement("tr",null,na().createElement("td",null,qb("stats.total")),na().createElement("td",null,vf(t.total,1))),1===L.length&&na().createElement("tr",null,na().createElement("th",{colSpan:2},qb("stats.element"))),1<L.length&&na().createElement(na().Fragment,null,na().createElement("tr",null,na().createElement("th",{colSpan:2},qb("stats.selected"))),na().createElement("tr",
null,na().createElement("td",null,qb("stats.elements")),na().createElement("td",null,L.length))),0<L.length&&na().createElement(na().Fragment,null,na().createElement("tr",null,na().createElement("td",null,"x"),na().createElement("td",null,Math.round(1===L.length?L[0].x:aa[0]))),na().createElement("tr",null,na().createElement("td",null,"y"),na().createElement("td",null,Math.round(1===L.length?L[0].y:aa[1]))),na().createElement("tr",null,na().createElement("td",null,qb("stats.width")),na().createElement("td",
null,Math.round(1===L.length?L[0].width:aa[2]-aa[0]))),na().createElement("tr",null,na().createElement("td",null,qb("stats.height")),na().createElement("td",null,Math.round(1===L.length?L[0].height:aa[3]-aa[1])))),1===L.length&&na().createElement("tr",null,na().createElement("td",null,qb("stats.angle")),na().createElement("td",null,"".concat(Math.round(180*L[0].angle/Math.PI),"°"))),na().createElement("tr",null,na().createElement("th",{colSpan:2},qb("stats.version"))),na().createElement("tr",null,
na().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:jc()(function(){return Qt(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,lb(ig())];case 1:return wa.sent(),d.setAppState({toastMessage:qb("toast.copyToClipboard")}),[3,3];case 2:return wa.sent(),[3,3];case 3:return[2]}})}),title:qb("stats.versionCopy")},ma,na().createElement("br",null),X))))))},Kt=(l(5849),function(d){var g=d.message,h=d.clearToast,t=(0,Cb.useRef)(0),D=(0,Cb.useCallback)(function(){return t.current=
window.setTimeout(function(){return h()},tb.Lg)},[h]);return(0,Cb.useEffect)(function(){return D(),function(){return clearTimeout(t.current)}},[D,g]),na().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==t?void 0:t.current)},onMouseLeave:D},na().createElement("p",{className:"Toast__message"},g))}),Ds=Dd({name:"viewMode",perform:function(d,g){return Tg("view","mode","view"),{appState:Nb(Nb({},g),{},{viewModeEnabled:!this.checked(g),selectedElementIds:{}}),commitToHistory:!1}},
checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[ce]&&d.altKey&&"KeyR"===d.code}}),Jt=function(){var d=function(g,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,D){t.__proto__=D}||function(t,D){for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(t[L]=D[L])})(g,h)};return function(g,h){function t(){this.constructor=g}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+
" is not a constructor or null");d(g,h);g.prototype=null===h?Object.create(h):(t.prototype=h.prototype,new t)}}(),Co=function(d,g){function h(ma){return function(wa){return function(ra){if(t)throw new TypeError("Generator is already executing.");for(;X;)try{if(t=1,D&&(L=2&ra[0]?D.return:ra[0]?D.throw||((L=D.return)&&L.call(D),0):D.next)&&!(L=L.call(D,ra[1])).done)return L;switch(D=0,L&&(ra=[2&ra[0],L.value]),ra[0]){case 0:case 1:L=ra;break;case 4:return X.label++,{value:ra[1],done:!1};case 5:X.label++;
D=ra[1];ra=[0];continue;case 7:ra=X.ops.pop();X.trys.pop();continue;default:if(!(L=X.trys,(L=0<L.length&&L[L.length-1])||6!==ra[0]&&2!==ra[0])){X=0;continue}if(3===ra[0]&&(!L||ra[1]>L[0]&&ra[1]<L[3]))X.label=ra[1];else if(6===ra[0]&&X.label<L[1])X.label=L[1],L=ra;else if(L&&X.label<L[2])X.label=L[2],X.ops.push(ra);else{L[2]&&X.ops.pop();X.trys.pop();continue}}ra=g.call(d,X)}catch(Ua){ra=[6,Ua],D=0}finally{t=L=0}if(5&ra[0])throw ra[1];return{value:ra[0]?ra[1]:void 0,done:!0}}([ma,wa])}}var t,D,L,aa,
X={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return aa={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(aa[Symbol.iterator]=function(){return this}),aa},Pg=function(d,g){for(var h=0,t=g.length,D=d.length;h<t;h++,D++)d[D]=g[h];return d},ek=new Xp,$p=!1,Pr=0,qp=0,rp=0,Do=!1,Zp=!1,Or=!1,Qr={horizontal:null,vertical:null},bo=0,Yp=!1,Tn=null,il=new Map,sp=null,Wq=null,pp=null,Nr=function(d){function g(h){var t=this;var D=t=d.call(this,h)||this;Ht.call(t);var L,
aa,X,ma=kh(),wa=h.width,ra=void 0===wa?window.innerWidth:wa;wa=h.height;var Ua=void 0===wa?window.innerHeight:wa,Xa=h.offsetLeft,Ya=h.offsetTop;wa=h.excalidrawRef;var ub=h.viewModeEnabled;ub=void 0!==ub&&ub;var rb=h.zenModeEnabled;rb=void 0!==rb&&rb;h=h.gridModeEnabled;h=void 0!==h&&h;if(t.state=Ca(Ca(Ca({},ma),{},{isLoading:!0,width:ra,height:Ua},t.getCanvasOffsets({offsetLeft:Xa,offsetTop:Ya})),{},{viewModeEnabled:ub,zenModeEnabled:rb,gridSize:h?tb.k:null}),wa){var Ub;ma="current"in wa&&(null===
(Ub=wa.current)||void 0===Ub?void 0:Ub.readyPromise)||((X=new Promise(function(Ac,Fc){L=Ac;aa=Fc})).resolve=L,X.reject=aa,X);X={ready:!0,readyPromise:ma,updateScene:t.updateScene,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},setScrollToCenter:t.setScrollToCenter,getSceneElements:t.getSceneElements,getAppState:function(){return D.state}};"function"==typeof wa?wa(X):wa.current=X;ma.resolve(X)}return t.scene=new Ag,t.actionManager=
new fm(t.syncActionResult,function(){return D.state},function(){return D.scene.getElementsIncludingDeleted()},t),t.actionManager.registerAll(Sf),t.actionManager.registerAction({name:"undo",perform:function(Ac,Fc){return lp(Ac,Fc,function(){return ek.undoOnce()})},keyTest:function(Ac){return Ac[ce]&&"z"===Ac.key.toLowerCase()&&!Ac.shiftKey},PanelComponent:function(Ac){Ac=Ac.updateData;return na().createElement(ve,{type:"button",icon:Xc,"aria-label":qb("buttons.undo"),onClick:Ac})},commitToHistory:function(){return!1}}),
t.actionManager.registerAction(function(Ac){return{name:"redo",perform:function(Fc,Qc){return lp(Fc,Qc,function(){return Ac.redoOnce()})},keyTest:function(Fc){return Fc[ce]&&Fc.shiftKey&&"z"===Fc.key.toLowerCase()||wj&&Fc.ctrlKey&&!Fc.shiftKey&&"y"===Fc.key},PanelComponent:function(Fc){Fc=Fc.updateData;return na().createElement(ve,{type:"button",icon:gh,"aria-label":qb("buttons.redo"),onClick:Fc})},commitToHistory:function(){return!1}}}(ek)),t}return Jt(g,d),g.prototype.renderCanvas=function(){var h=
window.devicePixelRatio,t=this.state,D=t.width,L=t.height,aa=D*h;h*=L;return t.viewModeEnabled?na().createElement("canvas",{id:"canvas",style:{width:D,height:L,cursor:"grabbing"},width:aa,height:h,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},qb("labels.drawingCanvas")):na().createElement("canvas",
{id:"canvas",style:{width:D,height:L},width:aa,height:h,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},qb("labels.drawingCanvas"))},g.prototype.render=function(){var h,t=this,D=this.state,L=D.zenModeEnabled,aa=D.width,X=
D.height;D=D.viewModeEnabled;var ma=this.props,wa=ma.onCollabButtonClick,ra=ma.onExportToBackend;ma=ma.renderFooter;var Ua=aa/2,Xa=X/2;return na().createElement("div",{className:uc("excalidraw",{"excalidraw--view-mode":D}),ref:this.excalidrawContainerRef,style:{width:aa,height:X}},na().createElement(Pt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:wa,onLockToggle:this.toggleLock,onInsertElements:function(Ya){return t.addElementsFromPasteOrLibrary(Ya,
Ua,Xa)},zenModeEnabled:L,toggleZenMode:this.toggleZenMode,langCode:qd.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:ra,renderCustomFooter:ma,viewModeEnabled:D,showExitZenModeBtn:void 0===(null===(h=this.props)||void 0===h?void 0:h.zenModeEnabled)&&L}),na().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&na().createElement(Rt,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),
null!==this.state.toastMessage&&na().createElement(Kt,{message:this.state.toastMessage,clearToast:this.clearToast}),na().createElement("main",null,this.renderCanvas()))},g.prototype.componentDidMount=function(){var h=this;return jc()(function(){return Co(this,function(t){return"production"!==tb.Vi.TEST&&"production"!==tb.Vi.DEVELOPMENT||(h.setState.bind(h),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return h.state}},setState:{configurable:!0,value:function(){for(var D=
[],L=0;L<arguments.length;L++)D[L]=arguments[L];return h.setState.apply(h,D)}},app:{configurable:!0,value:h}})),h.scene.addCallback(h.onSceneUpdated),h.addEventListeners(),"number"==typeof h.props.offsetLeft&&"number"==typeof h.props.offsetTop?h.initializeScene():h.setState(h.getCanvasOffsets(h.props),function(){h.initializeScene()}),[2]})})()},g.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(bo);bo=0},g.prototype.removeEventListeners=
function(){document.removeEventListener(tb.Ks.COPY,this.onCopy);document.removeEventListener(tb.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(tb.Ks.CUT,this.onCut);document.removeEventListener(tb.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(tb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(tb.Ks.KEYUP,this.onKeyUp);window.removeEventListener(tb.Ks.RESIZE,this.onResize,!1);window.removeEventListener(tb.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(tb.Ks.BLUR,
this.onBlur,!1);window.removeEventListener(tb.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(tb.Ks.DROP,this.disableEvent,!1);document.removeEventListener(tb.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(tb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(tb.Ks.GESTURE_END,this.onGestureEnd,!1)},g.prototype.addEventListeners=function(){var h,t;this.removeEventListeners();document.addEventListener(tb.Ks.COPY,this.onCopy);document.addEventListener(tb.Ks.KEYDOWN,
this.onKeyDown,!1);document.addEventListener(tb.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(tb.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(h=document.fonts)||void 0===h||null===(t=h.addEventListener)||void 0===t||t.call(h,"loadingdone",this.onFontLoaded);document.addEventListener(tb.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(tb.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(tb.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||
(document.addEventListener(tb.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(tb.Ks.CUT,this.onCut),document.addEventListener(tb.Ks.SCROLL,this.onScroll),window.addEventListener(tb.Ks.RESIZE,this.onResize,!1),window.addEventListener(tb.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(tb.Ks.BLUR,this.onBlur,!1),window.addEventListener(tb.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(tb.Ks.DROP,this.disableEvent,!1))},g.prototype.componentDidUpdate=function(h,t){var D,L,
aa,X,ma=this;(h.langCode!==this.props.langCode&&this.updateLanguage(),h.width!==this.props.width||h.height!==this.props.height||"number"==typeof this.props.offsetLeft&&h.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&h.offsetTop!==this.props.offsetTop)&&this.setState(Ca({width:null!==(aa=this.props.width)&&void 0!==aa?aa:window.innerWidth,height:null!==(X=this.props.height)&&void 0!==X?X:window.innerHeight},this.getCanvasOffsets(this.props)));h.viewModeEnabled!==this.props.viewModeEnabled&&
this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);t.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();h.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});h.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?tb.k:null});null===(D=document.querySelector(".excalidraw"))||void 0===D||D.classList.toggle("Appearance_dark","dark"===this.state.appearance);
this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){ma.actionManager.executeAction(zf)});h=t.multiElement;t.elementType!==this.state.elementType&&null!=h&&this.state.isBindingEnabled&&Gh(h)&&Ej(h,this.state,this.scene,bj(If.getPointAtIndexGlobalCoordinates(h,-1)));var wa={},ra={},Ua={},Xa={},Ya={};this.state.collaborators.forEach(function(Ub,Ac){if(Ub.selectedElementIds)for(var Fc=0,Qc=Object.keys(Ub.selectedElementIds);Fc<
Qc.length;Fc++){var Rd=Qc[Fc];Rd in Ua||(Ua[Rd]=[]);Ua[Rd].push(Ac)}Ub.pointer&&(Ub.username&&(Xa[Ac]=Ub.username),Ub.userState&&(Ya[Ac]=Ub.userState),ra[Ac]=ag({sceneX:Ub.pointer.x,sceneY:Ub.pointer.y},ma.state),wa[Ac]=Ub.button)});t=this.scene.getElements();D=Xm(t.filter(function(Ub){return!ma.state.editingElement||"text"!==ma.state.editingElement.type||Ub.id!==ma.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,
scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:ra,remotePointerButton:wa,remoteSelectedElementIds:Ua,remotePointerUsernames:Xa,remotePointerUserStates:Ya,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!Rf().matches});h=D.atLeastOneVisibleElement;(D=D.scrollBars)&&(Qr=D);var ub,rb;t="text"!==(null===(L=this.state.editingElement)||void 0===L?void 0:L.type)&&!h&&0<t.length;
(this.state.scrolledOutside!==t&&this.setState({scrolledOutside:t}),ek.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(ub=(rb=this.props).onChange)||void 0===ub||ub.call(rb,this.scene.getElementsIncludingDeleted(),this.state)},g.resetTapTwice=function(){$p=!1},g.prototype.addTextFromPaste=function(h){var t,D=Gf({clientX:qp,clientY:rp},this.state);h=ak({x:D.x,y:D.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,
fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:h,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:tb.hs});this.scene.replaceAllElements(Pg(Pg([],this.scene.getElementsIncludingDeleted()),
[h]));this.setState({selectedElementIds:(t={},t[h.id]=!0,t)});ek.resumeRecording()},g.prototype.selectShapeTool=function(h){var t;Do||uf(this.canvas,h);(t=document.activeElement)instanceof HTMLElement&&t.className.includes("ToolIcon")&&document.activeElement.blur();Ei(h)||this.setState({suggestedBindings:[]});"selection"!==h?this.setState({elementType:h,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:h})},g.prototype.handleTextWysiwyg=function(h,t){t=t.isExistingElement;
var D=void 0!==t&&t,L=this,aa=function(X,ma){void 0===ma&&(ma=!1);L.scene.replaceAllElements(Pg([],L.scene.getElementsIncludingDeleted().map(function(wa){if(wa.id===h.id&&re(wa)){var ra=ma;ra={text:X,isDeleted:null!=ra?ra:wa.isDeleted};var Ua=yg(X,rh(wa));var Xa=Ua.width;var Ya=Ua.height;Ua=Ua.baseline;var ub=wa.textAlign;var rb=wa.verticalAlign;if("center"===ub&&"middle"===rb)ub=yg(wa.text,rh(wa)),rb=Si(wa,{width:Xa-ub.width,height:Ya-ub.height}),ub=wa.x-rb.x,rb=wa.y-rb.y;else{var Ub=ff(wa);rb=Ub[0];
var Ac=Ub[1],Fc=Ub[2];Ub=Ub[3];var Qc=Xg(wa,Xa,Ya);ub=(rb=Rj({s:!0,e:"center"===ub||"left"===ub,w:"center"===ub||"right"===ub},wa.x,wa.y,wa.angle,(rb-Qc[0])/2,(Ac-Qc[1])/2,(Fc-Qc[2])/2,(Ub-Qc[3])/2))[0];rb=rb[1]}Xa={width:Xa,height:Ya,x:Number.isFinite(ub)?ub:wa.x,y:Number.isFinite(rb)?rb:wa.y,baseline:Ua};wa=gf(wa,za(ra,Xa))}return wa})))};!function(X){var ma=X.id,wa=X.appState,ra=X.onChange,Ua=X.onSubmit,Xa=X.getViewportCoords,Ya=X.element;X=X.canvas;var ub=function(){var Vd,se=null===(Vd=Ag.getScene(Ya))||
void 0===Vd?void 0:Vd.getElement(ma);if(se&&re(se)){Vd=Xa(se.x,se.y);var Vc=Vd[0],md=Vd[1];Vd=se.textAlign;var Ad=se.angle;rb.value=se.text;var fe=se.text.replace(/\r\n?/g,"\n").split("\n"),mh=se.height/fe.length;fe=(wa.offsetLeft+wa.width-Vc-8)/wa.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Mh=Object,kj=Mh.assign,Ki=rb.style,Bl=rh(se);mh="".concat(mh,"px");var en="".concat(se.width,"px"),Tl="".concat(se.height,"px");Vc="".concat(Vc,
"px");md="".concat(md,"px");var fn=se.width;var Km=wa.zoom,Sn=180*Ad/Math.PI;Ad=(fn-2*wa.offsetLeft)*(Km.value-1)/2;var Lm=(se.height-2*wa.offsetTop)*(Km.value-1)/2;fn=(fn>fe&&1!==Km.value&&(Ad=fe/2*(Km.value-1)),"translate(".concat(Ad,"px, ").concat(Lm,"px) scale(").concat(Km.value,") rotate(").concat(Sn,"deg)"));kj.call(Mh,Ki,{font:Bl,lineHeight:mh,width:en,height:Tl,left:Vc,top:md,transform:fn,textAlign:Vd,color:se.strokeColor,opacity:se.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(fe,
"px")})}},rb=document.createElement("textarea");rb.dir="auto";rb.tabIndex=0;rb.dataset.type="wysiwyg";rb.wrap="off";Object.assign(rb.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});ub();ra&&(rb.oninput=function(){ra(lk(rb.value))});rb.onkeydown=function(Vd){"Escape"===Vd.key?(Vd.preventDefault(),Ac()):"Enter"===
Vd.key&&Vd[ce]?(Vd.preventDefault(),Vd.isComposing||229===Vd.keyCode)||Ac():"Enter"!==Vd.key||Vd.altKey||Vd.stopPropagation()};var Ub=function(Vd){Vd.preventDefault();Vd.stopPropagation()},Ac=function(){Ua(lk(rb.value));Pd||(Pd=!0,rb.onblur=null,rb.oninput=null,rb.onkeydown=null,de&&de.disconnect(),window.removeEventListener("resize",ub),window.removeEventListener("wheel",Ub,!0),window.removeEventListener("pointerdown",Qc),window.removeEventListener("pointerup",Fc),window.removeEventListener("blur",
Ac),Rd(),rb.remove())},Fc=function(){window.removeEventListener("pointerup",Fc);setTimeout(function(){rb.onblur=Ac;rb.focus()})},Qc=function(Vd){Vd.target instanceof HTMLElement&&Vd.target.closest(".".concat(tb.$C.SHAPE_ACTIONS_MENU))&&!qh(Vd.target)&&(rb.onblur=null,window.addEventListener("pointerup",Fc),window.addEventListener("blur",Ac))},Rd=Ag.getScene(Ya).addCallback(function(){ub();rb.focus()}),Pd=!1;rb.onblur=Ac;var de=null;X&&"ResizeObserver"in window?(de=new window.ResizeObserver(function(){ub()})).observe(X):
window.addEventListener("resize",ub);window.addEventListener("pointerdown",Qc);window.addEventListener("wheel",Ub,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(rb);rb.focus();rb.select()}({id:h.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(X,ma){X=ag({sceneX:X,sceneY:ma},L.state);return[X.x-L.state.offsetLeft,X.y-L.state.offsetTop]},onChange:Ke(function(X){aa(X);!h.isDeleted&&Lh(h)}),onSubmit:Ke(function(X){var ma=!X.trim();aa(X,
ma);ma?bi(L.scene.getElements(),[h]):L.setState(function(wa){var ra;return{selectedElementIds:Ca(Ca({},wa.selectedElementIds),{},(ra={},ra[h.id]=!0,ra))}});ma&&!D||ek.resumeRecording();L.setState({draggingElement:null,editingElement:null});L.state.elementLocked&&uf(L.canvas,L.state.elementType)}),element:h});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});aa(h.text)},g.prototype.getTextElementAtPosition=function(h,t){return(h=this.getElementAtPosition(h,t))&&re(h)&&
!h.isDeleted?h:null},g.prototype.getElementAtPosition=function(h,t){var D=this.getElementsAtPosition(h,t);if(1<D.length){var L=D[D.length-1];return Nk(L,this.state,h,t)?D[D.length-2]:L}return 1===D.length?D[0]:null},g.prototype.getElementsAtPosition=function(h,t){var D,L,aa=this;return D=this.scene.getElements(),L=function(X){var ma=aa.state,wa=10/ma.zoom.value,ra=[h,t];return ma.selectedElementIds[X.id]?lm(X,ra,wa):Bj(X,ma,ra)},D.filter(function(X){return!X.isDeleted&&L(X)})},g.prototype.maybeCleanupAfterMissingPointerUp=
function(h){null!==Tn&&Tn(h)},g.prototype.updateGestureOnPointerDown=function(h){il.set(h.pointerId,{x:h.clientX,y:h.clientY});2===il.size&&(sp=Jm(il),pp=this.state.zoom.value,Wq=Pn(Array.from(il.values())))},g.prototype.initialPointerDownState=function(h){var t=Gf(h,this.state),D=Le(this.scene.getElements(),this.state),L=Ff(D),aa=L[0],X=L[1],ma=L[2];L=L[3];return{origin:t,originInGrid:bj(jh(t.x,t.y,this.state.gridSize)),scrollbars:pl(Qr,h.clientX-this.state.offsetLeft,h.clientY-this.state.offsetTop),
lastCoords:Ca({},t),originalElements:this.scene.getElements().reduce(function(wa,ra){return wa.set(ra.id,Wh(ra)),wa},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(ma+aa)/2,y:(L+X)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,D)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},
g.prototype.handleDraggingScrollBar=function(h,t){var D=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;Or=!0;t.lastCoords.x=h.clientX;t.lastCoords.y=h.clientY;var L=Ke(function(X){X.target instanceof HTMLElement&&D.handlePointerMoveOverScrollbars(X,t)}),aa=Ke(function(){Or=!1;uf(D.canvas,D.state.elementType);Tn=null;D.setState({cursorButton:"up"});D.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(tb.Ks.POINTER_MOVE,L);window.removeEventListener(tb.Ks.POINTER_UP,
aa)});return Tn=aa,window.addEventListener(tb.Ks.POINTER_MOVE,L),window.addEventListener(tb.Ks.POINTER_UP,aa),!0},g.prototype.isASelectedElement=function(h){return null!=h&&this.state.selectedElementIds[h.id]},g.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(h,t){if(2>t.length)return!1;var D=10/this.state.zoom.value;t=Ff(t);var L=t[1],aa=t[2],X=t[3];return h.x>t[0]-D&&h.x<aa+D&&h.y>L-D&&h.y<X+D},g.prototype.onKeyDownFromPointerDownHandler=function(h){var t=this;return Ke(function(D){t.maybeHandleResize(h,
D)||t.maybeDragNewGenericElement(h,D)})},g.prototype.onKeyUpFromPointerDownHandler=function(h){var t=this;return Ke(function(D){"Alt"===D.key&&D.preventDefault();t.maybeHandleResize(h,D)||t.maybeDragNewGenericElement(h,D)})},g.prototype.onPointerMoveFromPointerDownHandler=function(h){var t=this;return Ke(function(D){if(null===h.drag.offset&&(h.drag.offset=bj(function(Fc,Qc,Rd){Fc=Ff(Fc);return[Qc-Fc[0],Rd-Fc[1]]}(Le(t.scene.getElements(),t.state),h.origin.x,h.origin.y))),D.target instanceof HTMLElement&&
!t.handlePointerMoveOverScrollbars(D,h)){var L=Gf(D,t.state),aa=jh(L.x,L.y,t.state.gridSize),X=aa[0];aa=aa[1];if(h.drag.hasOccurred||"arrow"!==t.state.elementType&&"line"!==t.state.elementType||!(Math.hypot(h.origin.x-L.x,h.origin.y-L.y)<tb.f)){if(h.resize.isResizing&&(h.lastCoords.x=L.x,h.lastCoords.y=L.y,t.maybeHandleResize(h,D)))return!0;if(t.state.editingLinearElement&&If.handlePointDragging(t.state,function(Fc){return t.setState(Fc)},L.x,L.y,function(Fc,Qc){t.maybeSuggestBindingForLinearElementAtCursor(Fc,
Qc,L)}))return h.lastCoords.x=L.x,void(h.lastCoords.y=L.y);if(h.hit.allHitElements.some(function(Fc){return t.isASelectedElement(Fc)})||h.hit.hasHitCommonBoundingBoxOfSelectedElements){h.drag.hasOccurred=!0;var ma=Le(t.scene.getElements(),t.state);if(0<ma.length){X=jh(L.x-h.drag.offset.x,L.y-h.drag.offset.y,t.state.gridSize);var wa=X[0];X=X[1];aa=[Math.abs(L.x-h.origin.x),Math.abs(L.y-h.origin.y)];if(function(Fc,Qc,Rd,Pd,de,Vd,se,Vc){void 0===Vd&&(Vd=!1);void 0===se&&(se=0);void 0===Vc&&(Vc=0);de=
Ff(Qc);var md=Rd-de[0],Ad=Pd-de[1];Qc.forEach(function(fe){if(Vd){var mh=Vd&&se<Vc;var Mh=Vd&&se>Vc;var kj=Fc.originalElements.get(fe.id);mh=mh&&kj?kj.x:fe.x+md;Mh=Mh&&kj?kj.y:fe.y+Ad}else mh=fe.x+md,Mh=fe.y+Ad;ld(fe,{x:mh,y:Mh});Lh(fe,{simultaneouslyUpdated:Qc})})}(h,ma,wa,X,t.scene,D.shiftKey,aa[0],aa[1]),t.maybeSuggestBindingForAll(ma),D.altKey&&!h.hit.hasBeenDuplicated){h.hit.hasBeenDuplicated=!0;ma=[];D=[];var ra=new Map;aa=new Map;for(var Ua=h.hit.element,Xa=0,Ya=t.scene.getElementsIncludingDeleted();Xa<
Ya.length;Xa++){var ub=Ya[Xa];if(t.state.selectedElementIds[ub.id]||ub.id===(null==Ua?void 0:Ua.id)&&h.hit.wasAddedToSelection){var rb=Ji(t.state.editingGroupId,ra,ub),Ub=jh(h.origin.x-h.drag.offset.x,h.origin.y-h.drag.offset.y,t.state.gridSize);ld(rb,{x:rb.x+(Ub[0]-wa),y:rb.y+(Ub[1]-X)});ma.push(rb);D.push(ub);aa.set(ub.id,rb.id)}else ma.push(ub)}wa=Pg(Pg([],ma),D);bl(wa,D,aa,"duplicatesServeAsOld");t.scene.replaceAllElements(wa)}return}}if(ma=t.state.draggingElement)if(hg(ma)?(h.drag.hasOccurred=
!0,ra=ma.points,Xa=Ua=void 0,"draw"===ma.type?(Ua=L.x-ma.x,Xa=L.y-ma.y):(Ua=X-ma.x,Xa=aa-ma.y),D.shiftKey&&2===ra.length&&(Ua=(wa=Bg(t.state.elementType,Ua,Xa)).width,Xa=wa.height),1===ra.length?ld(ma,{points:Pg(Pg([],ra),[[Ua,Xa]])}):1<ra.length&&("draw"===ma.type?ld(ma,{points:R(Pg(Pg([],ra),[[Ua,Xa]]),.7/t.state.zoom.value)}):ld(ma,{points:Pg(Pg([],ra.slice(0,-1)),[[Ua,Xa]])})),Gh(ma)&&t.maybeSuggestBindingForLinearElementAtCursor(ma,"end",L,t.state.startBoundElement)):(h.lastCoords.x=L.x,h.lastCoords.y=
L.y,t.maybeDragNewGenericElement(h,D)),"selection"===t.state.elementType){wa=t.scene.getElements();!D.shiftKey&&tg(wa,t.state)&&t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Ac=function(Fc,Qc){Qc=ff(Qc);var Rd=Qc[0],Pd=Qc[1],de=Qc[2],Vd=Qc[3];return Fc.filter(function(se){var Vc=vj(se),md=Vc[0],Ad=Vc[1],fe=Vc[2];Vc=Vc[3];return"selection"!==se.type&&Rd<=md&&Pd<=Ad&&de>=fe&&Vd>=Vc})}(wa,ma);t.setState(function(Fc){return Yj(Ca(Ca({},Fc),{},{selectedElementIds:Ca(Ca({},
Fc.selectedElementIds),Ac.reduce(function(Qc,Rd){return Qc[Rd.id]=!0,Qc},{}))}),t.scene.getElements())})}}}})},g.prototype.handlePointerMoveOverScrollbars=function(h,t){return t.scrollbars.isOverHorizontal?(h=h.clientX,this.setState({scrollX:this.state.scrollX-(h-t.lastCoords.x)/this.state.zoom.value}),t.lastCoords.x=h,!0):t.scrollbars.isOverVertical?(h=h.clientY,this.setState({scrollY:this.state.scrollY-(h-t.lastCoords.y)/this.state.zoom.value}),t.lastCoords.y=h,!0):!1},g.prototype.onPointerUpFromPointerDownHandler=
function(h){var t=this;return Ke(function(D){var L=t.state,aa=L.draggingElement,X=L.resizingElement,ma=L.multiElement,wa=L.elementType,ra=L.elementLocked,Ua=L.isResizing;L=L.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:ma||re(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(D.clientX,D.clientY,"up"),t.state.editingLinearElement){var Xa=If.handlePointerUp(D,t.state.editingLinearElement,t.state);
Xa!==t.state.editingLinearElement&&t.setState({editingLinearElement:Xa,suggestedBindings:[]})}if(Tn=null,window.removeEventListener(tb.Ks.POINTER_MOVE,h.eventListeners.onMove),window.removeEventListener(tb.Ks.POINTER_UP,h.eventListeners.onUp),window.removeEventListener(tb.Ks.KEYDOWN,h.eventListeners.onKeyDown),window.removeEventListener(tb.Ks.KEYUP,h.eventListeners.onKeyUp),"draw"!==(null==aa?void 0:aa.type))if(hg(aa))1<aa.points.length&&ek.resumeRecording(),D=Gf(D,t.state),h.drag.hasOccurred||!aa||
ma?h.drag.hasOccurred&&!ma&&(t.state.isBindingEnabled&&Gh(aa)&&Ej(aa,t.state,t.scene,D),t.setState({suggestedBindings:[],startBoundElement:null}),ra||"draw"===wa?t.setState(function(rb){var Ub;return{draggingElement:null,selectedElementIds:Ca(Ca({},rb.selectedElementIds),{},(Ub={},Ub[t.state.draggingElement.id]=!0,Ub))}}):(Hh(t.canvas),t.setState(function(rb){var Ub;return{draggingElement:null,elementType:"selection",selectedElementIds:Ca(Ca({},rb.selectedElementIds),{},(Ub={},Ub[t.state.draggingElement.id]=
!0,Ub))}}))):(ld(aa,{points:Pg(Pg([],aa.points),[[D.x-aa.x,D.y-aa.y]])}),t.setState({multiElement:aa,editingElement:t.state.draggingElement}));else{if("selection"!==wa&&aa&&Ih(aa))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});aa&&ld(aa,dj(aa));X&&ek.resumeRecording();X&&Ih(X)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter(function(rb){return rb.id!==X.id}));var Ya=h.hit.element;if(Ya&&!h.drag.hasOccurred&&
!h.hit.wasAddedToSelection)if(D.shiftKey)if(t.state.selectedElementIds[Ya.id])if(null!=xi(t.state,Ya)){var ub=Ya.groupIds.flatMap(function(rb){return oe(t.scene.getElements(),rb)}).map(function(rb){var Ub;return(Ub={})[rb.id]=!1,Ub}).reduce(function(rb,Ub){return Ca(Ca({},rb),Ub)},{});t.setState(function(rb){return{selectedGroupIds:Ca(Ca({},rb.selectedElementIds),Ya.groupIds.map(function(Ub){var Ac;return(Ac={})[Ub]=!1,Ac}).reduce(function(Ub,Ac){return Ca(Ca({},Ub),Ac)},{})),selectedElementIds:Ca(Ca({},
rb.selectedElementIds),ub)}})}else t.setState(function(rb){var Ub;return{selectedElementIds:Ca(Ca({},rb.selectedElementIds),{},(Ub={},Ub[Ya.id]=!1,Ub))}});else t.setState(function(rb){var Ub;return{selectedElementIds:Ca(Ca({},rb.selectedElementIds),{},(Ub={},Ub[Ya.id]=!0,Ub))}});else t.setState(function(rb){var Ub;return Ca({},Yj(Ca(Ca({},rb),{},{selectedElementIds:(Ub={},Ub[Ya.id]=!0,Ub)}),t.scene.getElements()))});t.state.editingLinearElement||h.drag.hasOccurred||t.state.isResizing||!(Ya&&Nk(Ya,
t.state,h.origin.x,h.origin.y)||!Ya&&h.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!ra&&"draw"!==wa&&aa&&t.setState(function(rb){var Ub;return{selectedElementIds:Ca(Ca({},rb.selectedElementIds),{},(Ub={},Ub[aa.id]=!0,Ub))}}),("selection"!==wa||tg(t.scene.getElements(),t.state))&&ek.resumeRecording(),(h.drag.hasOccurred||Ua||L)&&(t.state.isBindingEnabled?Xf:nh)(Le(t.scene.getElements(),t.state)),ra||"draw"===wa?t.setState({draggingElement:null,suggestedBindings:[]}):(Hh(t.canvas),t.setState({draggingElement:null,
suggestedBindings:[],elementType:"selection"}))):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else t.actionManager.executeAction(zf)})},g.prototype.maybeSuggestBindingForAll=function(h){var t;h=(t=new Set(h.map(function(D){return D.id})),h.flatMap(function(D){return Gh(D)?Wm(D).filter(function(L){return!t.has(L.id)}):Mf(D)?wh(D).filter(function(L){return!t.has(L[0].id)}):[]}));this.setState({suggestedBindings:h})},g.prototype.clearSelection=function(h){this.setState(function(t){return{selectedElementIds:{},
selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=h&&h.groupIds.includes(t.editingGroupId)?t.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},g.prototype.getTextWysiwygSnappedToCenterPosition=function(h,t,D,L,aa){if(aa=function(X,ma,wa){for(var ra=null,Ua=X.length-1;0<=Ua;--Ua)if(!X[Ua].isDeleted){var Xa=ff(X[Ua]),Ya=Xa[1],ub=Xa[2],rb=Xa[3];if(Xa[0]<ma&&ma<ub&&Ya<wa&&wa<rb){ra=X[Ua];break}}return ra}(this.scene.getElementsIncludingDeleted().filter(function(X){return!re(X)}),
h,t))if(L=aa.x+aa.width/2,aa=aa.y+aa.height/2,Math.hypot(h-L,t-aa)<tb.wZ)return h=ag({sceneX:L,sceneY:aa},D),{viewportX:h.x,viewportY:h.y,elementCenterX:L,elementCenterY:aa}},g.prototype.getCanvasOffsets=function(h){var t,D;return"number"==typeof(null==h?void 0:h.offsetLeft)&&"number"==typeof(null==h?void 0:h.offsetTop)?{offsetLeft:h.offsetLeft,offsetTop:h.offsetTop}:null!==(t=this.excalidrawContainerRef)&&void 0!==t&&null!==(D=t.current)&&void 0!==D&&D.parentElement?(D=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),
t=D.left,D=D.top,{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:t,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:D}):{offsetLeft:"number"==typeof(null==h?void 0:h.offsetLeft)?h.offsetLeft:0,offsetTop:"number"==typeof(null==h?void 0:h.offsetTop)?h.offsetTop:0}},g.prototype.updateLanguage=function(){var h=this;return jc()(function(){var t;return Co(this,function(D){switch(D.label){case 0:return t=Cd.find(function(L){return L.code===h.props.langCode})||bf,
[4,Ce(t)];case 1:return D.sent(),h.setAppState({}),[2]}})})()},g}(na().Component);Nr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Ht=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=na().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Ke(function(g){if(!d.unmounted&&!1!==g){var h=null;if(g.elements&&
(g.elements.forEach(function(wa){var ra;(null===(ra=d.state.editingElement)||void 0===ra?void 0:ra.id)===wa.id&&d.state.editingElement!==wa&&!wa.isDeleted&&(h=wa)}),d.scene.replaceAllElements(g.elements),g.commitToHistory&&ek.resumeRecording()),g.appState||h){var t,D,L;g.commitToHistory&&ek.resumeRecording();var aa=(null==g||null===(t=g.appState)||void 0===t?void 0:t.viewModeEnabled)||!1,X=(null==g||null===(D=g.appState)||void 0===D?void 0:D.zenModeEnabled)||!1,ma=(null==g||null===(L=g.appState)||
void 0===L?void 0:L.gridSize)||null;void 0!==d.props.viewModeEnabled&&(aa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(X=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(ma=d.props.gridModeEnabled?tb.k:null);d.setState(function(wa){var ra;return Object.assign(g.appState||{},{editingElement:h||(null===(ra=g.appState)||void 0===ra?void 0:ra.editingElement)||null,width:wa.width,height:wa.height,offsetTop:wa.offsetTop,offsetLeft:wa.offsetLeft,viewModeEnabled:aa,zenModeEnabled:X,
gridSize:ma})},function(){g.syncHistory&&ek.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Ke(function(){Do=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(g){g.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(g){re(g)&&ji.delete(g)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var g=jc()(function(h){var t,D,L,aa,X;return Co(this,function(ma){switch(ma.label){case 0:window.history.replaceState({},
tb.iC,window.location.origin),ma.label=1;case 1:return ma.trys.push([1,7,,8]),[4,fetch(h)];case 2:return[4,ma.sent().blob()];case 3:return t=ma.sent(),aa=(L=JSON).parse,[4,t.text()];case 4:ma=D=aa.apply(L,[ma.sent()]);if("object"!=typeof ma||!ma||"excalidrawlib"!==ma.type||1!==ma.version)throw Error();return window.confirm(qb("alerts.confirmAddLibrary",{numShapes:D.library.length}))?[4,Yg.importLibrary(t)]:[3,6];case 5:ma.sent(),d.setState({isLibraryOpen:!0}),ma.label=6;case 6:return[3,8];case 7:return X=
ma.sent(),window.alert(qb("alerts.errorLoadingLibrary")),console.error(X),[3,8];case 8:return[2]}})});return function(h){return g.apply(this,arguments)}}();this.resetHistory=function(){ek.clear()};this.resetScene=Ke(function(g){d.scene.replaceAllElements([]);d.setState(function(h){return Ca(Ca({},kh()),{},{isLoading:(null==g||!g.resetLoadingState)&&h.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=jc()(function(){var g,h,t,D,L;return Co(this,function(aa){switch(aa.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var X=jc()(function(ma){var wa,ra;return Co(this,function(Ua){switch(Ua.label){case 0:return ma.files.length?[4,(wa=ma.files[0]).getFile()]:[2];case 1:return(ra=Ua.sent()).handle=wa,Cm(ra,d.state).then(function(Xa){return d.syncActionResult({elements:Xa.elements,appState:Ca(Ca({},Xa.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Xa){d.setState({isLoading:!1,errorMessage:Xa.message})}),[2]}})});
return function(ma){return X.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),h=null,aa.label=1;case 1:return aa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return h=aa.sent()||null,[3,4];case 3:return t=aa.sent(),console.error(t),[3,4];case 4:return(D=Zm(h,null)).appState=Ca(Ca({},D.appState),{},{isLoading:!1}),null!==(g=h)&&void 0!==g&&g.scrollToCenter&&(D.appState=Ca(Ca({},D.appState),ci(D.elements,Ca(Ca({},D.appState),{},{width:d.state.width,height:d.state.height,
offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Ca(Ca({},D),{},{commitToHistory:!0})),(L=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(L)]:[3,6];case 5:aa.sent(),aa.label=6;case 6:return[2]}})});this.onResize=Ke(function(){d.scene.getElementsIncludingDeleted().forEach(function(g){return ji.delete(g)});d.setState({})});this.onScroll=$i(function(){var g=d.getCanvasOffsets(),h=g.offsetTop,t=g.offsetLeft;d.setState(function(D){return D.offsetLeft===
t&&D.offsetTop===h?null:{offsetTop:h,offsetLeft:t}})},tb.HM);this.onCut=Ke(function(g){qh(g.target)||(d.cutAll(),g.preventDefault())});this.onCopy=Ke(function(g){var h=document.getSelection();null!=h&&h.anchorNode&&!d.excalidrawContainerRef.current.contains(h.anchorNode)||qh(g.target)||(d.copyAll(),g.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(zl)};this.copyAll=function(){rk(d.scene.getElements(),d.state)};this.onTapStart=function(g){if(!$p)return $p=!0,clearTimeout(Pr),
void(Pr=window.setTimeout(Nr.resetTapTwice,tb.Gj));if($p&&1===g.touches.length){var h=g.touches[0];d.handleCanvasDoubleClick({clientX:h.clientX,clientY:h.clientY});$p=!1;clearTimeout(Pr)}g.preventDefault();2===g.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(g){g.preventDefault();0<g.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=Ke(function(){var g=jc()(function(h){var t,D,L;return Co(this,
function(aa){switch(aa.label){case 0:return t=document.activeElement,D=document.elementFromPoint(qp,rp),!h||D instanceof HTMLCanvasElement&&!qh(t)?[4,Na(h)]:[2];case 1:return(L=aa.sent()).errorMessage?d.setState({errorMessage:L.errorMessage}):L.spreadsheet?d.setState({pasteDialog:{data:L.spreadsheet,shown:!0}}):L.elements?d.addElementsFromPasteOrLibrary(L.elements):L.text&&d.addTextFromPaste(L.text),d.selectShapeTool("selection"),null==h||h.preventDefault(),[2]}})});return function(h){return g.apply(this,
arguments)}}());this.addElementsFromPasteOrLibrary=function(g,h,t){void 0===h&&(h=qp);void 0===t&&(t=rp);var D=Ff(g),L=D[0],aa=D[1],X=Math.abs(L-D[2])/2;D=Math.abs(aa-D[3])/2;h=Gf({clientX:h,clientY:t},d.state);X=h.x-X;D=h.y-D;var ma=new Map;X=jh(X,D,d.state.gridSize);var wa=X[0],ra=X[1],Ua=new Map;X=g.map(function(Xa){var Ya=Ji(d.state.editingGroupId,ma,Xa,{x:Xa.x+wa-L,y:Xa.y+ra-aa});return Ua.set(Xa.id,Ya.id),Ya});D=Pg(Pg([],d.scene.getElementsIncludingDeleted()),X);bl(D,g,Ua);d.scene.replaceAllElements(D);
ek.resumeRecording();d.setState(Yj(Ca(Ca({},d.state),{},{isLibraryOpen:!1,selectedElementIds:X.reduce(function(Xa,Ya){return Xa[Ya.id]=!0,Xa},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(g){d.setState(g)};this.removePointer=function(g){"touch"===g.pointerType&&bo&&(clearTimeout(bo),bo=0,Yp=!1);il.delete(g.pointerId)};this.toggleLock=function(){d.setState(function(g){return{elementLocked:!g.elementLocked,elementType:g.elementLocked?"selection":g.elementType}})};this.toggleZenMode=
function(){d.actionManager.executeAction(Gd)};this.toggleStats=function(){d.state.showStats||Tg("dialog","stats");d.actionManager.executeAction(Nn)};this.setScrollToCenter=function(g){d.setState(Ca({},ci(vd(g),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Ke(function(g){var h;g.commitToHistory&&ek.resumeRecording();null!==(h=g.appState)&&void 0!==h&&h.viewBackgroundColor&&d.setState({viewBackgroundColor:g.appState.viewBackgroundColor});g.elements&&
d.scene.replaceAllElements(g.elements);g.collaborators&&d.setState({collaborators:g.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Ke(function(g){qp=g.x;rp=g.y});this.onKeyDown=Ke(function(g){var h;if(!(("Proxy"in window&&(!g.shiftKey&&/^[A-Z]$/.test(g.key)||g.shiftKey&&/^[a-z]$/.test(g.key))&&(g=new Proxy(g,{get:function(aa,X){var ma=aa[X];return"function"==typeof ma?ma.bind(aa):"key"===X?g.shiftKey?aa.key.toUpperCase():aa.key.toLowerCase():ma}})),
qh(g.target)&&"Escape"!==g.key||Th(g.key)&&(h=g.target,h instanceof HTMLElement&&"wysiwyg"===h.dataset.type||h instanceof HTMLBRElement||h instanceof HTMLInputElement||h instanceof HTMLTextAreaElement||h instanceof HTMLSelectElement))||("?"===g.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(g)||d.state.viewModeEnabled))){if(g[ce]&&d.setState({isBindingEnabled:!1}),"Digit9"===g.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),Th(g.key)){h=d.state.gridSize&&(g.shiftKey?tb.$e:
d.state.gridSize)||(g.shiftKey?tb.Iw:tb.$e);var t=d.scene.getElements().filter(function(aa){return d.state.selectedElementIds[aa.id]}),D=0,L=0;"ArrowLeft"===g.key?D=-h:"ArrowRight"===g.key?D=h:"ArrowUp"===g.key?L=-h:"ArrowDown"===g.key&&(L=h);t.forEach(function(aa){ld(aa,{x:aa.x+D,y:aa.y+L});Lh(aa,{simultaneouslyUpdated:t})});d.maybeSuggestBindingForAll(t);g.preventDefault()}else if("Enter"===g.key)if(h=Le(d.scene.getElements(),d.state),1===h.length&&hg(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===
h[0].id||(ek.resumeRecording(),d.setState({editingLinearElement:new If(h[0],d.scene)}));else{if(1===h.length&&!hg(h[0]))return h=h[0],d.startTextEditing({sceneX:h.x+h.width/2,sceneY:h.y+h.height/2}),void g.preventDefault()}else g.ctrlKey||g.altKey||g.metaKey||null!==d.state.draggingElement||((h=function(aa){var X=hm.find(function(ma,wa){return aa===(wa+1).toString()||("string"==typeof ma.key?ma.key===aa:ma.key.includes(aa))});return(null==X?void 0:X.value)||null}(g.key))?d.selectShapeTool(h):"q"===
g.key&&d.toggleLock());" "===g.key&&0===il.size&&(Do=!0,ii(d.canvas,tb.oc.GRABBING))}});this.onKeyUp=Ke(function(g){if(" "===g.key&&("selection"===d.state.elementType?Hh(d.canvas):(uf(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Do=!1),g[ce]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),Th(g.key))g=Le(d.scene.getElements(),d.state),d.state.isBindingEnabled?Xf(g):nh(g),d.setState({suggestedBindings:[]})});this.onGestureStart=
Ke(function(g){g.preventDefault();d.setState({selectedElementIds:{}});pp=d.state.zoom.value});this.onGestureChange=Ke(function(g){if(g.preventDefault(),2!==il.size){var h=pp;h&&d.setState(function(t){var D=t.zoom,L=t.offsetLeft;t=t.offsetTop;return{zoom:fh(Ij(h*g.scale),D,{left:L,top:t},{x:qp,y:rp})}})}});this.onGestureEnd=Ke(function(g){g.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});pp=null});this.startTextEditing=function(g){var h=
g.sceneX,t=g.sceneY;g=g.insertAtParentCenter;var D=void 0===g||g;g=d.getTextElementAtPosition(h,t);D=D&&d.getTextWysiwygSnappedToCenterPosition(h,t,d.state,d.canvas,window.devicePixelRatio);h=g||ak({x:D?D.elementCenterX:h,y:D?D.elementCenterY:t,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,
opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:D?"center":d.state.currentItemTextAlign,verticalAlign:D?"middle":tb.hs});d.setState({editingElement:h});g?D&&"center"===h.textAlign||ld(h,{verticalAlign:tb.hs}):(d.scene.replaceAllElements(Pg(Pg([],d.scene.getElementsIncludingDeleted()),[h])),D||ld(h,{y:h.y-h.baseline/2}));d.setState({editingElement:h});d.handleTextWysiwyg(h,
{isExistingElement:!!g})};this.handleCanvasDoubleClick=function(g){if(!d.state.multiElement&&"selection"===d.state.elementType){var h=Le(d.scene.getElements(),d.state);if(1===h.length&&hg(h[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===h[0].id||(ek.resumeRecording(),d.setState({editingLinearElement:new If(h[0],d.scene)}));else{Hh(d.canvas);var t=Gf(g,d.state);h=t.x;t=t.y;if(0<Ri(d.state).length){var D=d.getElementAtPosition(h,t),L=D&&function(aa,X){return aa.groupIds.find(function(ma){return X[ma]})}(D,
d.state.selectedGroupIds);if(L)return void d.setState(function(aa){var X;return Yj(Ca(Ca({},aa),{},{editingGroupId:L,selectedElementIds:(X={},X[D.id]=!0,X),selectedGroupIds:{}}),d.scene.getElements())})}Hh(d.canvas);g[ce]||d.startTextEditing({sceneX:h,sceneY:t,insertAtParentCenter:!g.altKey})}}};this.handleCanvasPointerMove=function(g){d.savePointer(g.clientX,g.clientY,d.state.cursorButton);il.has(g.pointerId)&&il.set(g.pointerId,{x:g.clientX,y:g.clientY});var h=pp;if(2===il.size&&sp&&h&&Wq){var t=
Jm(il),D=t.x-sp.x,L=t.y-sp.y;sp=t;var aa=Pn(Array.from(il.values()))/Wq;d.setState(function(ub){var rb=ub.zoom,Ub=ub.offsetLeft,Ac=ub.offsetTop;return{scrollX:ub.scrollX+D/rb.value,scrollY:ub.scrollY+L/rb.value,zoom:fh(Ij(h*aa),rb,{left:Ub,top:Ac},t),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else sp=Wq=pp=null;if(!(Do||Zp||Or)){var X=pl(Qr,g.clientX-d.state.offsetLeft,g.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(X?Hh(d.canvas):
uf(d.canvas,d.state.elementType));var ma=Gf(g,d.state),wa=ma.x,ra=ma.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var Ua=If.handlePointerMove(g,wa,ra,d.state.editingLinearElement,d.state.gridSize);Ua!==d.state.editingLinearElement&&d.setState({editingLinearElement:Ua});null!=Ua.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(ma):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(Ua=d.state.draggingElement,Gh(Ua)?d.maybeSuggestBindingForLinearElementAtCursor(Ua,
"end",ma,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(ma));if(d.state.multiElement){X=d.state.multiElement;ma=X.x;Ua=X.y;g=X.points;var Xa=X.lastCommittedPoint,Ya=g[g.length-1];return uf(d.canvas,d.state.elementType),void(Ya===Xa?Math.hypot(Ya[0]-(wa-ma),Ya[1]-(ra-Ua))>=tb.qx?ld(X,{points:Pg(Pg([],g),[[wa-ma,ra-Ua]])}):ii(d.canvas,tb.oc.POINTER):2<g.length&&Xa&&Math.hypot(Xa[0]-(wa-ma),Xa[1]-(ra-Ua))<tb.qx?(ii(d.canvas,tb.oc.POINTER),ld(X,{points:g.slice(0,-1)})):(Gi(g,d.state.zoom.value)&&
ii(d.canvas,tb.oc.POINTER),ld(X,{points:Pg(Pg([],g.slice(0,-1)),[[wa-ma,ra-Ua]])})))}if(!(g.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){Xa=d.scene.getElements();Ua=Le(Xa,d.state);if(1!==Ua.length||X||d.state.editingLinearElement){if(1<Ua.length&&!X&&(wa=hj(Ff(Ua),wa,ra,d.state.zoom,g.pointerType)))return void ii(d.canvas,Dg({transformHandleType:wa}))}else if((wa=Rl(Xa,d.state,wa,ra,d.state.zoom,g.pointerType))&&wa.transformHandleType)return void ii(d.canvas,Dg(wa));
wa=d.getElementAtPosition(ma.x,ma.y);"text"===d.state.elementType?ii(d.canvas,re(wa)?tb.oc.TEXT:tb.oc.CROSSHAIR):X?ii(d.canvas,tb.oc.AUTO):wa||d.isHittingCommonBoundingBoxOfSelectedElements(ma,Ua)?ii(d.canvas,tb.oc.MOVE):ii(d.canvas,tb.oc.AUTO)}}};this.handleTouchMove=function(g){Yp=!0};this.handleCanvasPointerDown=function(g){if(g.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(g),d.maybeCleanupAfterMissingPointerUp(g),!(Zp||(d.setState({lastPointerDownWith:g.pointerType,cursorButton:"down"}),
d.savePointer(g.clientX,g.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(g)||g.button!==tb.Oh.MAIN&&g.button!==tb.Oh.TOUCH||(d.updateGestureOnPointerDown(g),g.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<il.size)))){var h=d.initialPointerDownState(g);if(!d.handleDraggingScrollBar(g,h)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(g),!d.handleSelectionOnPointerDown(g,h)))if("text"!==d.state.elementType){"arrow"===
d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(g,d.state.elementType,h):d.createGenericElementOnPointerDown(d.state.elementType,h);g=d.onPointerMoveFromPointerDownHandler(h);var t=d.onPointerUpFromPointerDownHandler(h),D=d.onKeyDownFromPointerDownHandler(h),L=d.onKeyUpFromPointerDownHandler(h);Tn=t;d.state.viewModeEnabled||(window.addEventListener(tb.Ks.POINTER_MOVE,g),window.addEventListener(tb.Ks.POINTER_UP,t),window.addEventListener(tb.Ks.KEYDOWN,
D),window.addEventListener(tb.Ks.KEYUP,L),h.eventListeners.onMove=g,h.eventListeners.onUp=t,h.eventListeners.onKeyUp=L,h.eventListeners.onKeyDown=D)}else d.handleTextOnPointerDown(g,h)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(g){"touch"===g.pointerType&&(Yp=!1,bo?Yp=!0:bo=window.setTimeout(function(){bo=0;Yp||d.openContextMenu({clientX:g.clientX,clientY:g.clientY})},tb.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(g){if(0!==il.size||!(g.button===tb.Oh.WHEEL||g.button===
tb.Oh.MAIN&&Do||d.state.viewModeEnabled))return!1;Zp=!0;var h=!1,t=/Linux/.test(window.navigator.platform);ii(d.canvas,tb.oc.GRABBING);var D=g.clientX,L=g.clientY,aa=Ke(function(ma){var wa=D-ma.clientX,ra=L-ma.clientY;if(D=ma.clientX,L=ma.clientY,t&&!h&&(1<Math.abs(wa)||1<Math.abs(ra))){h=!0;var Ua=function(Ya){document.body.removeEventListener(tb.Ks.PASTE,Ua);Ya.stopPropagation()},Xa=function(){setTimeout(function(){document.body.removeEventListener(tb.Ks.PASTE,Ua);window.removeEventListener(tb.Ks.POINTER_UP,
Xa)},100)};document.body.addEventListener(tb.Ks.PASTE,Ua);window.addEventListener(tb.Ks.POINTER_UP,Xa)}d.setState({scrollX:d.state.scrollX-wa/d.state.zoom.value,scrollY:d.state.scrollY-ra/d.state.zoom.value})}),X=Ke(Tn=function(){Tn=null;Zp=!1;Do||uf(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(g.clientX,g.clientY,"up");window.removeEventListener(tb.Ks.POINTER_MOVE,aa);window.removeEventListener(tb.Ks.POINTER_UP,X);window.removeEventListener(tb.Ks.BLUR,X)});return window.addEventListener(tb.Ks.BLUR,
X),window.addEventListener(tb.Ks.POINTER_MOVE,aa,{passive:!0}),window.addEventListener(tb.Ks.POINTER_UP,X),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(g,h){if("selection"===d.state.elementType){var t=d.scene.getElements(),D=Le(t,d.state);1!==D.length||d.state.editingLinearElement?1<D.length&&(h.resize.handleType=hj(Ff(D),h.origin.x,h.origin.y,
d.state.zoom,g.pointerType)):(t=Rl(t,d.state,h.origin.x,h.origin.y,d.state.zoom,g.pointerType),null!=t&&(d.setState({resizingElement:t.element}),h.resize.handleType=t.transformHandleType));if(h.resize.handleType)ii(d.canvas,Dg({transformHandleType:h.resize.handleType})),h.resize.isResizing=!0,h.resize.offset=bj(function(Xa,Ya,ub,rb){var Ub,Ac=1===Ya.length?ff(Ya[0]):Ff(Ya),Fc=Ac[0],Qc=Ac[1],Rd=Ac[2];Ac=Ac[3];Ya=1===Ya.length?Ya[0].angle:0;switch(ub=(Ub=Fe(ub,rb,(Fc+Rd)/2,(Qc+Ac)/2,-Ya))[0],rb=Ub[1],
Xa){case "n":return Fe(ub-(Fc+Rd)/2,rb-Qc,0,0,Ya);case "s":return Fe(ub-(Fc+Rd)/2,rb-Ac,0,0,Ya);case "w":return Fe(ub-Fc,rb-(Qc+Ac)/2,0,0,Ya);case "e":return Fe(ub-Rd,rb-(Qc+Ac)/2,0,0,Ya);case "nw":return Fe(ub-Fc,rb-Qc,0,0,Ya);case "ne":return Fe(ub-Rd,rb-Qc,0,0,Ya);case "sw":return Fe(ub-Fc,rb-Ac,0,0,Ya);case "se":return Fe(ub-Rd,rb-Ac,0,0,Ya);default:return[0,0]}}(h.resize.handleType,D,h.origin.x,h.origin.y)),1===D.length&&hg(D[0])&&2===D[0].points.length&&(h.resize.arrowDirection=(X=h.resize.handleType,
ma=D[0],wa=ma.points[1],ra=wa[0],Ua=wa[1],"nw"===X&&(0>ra||0>Ua)||"ne"===X&&0<=ra||"sw"===X&&0>=ra||"se"===X&&(0<ra||0<Ua)?"end":"origin"));else{var L;if(d.state.editingLinearElement&&(D=If.handlePointerDown(g,d.state,function(Xa){return d.setState(Xa)},ek,h.origin),D.hitElement&&(h.hit.element=D.hitElement),D.didAddPoint))return!0;h.hit.element=null!==(L=h.hit.element)&&void 0!==L?L:d.getElementAtPosition(h.origin.x,h.origin.y);h.hit.allHitElements=d.getElementsAtPosition(h.origin.x,h.origin.y);
var aa=h.hit.element;L=h.hit.allHitElements.some(function(Xa){return d.isASelectedElement(Xa)});if(null!==aa&&L||g.shiftKey||h.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(aa),null!=aa){if(g[ce])return d.setState(function(Xa){var Ya;Xa=Pa(Pa({},Xa),{},{editingGroupId:aa.groupIds.length?aa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(Ya={},Ya[aa.id]=!0,Ya)});return Ca(Ca({},Xa),{},{previousSelectedElementIds:d.state.selectedElementIds})}),!1;d.state.selectedElementIds[aa.id]||
(d.state.editingGroupId&&!aa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),L||h.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(Xa){var Ya;return Yj(Ca(Ca({},Xa),{},{selectedElementIds:Ca(Ca({},Xa.selectedElementIds),{},(Ya={},Ya[aa.id]=!0,Ya))}),d.scene.getElements())}),h.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var X,ma,wa,ra,Ua;return!1};this.handleTextOnPointerDown=
function(g,h){var t;"text"!==(null===(t=d.state.editingElement)||void 0===t?void 0:t.type)&&(d.startTextEditing({sceneX:h.origin.x,sceneY:h.origin.y,insertAtParentCenter:!g.altKey}),Hh(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(g,h,t){if(d.state.multiElement){var D=d.state.multiElement;if("line"===D.type&&Gi(D.points,d.state.zoom.value))return ld(D,{lastCommittedPoint:D.points[D.points.length-1]}),void d.actionManager.executeAction(zf);
h=D.x;g=D.y;var L=D.lastCommittedPoint;if(1<D.points.length&&L&&Math.hypot(L[0]-(t.origin.x-h),L[1]-(t.origin.y-g))<tb.qx)return void d.actionManager.executeAction(zf);d.setState(function(ma){var wa;return{selectedElementIds:Ca(Ca({},ma.selectedElementIds),{},(wa={},wa[D.id]=!0,wa))}});ld(D,{lastCommittedPoint:D.points[D.points.length-1]});ii(d.canvas,tb.oc.POINTER)}else{g=jh(t.origin.x,t.origin.y,"draw"===h?null:d.state.gridSize);var aa=d.state;L=aa.currentItemStartArrowhead;aa=aa.currentItemEndArrowhead;
L="arrow"===h?[L,aa]:[null,null];var X=Ii({type:h,x:g[0],y:g[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:L[0],endArrowhead:L[1]});d.setState(function(ma){var wa;return{selectedElementIds:Ca(Ca({},
ma.selectedElementIds),{},(wa={},wa[X.id]=!1,wa))}});ld(X,{points:Pg(Pg([],X.points),[[0,0]])});t=eh(t.origin,d.scene);d.scene.replaceAllElements(Pg(Pg([],d.scene.getElementsIncludingDeleted()),[X]));d.setState({draggingElement:X,editingElement:X,startBoundElement:t,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(g,h){h=jh(h.origin.x,h.origin.y,d.state.gridSize);g=Ol({type:g,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,
fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===g.type?d.setState({selectionElement:g,draggingElement:g}):(d.scene.replaceAllElements(Pg(Pg([],d.scene.getElementsIncludingDeleted()),[g])),d.setState({multiElement:null,draggingElement:g,editingElement:g}))};this.updateBindingEnabledOnPointerMove=
function(g){g=!g[ce];d.state.isBindingEnabled!==g&&d.setState({isBindingEnabled:g})};this.maybeSuggestBindingAtCursor=function(g){g=eh(g,d.scene);d.setState({suggestedBindings:null!=g?[g]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(g,h,t,D){h=eh(t,d.scene);d.setState({suggestedBindings:null==h||(null==D?void 0:D.id)===h.id&&3>g.points.length?[]:[h]})};this.handleCanvasRef=function(g){var h,t,D;null!==g?(d.canvas=g,d.rc=Di.canvas(d.canvas),d.canvas.addEventListener(tb.Ks.WHEEL,
d.handleWheel,{passive:!1}),d.canvas.addEventListener(tb.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(tb.Ks.TOUCH_END,d.onTapEnd)):(null===(h=d.canvas)||void 0===h||h.removeEventListener(tb.Ks.WHEEL,d.handleWheel),null===(t=d.canvas)||void 0===t||t.removeEventListener(tb.Ks.TOUCH_START,d.onTapStart),null===(D=d.canvas)||void 0===D||D.removeEventListener(tb.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var g=jc()(function(h){var t,D,L,aa,X,ma,wa,ra,Ua,Xa,Ya;return Co(this,
function(ub){switch(ub.label){case 0:return ub.trys.push([0,3,,4]),"image/png"!==(null==(D=h.dataTransfer.files[0])?void 0:D.type)&&"image/svg+xml"!==(null==D?void 0:D.type)?[3,2]:[4,Cm(D,d.state)];case 1:return L=ub.sent(),aa=L.elements,X=L.appState,d.syncActionResult({elements:aa,appState:Ca(Ca({},X||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return ma=ub.sent(),[2,d.setState({isLoading:!1,errorMessage:ma.message})];case 4:if(""!==(wa=h.dataTransfer.getData(tb.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(wa),
h.clientX,h.clientY),[2];if(!("application/json"===(null==(ra=null===(t=h.dataTransfer)||void 0===t?void 0:t.files[0])?void 0:ra.type)||null!=ra&&ra.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];ub.label=5;case 5:return ub.trys.push([5,7,,8]),Ua=h.dataTransfer.items[0],Xa=ra,[4,Ua.getAsFileSystemHandle()];case 6:return Xa.handle=ub.sent(),[3,8];case 7:return Ya=ub.sent(),console.warn(Ya.name,
Ya.message),[3,8];case 8:return Cm(ra,d.state).then(function(rb){return d.syncActionResult({elements:rb.elements,appState:Ca(Ca({},rb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(rb){d.setState({isLoading:!1,errorMessage:rb.message})}),[3,10];case 9:(null==ra?void 0:ra.type)===tb.LO.excalidrawlib||null!=ra&&ra.name.endsWith(".excalidrawlib")?Yg.importLibrary(ra).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(rb){return d.setState({isLoading:!1,errorMessage:rb.message})}):
d.setState({isLoading:!1,errorMessage:qb("alerts.couldNotLoadInvalidFile")}),ub.label=10;case 10:return[2]}})});return function(h){return g.apply(this,arguments)}}();this.handleCanvasContextMenu=function(g){g.preventDefault();d.openContextMenu(g)};this.maybeDragNewGenericElement=function(g,h){var t=d.state.draggingElement,D=g.lastCoords;if(t)if("selection"===t.type)Ah(t,d.state.elementType,g.origin.x,g.origin.y,D.x,D.y,Math.abs(g.origin.x-D.x),Math.abs(g.origin.y-D.y),h.shiftKey,h.altKey);else{var L=
jh(D.x,D.y,d.state.gridSize);D=L[0];L=L[1];Ah(t,d.state.elementType,g.originInGrid.x,g.originInGrid.y,D,L,Math.abs(g.originInGrid.x-D),Math.abs(g.originInGrid.y-L),h.shiftKey,h.altKey);d.maybeSuggestBindingForAll([t])}};this.maybeHandleResize=function(g,h){var t=Le(d.scene.getElements(),d.state),D=g.resize.handleType;d.setState({isResizing:D&&"rotation"!==D,isRotating:"rotation"===D});var L=g.lastCoords;L=jh(L.x-g.resize.offset.x,L.y-g.resize.offset.y,d.state.gridSize);a:{var aa=g.resize.arrowDirection,
X=h.shiftKey,ma=h.altKey;h=h.shiftKey;var wa=L[0],ra=L[1];L=g.resize.center.x;var Ua=g.resize.center.y;if(1===t.length){L=t[0];if("rotation"===D)D=ff(L),D=5*Math.PI/2+Math.atan2(ra-(D[1]+D[3])/2,wa-(D[0]+D[2])/2),X&&(D+=tb.ay/2,D-=D%tb.ay),D=We(D),ld(L,{angle:D}),Lh(L);else if(!hg(L)||2!==L.points.length||"nw"!==D&&"ne"!==D&&"sw"!==D&&"se"!==D)if(!re(L)||"nw"!==D&&"ne"!==D&&"sw"!==D&&"se"!==D){if(D){aa=g.originalElements.get(L.id);var Xa=Xg(aa,aa.width,aa.height);X=[Xa[0],Xa[1]];g=[Xa[2],Xa[3]];Xa=
[(X[0]+g[0])/2,(X[1]+g[1])/2];Ua=Fi([wa,ra],Xa,-aa.angle);wa=Xg(L,L.width,L.height);var Ya=wa[2]-wa[0],ub=wa[3]-wa[1];wa=(g[0]-X[0])/Ya;ra=(g[1]-X[1])/ub;D.includes("e")&&(wa=(Ua[0]-X[0])/Ya);D.includes("s")&&(ra=(Ua[1]-X[1])/ub);D.includes("w")&&(wa=(g[0]-Ua[0])/Ya);D.includes("n")&&(ra=(g[1]-Ua[1])/ub);Ua=aa.width;Ya=aa.height;wa*=L.width;ra*=L.height;if(ma&&(wa=2*wa-Ua,ra=2*ra-Ya),h){ub=Math.abs(wa)/Ua;var rb=Math.abs(ra)/Ya;if(1===D.length&&(ra*=ub,wa*=rb),2===D.length)ub=Math.max(ub,rb),wa=Ua*
ub*Math.sign(wa),ra=Ya*ub*Math.sign(ra)}rb=Xg(aa,wa,ra);Ua=rb[0];Ya=rb[1];ub=rb[2]-Ua;rb=rb[3]-Ya;var Ub=oj([],X);if(["n","w","nw"].includes(D)&&(Ub=[g[0]-Math.abs(ub),g[1]-Math.abs(rb)]),"ne"===D)Ub=[X[0],g[1]],Ub=[Ub[0],Ub[1]-Math.abs(rb)];"sw"===D&&(X=[g[0],X[1]],Ub=[X[0]-Math.abs(ub),X[1]]);h&&(["s","n"].includes(D)&&(Ub[0]=Xa[0]-ub/2),["e","w"].includes(D)&&(Ub[1]=Xa[1]-rb/2));0>wa&&(D.includes("e")&&(Ub[0]-=Math.abs(ub)),D.includes("w")&&(Ub[0]+=Math.abs(ub)));0>ra&&(D.includes("s")&&(Ub[1]-=
Math.abs(rb)),D.includes("n")&&(Ub[1]+=Math.abs(rb)));ma&&(Ub[0]=Xa[0]-Math.abs(ub)/2,Ub[1]=Xa[1]-Math.abs(rb)/2);D=aa.angle;ma=Fi(Ub,Xa,D);h=Fi([Ub[0]+Math.abs(ub)/2,Ub[1]+Math.abs(rb)/2],Xa,D);Ub=Fi(ma,h,-D);D=Ie(aa,wa,ra);ma=oj([],Ub);ma[0]+=aa.x-Ua;ma[1]+=aa.y-Ya;D=Wb({width:Math.abs(wa),height:Math.abs(ra),x:ma[0],y:ma[1]},D);0!==D.width&&0!==D.height&&Number.isFinite(D.x)&&Number.isFinite(D.y)&&(Lh(L,{newSize:{width:D.width,height:D.height}}),ld(L,D))}}else{aa=ff(L);g=aa[0];X=aa[1];h=aa[2];
aa=aa[3];ra=Fe(wa,ra,(g+h)/2,(X+aa)/2,-L.angle);wa=ra[0];ra=ra[1];switch(D){case "se":Xa=Math.max((wa-g)/(h-g),(ra-X)/(aa-X));break;case "nw":Xa=Math.max((h-wa)/(h-g),(aa-ra)/(aa-X));break;case "ne":Xa=Math.max((wa-g)/(h-g),(aa-ra)/(aa-X));break;case "sw":Xa=Math.max((h-wa)/(h-g),(ra-X)/(aa-X))}0<Xa&&(wa=L.width*Xa,Xa*=L.height,ra=Rg(L,wa,Xa),null!==ra&&(Ua=Xg(L,wa,Xa),g=(g-Ua[0])/2,X=(X-Ua[1])/2,h=(h-Ua[2])/2,aa=(aa-Ua[3])/2,D={n:/^(n|ne|nw)$/.test(D)||ma&&/^(s|se|sw)$/.test(D),s:/^(s|se|sw)$/.test(D)||
ma&&/^(n|ne|nw)$/.test(D),w:/^(w|nw|sw)$/.test(D)||ma&&/^(e|ne|se)$/.test(D),e:/^(e|ne|se)$/.test(D)||ma&&/^(w|nw|sw)$/.test(D)},D=Rj(D,L.x,L.y,L.angle,g,X,h,aa),ld(L,{fontSize:ra.size,width:wa,height:Xa,baseline:ra.baseline,x:D[0],y:D[1]})));Lh(L)}else D=ff(L),ma=Fe(wa,ra,(D[0]+D[2])/2,(D[1]+D[3])/2,-L.angle),D=ma[0],ma=ma[1],ma="end"===aa?[D-L.x,ma-L.y]:[L.x+L.points[1][0]-D,L.y+L.points[1][1]-ma],D=ma[0],ma=ma[1],X&&(h=L.angle,D=Bg.apply(void 0,oj([L.type],Fe(D,ma,0,0,h))),ma=Fe(D.width,D.height,
0,0,-h),D=ma[0],ma=ma[1]),h=Rj("end"===aa?{s:!0,e:!0}:{n:!0,w:!0},L.x,L.y,L.angle,0,0,(L.points[1][0]-D)/2,(L.points[1][1]-ma)/2),ld(L,{x:h[0],y:h[1],points:[[0,0],[D,ma]]});L=!0}else{if(1<t.length){if("rotation"===D){L=(kk(g,t,wa,ra,X,L,Ua),!0);break a}if("nw"===D||"ne"===D||"sw"===D||"se"===D){L=(ql(t,D,wa,ra),!0);break a}}L=!1}}return!!L&&(d.maybeSuggestBindingForAll(t),!0)};this.openContextMenu=function(g){var h,t=g.clientX;g=g.clientY;var D=Gf({clientX:t,clientY:g},d.state),L=D.x,aa=D.y,X=wf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),
d.actionManager.getAppState()),ma=ki.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());D=Rf().matches;var wa=d.scene.getElements();L=d.getElementAtPosition(L,aa);aa=[];(sk&&0<wa.length&&aa.push(mp),Tj&&0<wa.length&&aa.push(np),L)?(d.state.selectedElementIds[L.id]||d.setState({selectedElementIds:(h={},h[L.id]=!0,h)}),d.state.viewModeEnabled?rn({options:Pg([navigator.clipboard&&an],aa),top:g,left:t,actionManager:d.actionManager,appState:d.state}):rn({options:Pg(Pg([D&&
Vp,D&&navigator.clipboard&&an,D&&navigator.clipboard&&{name:"paste",perform:function(ra,Ua){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},D&&"separator"],aa),["separator",Ge,ye,"separator",X&&wf,ma&&ki,(X||ma)&&"separator",yo,"separator",Ao,ei,f,q,"separator",O,zl]),top:g,left:t,actionManager:d.actionManager,appState:d.state})):(h=Pg(Pg([],aa),[void 0===d.props.gridModeEnabled&&kp,void 0===d.props.zenModeEnabled&&Gd,void 0===d.props.viewModeEnabled&&Ds,Nn]),
(rn({options:h,top:g,left:t,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||rn({options:[D&&navigator.clipboard&&{name:"paste",perform:function(ra,Ua){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},D&&navigator.clipboard&&"separator",sk&&0<wa.length&&mp,Tj&&0<wa.length&&np,(sk&&0<wa.length||Tj&&0<wa.length)&&"separator",I,"separator",void 0===d.props.gridModeEnabled&&kp,void 0===d.props.zenModeEnabled&&Gd,void 0===d.props.viewModeEnabled&&
Ds,Nn],top:g,left:t,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Ke(function(g){if(g.preventDefault(),!Zp){var h=g.deltaX,t=g.deltaY,D=d.state,L=D.selectedElementIds,aa=D.previousSelectedElementIds;if(g.metaKey||g.ctrlKey){g=Math.sign(t);D=Math.abs(t);10<D&&(D=10);D*=g;0!==Object.keys(aa).length&&setTimeout(function(){d.setState({selectedElementIds:aa,previousSelectedElementIds:{}})},1E3);var X=d.state.zoom.value-D/100;return X+=Math.log10(Math.max(1,d.state.zoom.value))*-g,
X=Math.round(X*tb.V4*100)/(100*tb.V4),d.setState(function(ma){var wa=ma.zoom,ra=ma.offsetLeft;ma=ma.offsetTop;return{zoom:fh(Ij(X),wa,{left:ra,top:ma},{x:qp,y:rp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(L).length?L:aa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}g.shiftKey?d.setState(function(ma){return{scrollX:ma.scrollX-(t||h)/ma.zoom.value}}):d.setState(function(ma){var wa=ma.zoom;return{scrollX:ma.scrollX-h/wa.value,scrollY:ma.scrollY-t/wa.value}})}});
this.savePointer=function(g,h,t){var D,L;g&&h&&(g=Gf({clientX:g,clientY:h},d.state),isNaN(g.x)||isNaN(g.y),null===(D=(L=d.props).onPointerUpdate)||void 0===D||D.call(L,{pointer:g,button:t,pointersMap:il}))};this.resetShouldCacheIgnoreZoomDebounced=$i(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==tb.Vi.TEST&&"production"!==tb.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},
set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return ek}},library:{configurable:!0,value:Yg}}));l(8234);l(4651);var Cs=function(d){var g=d.width,h=d.height,t=d.offsetLeft,D=d.offsetTop,L=d.onChange,aa=d.initialData,X=d.excalidrawRef,ma=d.onCollabButtonClick,wa=d.isCollaborating,ra=d.onPointerUpdate,Ua=d.onExportToBackend,Xa=d.renderFooter,Ya=d.langCode;Ya=void 0===Ya?bf.code:Ya;var ub=d.viewModeEnabled,rb=d.zenModeEnabled;d=d.gridModeEnabled;
return(0,Cb.useEffect)(function(){var Ub=function(Ac){"number"==typeof Ac.scale&&1!==Ac.scale&&Ac.preventDefault()};return document.addEventListener("touchmove",Ub,{passive:!1}),function(){document.removeEventListener("touchmove",Ub)}},[]),na().createElement($g,{langCode:Ya},na().createElement(Df,null,na().createElement(Nr,{width:g,height:h,offsetLeft:t,offsetTop:D,onChange:L,initialData:aa,excalidrawRef:X,onCollabButtonClick:ma,isCollaborating:wa,onPointerUpdate:ra,onExportToBackend:Ua,renderFooter:Xa,
langCode:Ya,viewModeEnabled:ub,zenModeEnabled:rb,gridModeEnabled:d})))};Cs.defaultProps={lanCode:bf.code};var It=(0,Cb.forwardRef)(function(d,g){return na().createElement(Cs,Sa()({},d,{excalidrawRef:g}))});const Ft=na().memo(It,function(d,g){d.initialData;var h=Hb()(d,["initialData"]),t=(g.initialData,Hb()(g,["initialData"]));d=Object.keys(d);g=Object.keys(g);return d.length===g.length&&d.every(function(D){return h[D]===t[D]})});l(6009);const Gt=Ft},4698:E=>{E.exports=B},6207:E=>{E.exports=w}},a=
{};return u.m=y,u.n=E=>{var v=E&&E.__esModule?()=>E.default:()=>E;return u.d(v,{a:v}),v},k=Object.getPrototypeOf?E=>Object.getPrototypeOf(E):E=>E.__proto__,u.t=function(E,v){if((1&v&&(E=this(E)),8&v)||"object"==typeof E&&E&&(4&v&&E.__esModule||16&v&&"function"==typeof E.then))return E;var l=Object.create(null);u.r(l);var H={};m=m||[null,k({}),k([]),k(k)];for(v=2&v&&E;"object"==typeof v&&!~m.indexOf(v);v=k(v))Object.getOwnPropertyNames(v).forEach(K=>H[K]=()=>E[K]);return H.default=()=>E,u.d(l,H),l},
u.d=(E,v)=>{for(var l in v)u.o(v,l)&&!u.o(E,l)&&Object.defineProperty(E,l,{enumerable:!0,get:v[l]})},u.f={},u.e=E=>Promise.all(Object.keys(u.f).reduce((v,l)=>(u.f[l](E,v),v),[])),u.u=E=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",
317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[E]+"-"+{9:"4c2d5c85067885b645af",
43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",
465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[E]+".js",u.o=(E,v)=>Object.prototype.hasOwnProperty.call(E,v),r={},u.l=
(E,v,l,H)=>{if(r[E])r[E].push(v);else{var K;if(void 0!==l){H=document.getElementsByTagName("script");for(var P=0;P<H.length;P++){var R=H[P];if(R.getAttribute("src")==E||R.getAttribute("data-webpack")=="Excalidraw:"+l){var ia=R;break}}}ia||(K=!0,(ia=document.createElement("script")).charset="utf-8",ia.timeout=120,u.nc&&ia.setAttribute("nonce",u.nc),ia.setAttribute("data-webpack","Excalidraw:"+l),ia.src=E);r[E]=[v];v=(T,W)=>{ia.onerror=ia.onload=null;clearTimeout(Z);var V=r[E];if(delete r[E],ia.parentNode&&
ia.parentNode.removeChild(ia),V&&V.forEach(Ea=>Ea(W)),T)return T(W)};var Z=setTimeout(v.bind(null,void 0,{type:"timeout",target:ia}),12E4);ia.onerror=v.bind(null,ia.onerror);ia.onload=v.bind(null,ia.onload);K&&document.head.appendChild(ia)}},u.r=E=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"});Object.defineProperty(E,"__esModule",{value:!0})},u.p="",(()=>{var E={163:0};u.f.j=(H,K)=>{var P=u.o(E,H)?E[H]:void 0;if(0!==P)if(P)K.push(P[2]);
else{var R=new Promise((Z,T)=>{P=E[H]=[Z,T]});K.push(P[2]=R);K=u.p+u.u(H);var ia=Error();u.l(K,Z=>{if(u.o(E,H)&&(0!==(P=E[H])&&(E[H]=void 0),P)){var T=Z&&("load"===Z.type?"missing":Z.type);Z=Z&&Z.target&&Z.target.src;ia.message="Loading chunk "+H+" failed.\n("+T+": "+Z+")";ia.name="ChunkLoadError";ia.type=T;ia.request=Z;P[1](ia)}},"chunk-"+H,H)}};var v=(H,K)=>{for(var P,R,[ia,Z,T]=K,W=0,V=[];W<ia.length;W++)R=ia[W],u.o(E,R)&&E[R]&&V.push(E[R][0]),E[R]=0;for(P in Z)u.o(Z,P)&&(u.m[P]=Z[P]);T&&T(u);
for(H&&H(K);V.length;)V.shift()()},l=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];l.forEach(v.bind(null,0));l.push=v.bind(null,l.push.bind(l))})(),u(3956)})()})};
var nVb=function(a,b){var c=$APP.$C();$APP.l(c)&&$APP.EB($APP.fUa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Yk($APP.E(["Error loading ",a,": ",d]))})},pVb=function(a){var b=$APP.gy(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Di(oVb.F(a),b);return a},qVb=new $APP.H(null,"view-mode-enabled","view-mode-enabled",-588220561),rVb=new $APP.H($APP.va,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),sVb=new $APP.H(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),tVb=new $APP.H(null,"grid-mode-enabled","grid-mode-enabled",584978327),uVb=new $APP.H(null,"gridSize","gridSize",843108791),vVb=new $APP.H($APP.va,"elements","frontend.extensions.excalidraw/elements",1745667967),wVb=new $APP.H($APP.va,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),xVb=new $APP.H($APP.va,"data","frontend.extensions.excalidraw/data",-1371036113),yVb=new $APP.H(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
zVb=new $APP.H($APP.va,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),AVb=new $APP.H(null,"appState","appState",-1920687968),BVb=new $APP.H(null,"initial-data","initial-data",-1315709804),oVb=new $APP.H($APP.va,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Tca("excalidraw");var CVb=$APP.Dx(360);var DVb,EVb,FVb,GVb;$APP.fOb={};DVb=$APP.iN($APP.kb(CVb,"default"));EVb=$APP.ml.F(null);
FVb=$APP.ay($APP.ey,function(a,b,c){$APP.VC($APP.ZC);$APP.jy(EVb);var d=$APP.F.B(a,oVb),e=$APP.F.B(a,zVb),f=$APP.F.B(a,rVb),k=$APP.VC($APP.HJa),m=$APP.F.B(a,vVb),n=$APP.kn.F(c);return $APP.l(b)?$APP.T("div",{onMouseDown:function(q){return $APP.OB(q)},className:"overflow-hidden"},[$APP.T("div",{style:{fontSize:10},className:"my-1"},[$APP.T("a",{onClick:$APP.IJa,className:"mr-2"},[$APP.Kx($APP.CB("Wide Mode (%s)",$APP.E([$APP.l(k)?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.nl.B(e,$APP.Dd)},
className:"mr-2"},[$APP.Kx($APP.CB("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.T("a",{onClick:function(){return $APP.nl.B(f,$APP.Dd)},className:"mr-2"},[$APP.Kx($APP.CB("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.T("div",{onMouseDown:function(q){$APP.OB(q);return $APP.XC($APP.qZ,!0)},onBlur:function(){return $APP.XC($APP.qZ,!1)},className:"draw-wrap"},[$APP.Kx(DVb($APP.Rn.K($APP.E([new $APP.h(null,6,[$APP.fV,function(q,u){var x=$APP.Lv(q);return $APP.v(x)&&
$APP.kk.B(q,$APP.r(m))?(u=$APP.Lv(u),$APP.LWa(n,JSON.stringify($APP.Mv(new $APP.h(null,5,[$APP.hn,"excalidraw",$APP.n5a,2,$APP.Vr,$APP.AWa,$APP.k3,q,AVb,$APP.lk(u,new $APP.K(null,2,5,$APP.M,[uVb,sVb],null))],null)))),$APP.Di(m,q)):null},yVb,$APP.r(e),qVb,$APP.r(f),tVb,!1,BVb,b,$APP.sN,$APP.r(d)],null),$APP.l(k)?new $APP.h(null,1,[$APP.rN,650],null):new $APP.h(null,1,[$APP.rN,500],null)]))))])]):null},new $APP.K(null,7,5,$APP.M,[$APP.r6,$APP.hy(800,oVb),$APP.hy(!0,zVb),$APP.hy(!1,rVb),$APP.hy(null,
vVb),new $APP.h(null,1,[$APP.Xx,pVb],null),new $APP.h(null,1,[$APP.Zx,pVb],null)],null),"frontend.extensions.excalidraw/draw-inner");
GVb=$APP.ay($APP.ey,function(a,b){var c=$APP.F.B(a,xVb);a=$APP.F.B(a,wVb);a=$APP.jy(a);c=$APP.jy(c);var d=$APP.VC($APP.YDb);return $APP.l($APP.kn.F(b))?$APP.l(d)?(b=$APP.jV("Loading"),$APP.T("div",$APP.Lf(b)?$APP.Jx($APP.Hx($APP.E([new $APP.h(null,1,[$APP.Gx,new $APP.K(null,1,5,$APP.M,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Lf(b)?null:[$APP.Kx(b)])):!1===a?FVb(c,b):null:null},new $APP.K(null,2,5,$APP.M,[$APP.r6,new $APP.h(null,1,[$APP.Ux,function(a){var b=$APP.by.F(a);b=$APP.C.G(b,
0,null);b=$APP.kn.F(b);var c=$APP.ml.F(null),d=$APP.ml.F(!0);$APP.l(b)&&nVb(b,function(e){if($APP.Dm(e))var f=null;else try{f=JSON.parse(e)}catch(k){if(k instanceof Error)e=k,$APP.Yk($APP.E(["from json error:"])),console.dir(e),f=$APP.IM($APP.eta("Could not load this invalid excalidraw file"),$APP.Lp);else throw k;}$APP.Di(c,f);return $APP.Di(d,!1)});return $APP.P.K(a,xVb,c,$APP.E([wVb,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.gOb=$APP.ay($APP.dy,function(a){var b=$APP.$C(),c=$APP.VC(new $APP.K(null,2,5,$APP.M,[$APP.LM,b],null));return $APP.IE(b)&&$APP.Dd(c)&&$APP.Dd($APP.BB())?null:GVb(a)},new $APP.K(null,1,5,$APP.M,[$APP.r6],null),"frontend.extensions.excalidraw/draw");$APP.nc.Bi();
}).call(this);